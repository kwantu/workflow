(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Workflow = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function Workflow(e,r,i,s){var o=this;if(""===e||void 0===e)throw new Error("A profile id is required.");if("string"!=typeof e)throw new Error("The profile id must be a javascript string.");if(o.profile=e||"",""===r||void 0===r)throw new Error("An app id is required.");if("string"!=typeof r)throw new Error("The app id must be a javascript string.");if(o.app=r||"",""===i||void 0===i)throw new Error("A workflow configuration is required.");"object"!=typeof i?o.config=JSON.parse(i):o.config=i,o.instance=s}var Promise=require("es6-promise").Promise,util=require("./lib/utility"),Process=require("./lib/process"),models=require("./lib/models");Workflow.prototype.create=function(){var e=this;return new Promise(function(r,i){if(void 0!==e.instance){var s=util.warn("Instance already exists.",e.instance);r(s)}else{var o=models.instance();o._id=e.profile+":processes",o.version=e.config.version,e.instance=o;var t=util.success("Workflow processes instance created successfully.",e.instance);r(t)}})},Workflow.prototype.initialize=function(e,r){var i=this;return new Promise(function(s,o){var t=[];if(""!==e&&void 0!==e){if(t=i.config.processes.filter(function(r){return r._id===e?r:void 0}),void 0===t[0]._id){var n=util.error("WF001",err);o(n)}}else t.push(i.config.processes[0]),e=i.config.processes[0]._id;var c=1,u=[];u=i.instance.processes.filter(function(r){return r.id===e?r:void 0});var f=u.length,a=f+1,l={id:"",seq:a,subProcesses:[]};l.id=e,l.seq=c,i.instance.processes.push(l),Process.preRequisites(t[0].prerequisites,i).then(function(n){if(n.complete===!0)Process.preActions(t[0].preActions,i).then(function(n){if(n.complete)Process.subProcess(e,t[0].subProcesses[0],1,r,i).then(function(r){if(r.complete){var t=r.res;i.instance.processes.filter(function(r){r.id===e&&r.subProcesses.push(t)});var n=util.success("Process: "+i.config.processes[0]._id+" initialized successfully.");s(n)}else{var c=util.error("WF008");o(c)}}).fail(function(e){o(e)});else{var c=util.error("WF006");o(c)}}).fail(function(e){o(e)});else{var c=util.error("WF004");o(c)}}).fail(function(e){o(e)})})},Workflow.prototype.task=function(e,r){return new Promise(function(r,i){"indicator.markComplete"===e?r("Success"):i("Error")})},Workflow.prototype.transition=function(e,r,i,s,o,t){return new Promise(function(n,c){Process.transition(e,r,i,s,o,t).then(function(e){var r=util.success("Workflow transitioned to the next step successfully.",o);n(r)}).fail(function(e){c(e)})})},module.exports=Workflow;

},{"./lib/models":3,"./lib/process":4,"./lib/utility":5,"es6-promise":6}],2:[function(require,module,exports){
"use strict";function create(e,s){var r=Q.defer(),t=[];return util.syncLoop(e.indicators.length,function(r){var u=r.iteration(),o=e.indicators[u]._id,c=e.indicators[u].name.i18n.value,i=s.profile+":"+s.app+":"+o+":0",a={_id:i,category:{term:o,label:c},processes:[]};t.push(a),r.next()},function(){var e=util.success("Form created successfully.",t);r.resolve(e)}),r.promise}function save(e){var s=Q.defer(),r={complete:!0,data:[]},t=util.success("Form indicator set saved successfully.",r);return s.resolve(t),s.promise}function submit(e){var s=Q.defer(),r={complete:!0,data:[]},t=util.success("Form submitted successfully.",r);return s.resolve(t),s.promise}function authorise(e){var s=Q.defer(),r={complete:!0,data:[]},t=util.success("Form authorised successfully.",r);return s.resolve(t),s.promise}function close(e){var s=Q.defer(),r={complete:!0,data:[]},t=util.success("Form closed successfully.",r);return s.resolve(t),s.promise}var Q=require("q"),moment=require("moment"),util=require("./utility");module.exports={create:create,save:save,submit:submit,authorise:authorise,close:close};

},{"./utility":5,"moment":7,"q":8}],3:[function(require,module,exports){
"use strict";function instance(){var e={_id:"",version:"",type:"workflowInstance",processes:[]};return e}function configuration(){var e={_id:"1234:mangaungProject",_version:"1.0",type:"workflowConfig",title:{name:{i18n:{_lang:"en",value:"Mangagung project workflow"}},description:{i18n:{_lang:"en",value:"Mangagung project workflow used to manage housing development."}}},identification:{documentation:{i18n:{_lang:"",value:""}},upgradeInformation:{i18n:{_lang:"",value:""}}},variables:{variable:[{_id:"",_dataType:"",_sessionVar:"",_default:"",_value:""}]},roles:{role:[{_id:"",_level:"",name:{i18n:{_lang:"",value:""}},roleMappings:{roleMapping:{_applicationId:"",_roleId:""}},requiredRoles:{requiredRole:{_applicationId:"",_roleId:""}}}]},processes:[{_id:"registration",_seq:"1",name:{i18n:{_lang:"en",value:"Register a project"}},help:{i18n:{_lang:"en",value:"Register a new project"}},variables:[{_id:"",_dataType:"",_sessionVar:"",_default:"",_value:""}],prerequisites:[{_seq:"1",_type:"count",_subject:"monthlyProgress.instance",_operator:"equalTo",_value:"0",message:{i18n:{_lang:"en",value:"The project registration form can't be edited once the monthly progress process has been initiated."}}}],preActions:[{_seq:"",_type:"",funct:{module:"",method:"",params:{param:[]}},rest:{hostId:"",service:"",APIKey:"",format:"",collection:"",endpoint:"",params:{param:[]}}}],subProcesses:[{_id:"spRegistration",_seq:"1",name:{i18n:{_lang:"en",value:"Project Registration Form"}},help:{i18n:{_lang:"en",value:"Register a new project"}},initiate:{_type:"user",maxInstances:"-1",action:{_type:"button",label:"Create"},dates:{valid:{_type:"userSelected",message:{i18n:{_lang:"en",value:"Please select a valid date i.e. the monthly date that the data captured is valid for."}}},due:{_type:"userSelected",message:{i18n:{_lang:"en",value:"Please select a due date i.e. the actual date that the data needs to be captured and authorised by."}}}}},indicators:[{_id:"projectDetail",maxInstances:"1",name:{i18n:{_lang:"en",value:"Project Details"}}},{_id:"projectLocation",maxInstances:"-1",name:{i18n:{_lang:"en",value:"Project Locations"}}},{_id:"developerDetail",maxInstances:"1",name:{i18n:{_lang:"en",value:"Developer Details"}}}],steps:[{_id:"createForm",_seq:"1",_setInstanceStatusTo:"Created",_setStatusMsgTo:"Form created",name:{i18n:{_lang:"en",value:"Create the registration form."}},prerequisites:[{_seq:"",_type:"",_operator:"",_subject:"",_value:"",message:{i18n:{_lang:"en",value:""}}}],actions:[{_seq:"1",_type:"internal",funct:{module:"form",method:"create",type:"newSequence"},transitions:[{_type:"auto",name:{i18n:{_lang:"en",value:""}},goTo:{_type:"nextStep",_stepId:""},_stop:!1}]}]},{_id:"captureForm",_seq:"2",_setStatusTo:"InProgress",_setStatusMsgTo:"User assigned and data capture in progress",name:{i18n:{_lang:"en",value:"Capture"}},prerequisites:[{_seq:"1",_type:"readyToSubmit",_subject:"indicators.complete",_operator:"equalTo",_value:"true",message:{i18n:{_lang:"en",value:"All form indicators have to be marked as complete before submission."}}}],actions:[],task:{assign:{profileRole:{profile:"current",role:"capturer"},"default":""},work:{action:"editForm"},transitions:[{_id:"submitForm",_type:"user",name:{i18n:{_lang:"en",value:"Submit"}},goTo:{_type:"nextStep",_stepId:""},_stop:!1}]}},{_id:"authoriseForm",_seq:"3",_setInstanceStatusTo:"awaitingAuthorisation",_setStatusMsgTo:"Form data submitted, user assigned and form data under review",name:{i18n:{_lang:"en",value:"Review the registration form data."}},prerequisites:[{_seq:"1",_type:"checkRole",_subject:"profileRole",_operator:"equalTo",_value:"authoriser",message:{i18n:{_lang:"en",value:"You have to be an authoriser on the project to approve the form data that has been captured or refer back for further editing."}}}],actions:[],task:{assign:{profileRole:{profile:"current",role:"authoriser"},"default":""},work:{action:"editForm"},transitions:[{_id:"authoriseForm",_type:"user",name:{i18n:{_lang:"en",value:"Authorise"}},goTo:{_type:"nextStep",_stepId:""},_stop:!1},{_id:"revertForm",_type:"user",name:{i18n:{_lang:"en",value:"Refer Back"}},goTo:{_type:"stepId",_stepId:"captureForm"},_stop:!1}]}},{_id:"closeForm",_seq:"5",_setInstanceStatusTo:"Complete",_setStatusMsgTo:"Form locked",name:{i18n:{_lang:"en",value:"Close the registration form."}},actions:[{_seq:"1",_type:"internal",funct:{module:"form",method:"authorise"},transition:[{_type:"auto",name:{i18n:{_lang:"en",value:""}},goTo:{_type:"",_stepId:""},_stop:!0}]}]}]}],postActions:{}}]};return e}function process(){var e={configId:"",instanceId:"",processId:"",subProcessId:"",stepId:"",assignedTo:{userId:"",name:""},token:"",status:"",statusMsg:"",lastUpdated:"",dueDate:""};return e}var Q=require("q"),util=require("./utility");module.exports={configuration:configuration,instance:instance,process:process};

},{"./utility":5,"q":8}],4:[function(require,module,exports){
"use strict";function state(e,t,s){var i,r,n,o,c,a;if(void 0!==u){var u=e.instance.processes.filter(function(e){return e._id===t?e:void 0});i=u.length-1,n=e.instance.processes[i].id,c=e.instance.processes[i].seq}else u=[],i=0,n=t,c=1;if(void 0!==u.subProcesses){var l=u.subProcesses.filter(function(e){return e._id===s?e:void 0});r=l.length-1,o=e.instance.processes[i].subProcesses[r].id,a=e.instance.processes[i].subProcesses[r].seq}else l=[],r=0,o=s,a=1;var d={profileId:e.profile,configId:e.config._id,processId:n,processIndex:i,processSeq:c,subProcessId:o,subProcessIndex:r,subProcessSeq:a};return d}function preRequisites(e){var t=Q.defer(),s={complete:!1,data:[]},i=util.success("Pre-requisites completed successfully.",s);return t.resolve(i),t.promise}function preRequisite(e,t,s){var i=Q.defer();switch(e._type){case"mock":if(util.compare(e._subject,e._operator,e._value)){var r={},n=util.success("Mock successfull.",r);i.resolve(n)}else{var o=util.error("WF006");i.reject(o)}break;case"count":var r={},n=util.success("Mock count successfull.",r);i.resolve(n);break;default:var o=util.error("WF005");i.reject(o)}return i.promise}function preActions(e,t){var s=Q.defer(),i={complete:!1,data:[]},r=util.success("Pre-actions completed successfully.",i);return s.resolve(r),s.promise}function subProcess(e,t,s,i,r){var n=Q.defer(),o={id:t._id,seq:s,initiated:!1,dates:{created:"",valid:"",due:"",closed:""},complete:!1,indicators:[],step:{id:"",seq:"",status:"",message:""}};return initiate(t.initiate,i).then(function(s){if(s.complete){o.initiated=!0,o.dates.created=s.res.createdDate,o.dates.valid=s.res.validDate,o.dates.due=s.res.dueDate;var c={id:t._id,name:t.name.i18n.value,indicators:t.indicators};step(e,t._id,o,t.steps[0],0,c,i,r).then(function(e){if(e.complete){var t=util.success("Sub-Process completed successfully.",e.res);n.resolve(t)}else{var s=util.error("WF019");n.reject(s)}}).fail(function(e){n.reject(e)})}else{var a=util.error("WF011");n.reject(a)}}).fail(function(e){n.reject(e)}),n.promise}function initiate(e,t){var s=Q.defer(),i={complete:!1};switch(e._type){case"user":if(i.createdDate=t.createdDate,"userSelected"===e.dates.valid._type)if(void 0!==t.validDate)i.validDate=t.validDate;else{var r=util.error("WF0013");s.reject(r)}if("userSelected"===e.dates.due._type)if(void 0!==t.dueDate)i.dueDate=t.dueDate;else{var r=util.error("WF0020");s.reject(r)}i.complete=!0;var n=util.success("Sub-Process initiate completed successfully.",i);s.resolve(n);break;default:var r=util.error("WF016");s.reject(r)}return s.promise}function step(e,t,s,i,r,n,o,c){var a=Q.defer();if(s.step.id=i._id,s.step.seq=r,s.step.status=i._setInstanceStatusTo,s.step.message=i._setStatusMsgTo,void 0!==i.actions[0])actions(i.actions,n,c).then(function(n){({id:i._id,seq:r,startDate:o.createdDate,status:i._setInstanceStatusTo,message:i._setStatusMsgTo,assignedTo:{userId:o.userId,name:o.name},comment:o.comment,complete:!1,endDate:""});util.syncLoop(n.res.data[0].form.indicators.length,function(e){var t=e.iteration();({id:n.res.data[0].form.indicators[t].category.term,instances:[{uuid:n.res.data[0].form.indicators[t]._id,key:"",seq:1}]});e.next()},function(){if(0!==i.actions[0].transitions.length)util.syncLoop(i.actions[0].transitions.length,function(r){var n=r.iteration();transition(e,t,i._id,i.actions[0].transitions[n]._id,s,c).then(function(e){var t=util.success("Transition step completed successfully.",s);a.resolve(t)}).fail(function(e){a.reject(e),r["break"]()}),r.next()});else{var r=util.success("No transitions specified in this step.",s);a.resolve(r)}})}).fail(function(e){a.reject(e)});else if(void 0!==i.task){var u=util.success("Task awaiting user action.",s);a.resolve(u)}else{var l=util.error("WF013");a.reject(l)}return a.promise}function actions(e,t,s){var i=Q.defer(),r=[],n={completed:!0,data:[]};return util.syncLoop(e.length,function(o){var c=o.iteration();action(e[c],c,t,s).then(function(e){r.push(e.complete),n.data.push(e.res),o.next()}).fail(function(e){i.reject(e),o["break"]()})},function(){if(r.every(Boolean)){n.completed=!0;var e=util.success("Actions completed successfully.",n);i.resolve(e)}else{n.completed=!1;util.error("Actions failed.",n);i.reject(e)}}),i.promise}function action(e,t,s,i){var r=Q.defer();switch(e._id){case"createForm":form.create(s,i).then(function(t){var i={transitions:[],form:{id:s.id,indicators:[]}};i.transitions=e.transitions,i.form.indicators=t.res;var n=util.success(t.message,i);r.resolve(n)}).fail(function(e){r.reject(e)});break;case"authoriseForm":form.authorise(s,i).then(function(t){var i={transitions:[],form:{id:s.id,indicators:[]}};i.transitions=e.transitions;var n=util.success(t.message,i);r.resolve(n)}).fail(function(e){r.reject(e)});break;case"closeForm":form.close(s,i).then(function(t){var i={transitions:[],form:{id:s.id,indicators:[]}};i.transitions=e.transitions;var n=util.success(t.message,i);r.resolve(n)}).fail(function(e){r.reject(e)});break;default:var n=util.error("WF020");r.reject(n)}return r.promise}function task(e){return"Implementation pending.."}function transition(e,t,s,i,r,n){var o=Q.defer(),c={complete:!1,data:[]},a=n.config.processes.filter(function(t){return t._id===e?t:void 0}),u=a[0].subProcesses.filter(function(e){return e._id===t?e:void 0}),l=u[0].steps.filter(function(e){return e._id===s?e:void 0}),d={};d=void 0!==l[0].actions[0]?l[0].actions[0].transitions.filter(function(e){return e._id===i?e:void 0}):l[0].task.transitions.filter(function(e){return e._id===i?e:void 0});for(var f=0,p=0;p<u[0].steps.length;p++)u[0].steps[p]._id===s&&(f=p);for(var v={},p=0;p<u[0].steps.length;p++){var m=f+1;p===m&&(v=u[0].steps[p])}switch(d[0]._type){case"auto":if("nextStep"===d[0].goTo._type)step(e,t,r,v,f,{},{},n).then(function(e){var t=util.success("Step transition completed successfully.",e.res);o.resolve(t)}).fail(function(e){o.reject(e.stack)});else if(d[0]._stop===!0){var _=util.success("All Step transitions have completed successfully.",c.res);o.resolve(_)}break;case"user":if("nextStep"===d[0].goTo._type)step(e,t,r,v,f,{},{},n).then(function(e){var t=util.success("Step transition completed successfully.",e.res);o.resolve(t)}).fail(function(e){o.reject(e.stack)});else if("stepId"===d[0].goTo._type){for(var h=d[0].goTo._stepId,g=u[0].steps.filter(function(e){return e._id===h?e:void 0}),y=1,p=0;p<u[0].steps.length;p++)u[0].steps[p]._id===h&&(y=p+1);step(e,t,r,g[0],y,{},{},n).then(function(e){var t=util.success("Step transition completed successfully.",e.res);o.resolve(t)}).fail(function(e){o.reject(e.stack)})}else if(d[0]._stop===!0){var _=util.success("All Step transitions have completed successfully.",c.res);o.resolve(_)}break;default:if(d[0]._stop===!0){var _=util.success("All Step transitions have completed successfully.",c.res);o.resolve(_)}else{var b=util.error("WF005");o.reject(b)}}return o.promise}function postActions(){return"Implementation pending.."}function func(){return"Implementation pending.."}var Q=require("q"),moment=require("moment"),util=require("./utility"),form=require("./form");module.exports={state:state,preRequisites:preRequisites,preActions:preActions,subProcess:subProcess,transition:transition};

},{"./form":2,"./utility":5,"moment":7,"q":8}],5:[function(require,module,exports){
"use strict";module.exports={success:function(e,r){var s={complete:!0,message:e,res:r};return s},warn:function(e,r){var s={complete:!0,warning:e,res:r};return console.warn(s),s},error:function(e,r){var s=new Error("");switch(s.name=e,e){case"WF001":return s.message="",s;case"WF002":return s.message="",s;case"WF003":return s.message="",s;case"WF004":return s.message="",s;case"WF005":return s.message="",s;case"WF006":return s.message="",s;case"WF007":return s.message="",s;case"WF008":return s.message="",s;case"WF009":return s.message="",s;case"WF010":return s.message="",s;case"WF011":return s.message="",s;case"WF012":return s.message="",s;case"WF013":return s.message="",s;case"WF014":return s.message="",s;case"WF015":return s.message="",s;case"WF016":return s.message="",s;case"WF017":return s.message="",s;case"WF018":return s.message="",s;case"WF019":return s.message="",s;case"WF020":return s.message="",s;default:return s.name="ERR001",s.message="Default error message, please add a more specific error code and message. See stacktrace for more information.",s}},syncLoop:function(e,r,s){var a=0,n=!1,t=!1,c={next:function(){return n&&t&&s?s():void(e>a?(a++,r(c)):(n=!0,s&&s()))},iteration:function(){return a-1},"break":function(e){n=!0,t=e}};return c.next(),c},compare:function(e,r,s){switch(r){case"greaterThan":return e>s;case"lessThan":return s>e;case"greaterThanEqual":return e>=s;case"lessThanEqual":return s>=e;case"equalTo":return e===s;case"notEqualTo":return e!==s}}};

},{}],6:[function(require,module,exports){
(function (process,global){
(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){G=t}function r(t){Q=t}function o(){return function(){process.nextTick(a)}}function i(){return function(){B(a)}}function s(){var t=0,e=new X(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){t.port2.postMessage(0)}}function c(){return function(){setTimeout(a,1)}}function a(){for(var t=0;J>t;t+=2){var e=tt[t],n=tt[t+1];e(n),tt[t]=void 0,tt[t+1]=void 0}J=0}function f(){try{var t=require,e=t("vertx");return B=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(t,e){var n=this,r=new this.constructor(p);void 0===r[rt]&&k(r);var o=n._state;if(o){var i=arguments[o-1];Q(function(){x(o,r,i,n._result)})}else E(n,r,t,e);return r}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(e){return ut.error=e,ut}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){Q(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===it?S(t,e._result):e._state===st?j(t,e._result):E(e,void 0,function(e){g(t,e)},function(e){j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===et&&constructor.resolve===nt?b(t,n):r===ut?j(t,ut.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,_()):t(n)?w(e,n,v(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),T(t)}function S(t,e){t._state===ot&&(t._result=e,t._state=it,0!==t._subscribers.length&&Q(T,t))}function j(t,e){t._state===ot&&(t._state=st,t._result=e,Q(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+it]=n,o[i+st]=r,0===i&&t._state&&Q(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function M(){this.error=null}function P(t,e){try{return t(e)}catch(n){return ct.error=n,ct}}function x(t,n,r,o){var i,s,u,c,a=e(r);if(a){if(i=P(r,o),i===ct?(c=!0,s=i.error,i=null):u=!0,n===i)return void j(n,d())}else i=o,u=!0;n._state!==ot||(a&&u?g(n,i):c?j(n,s):t===it?S(n,i):t===st&&j(n,i))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function O(){return at++}function k(t){t[rt]=at++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t){return new _t(this,t).promise}function q(t){var e=this;return new e(I(t)?function(n,r){for(var o=t.length,i=0;o>i;i++)e.resolve(t[i]).then(n,r)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function F(t){var e=this,n=new e(p);return j(n,t),n}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(t){this[rt]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&D(),this instanceof L?C(this,t):K())}function N(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[rt]||k(this.promise),I(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function W(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=pt)}var z;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B,G,H,I=z,J=0,Q=function(t,e){tt[J]=t,tt[J+1]=e,J+=2,2===J&&(G?G(a):H())},R="undefined"!=typeof window?window:void 0,V=R||{},X=V.MutationObserver||V.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,tt=new Array(1e3);H=Z?o():X?s():$?u():void 0===R&&"function"==typeof require?f():c();var et=l,nt=h,rt=Math.random().toString(36).substring(16),ot=void 0,it=1,st=2,ut=new M,ct=new M,at=0,ft=Y,lt=q,ht=F,pt=L;L.all=ft,L.race=lt,L.resolve=nt,L.reject=ht,L._setScheduler=n,L._setAsap=r,L._asap=Q,L.prototype={constructor:L,then:et,"catch":function(t){return this.then(null,t)}};var _t=N;N.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ot&&t>n;n++)this._eachEntry(e[n],n)},N.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===nt){var o=v(t);if(o===et&&t._state!==ot)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===pt){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(r(t),e)},N.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===ot&&(this._remaining--,t===st?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},N.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){n._settledAt(it,e,t)},function(t){n._settledAt(st,e,t)})};var dt=W,vt={Promise:pt,polyfill:dt};"function"==typeof define&&define.amd?define(function(){return vt}):"undefined"!=typeof module&&module.exports?module.exports=vt:"undefined"!=typeof this&&(this.ES6Promise=vt),dt()}).call(this);

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":9}],7:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return as.apply(null,arguments)}function t(e){as=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function i(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){for(var n in t)r(t,n)&&(e[n]=t[n]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function o(e,t,n,s){return He(e,t,n,s,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function l(e){return null==e._pf&&(e._pf=u()),e._pf}function d(e){if(null==e._isValid){var t=l(e),n=os.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function h(e){var t=o(NaN);return null!=e?a(l(t),e):l(t).userInvalidated=!0,t}function c(e){return void 0===e}function f(e,t){var n,s,i;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=l(t)),c(t._locale)||(e._locale=t._locale),us.length>0)for(n in us)s=us[n],i=t[s],c(i)||(e[s]=i);return e}function m(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),ls===!1&&(ls=!0,e.updateOffset(this),ls=!1)}function _(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function y(e){return 0>e?Math.ceil(e):Math.floor(e)}function g(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=y(t)),n}function p(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;i>s;s++)(n&&e[s]!==t[s]||!n&&g(e[s])!==g(t[s]))&&a++;return a+r}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function v(t,n){var s=!0;return a(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),s&&(w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),s=!1),n.apply(this,arguments)},n)}function M(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),ds[t]||(w(n),ds[t]=!0)}function S(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function D(e){return"[object Object]"===Object.prototype.toString.call(e)}function k(e){var t,n;for(n in e)t=e[n],S(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function Y(e,t){var n,s=a({},e);for(n in t)r(t,n)&&(D(e[n])&&D(t[n])?(s[n]={},a(s[n],e[n]),a(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);return s}function O(e){null!=e&&this.set(e)}function x(e){return e?e.toLowerCase().replace("_","-"):e}function b(e){for(var t,n,s,i,r=0;r<e.length;){for(i=x(e[r]).split("-"),t=i.length,n=x(e[r+1]),n=n?n.split("-"):null;t>0;){if(s=T(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&p(i,n,!0)>=t-1)break;t--}r++}return null}function T(e){var t=null;if(!ms[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=cs._abbr,require("./locale/"+e),P(t)}catch(n){}return ms[e]}function P(e,t){var n;return e&&(n=c(t)?U(e):W(e,t),n&&(cs=n)),cs._abbr}function W(e,t){return null!==t?(t.abbr=e,null!=ms[e]?(M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=Y(ms[e]._config,t)):null!=t.parentLocale&&(null!=ms[t.parentLocale]?t=Y(ms[t.parentLocale]._config,t):M("parentLocaleUndefined","specified parentLocale is not defined yet")),ms[e]=new O(t),P(e),ms[e]):(delete ms[e],null)}function R(e,t){if(null!=t){var n;null!=ms[e]&&(t=Y(ms[e]._config,t)),n=new O(t),n.parentLocale=ms[e],ms[e]=n,P(e)}else null!=ms[e]&&(null!=ms[e].parentLocale?ms[e]=ms[e].parentLocale:null!=ms[e]&&delete ms[e]);return ms[e]}function U(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return cs;if(!n(e)){if(t=T(e))return t;e=[e]}return b(e)}function C(){return hs(ms)}function H(e,t){var n=e.toLowerCase();_s[n]=_s[n+"s"]=_s[t]=e}function L(e){return"string"==typeof e?_s[e]||_s[e.toLowerCase()]:void 0}function G(e){var t,n,s={};for(n in e)r(e,n)&&(t=L(n),t&&(s[t]=e[n]));return s}function F(t,n){return function(s){return null!=s?(A(this,t,s),e.updateOffset(this,n),this):V(this,t)}}function V(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function A(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function E(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=L(e),S(this[e]))return this[e](t);return this}function N(e,t,n){var s=""+Math.abs(e),i=t-s.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function I(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(ws[e]=i),t&&(ws[t[0]]=function(){return N(i.apply(this,arguments),t[1],t[2])}),n&&(ws[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function j(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Z(e){var t,n,s=e.match(ys);for(t=0,n=s.length;n>t;t++)ws[s[t]]?s[t]=ws[s[t]]:s[t]=j(s[t]);return function(t){var i,r="";for(i=0;n>i;i++)r+=s[i]instanceof Function?s[i].call(t,e):s[i];return r}}function z(e,t){return e.isValid()?(t=$(t,e.localeData()),ps[t]=ps[t]||Z(t),ps[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(gs.lastIndex=0;s>=0&&gs.test(e);)e=e.replace(gs,n),gs.lastIndex=0,s-=1;return e}function q(e,t,n){Gs[e]=S(t)?t:function(e,s){return e&&n?n:t}}function B(e,t){return r(Gs,e)?Gs[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return Q(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(s=function(e,n){n[t]=g(e)}),n=0;n<e.length;n++)Fs[e[n]]=s}function K(e,t){X(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function ee(e,t,n){null!=t&&r(Fs,e)&&Fs[e](t,n._a,n,e)}function te(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ne(e,t){return n(this._months)?this._months[e.month()]:this._months[qs.test(t)?"format":"standalone"][e.month()]}function se(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qs.test(t)?"format":"standalone"][e.month()]}function ie(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;12>s;++s)r=o([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(i=fs.call(this._shortMonthsParse,a),-1!==i?i:null):(i=fs.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?(i=fs.call(this._shortMonthsParse,a),-1!==i?i:(i=fs.call(this._longMonthsParse,a),-1!==i?i:null)):(i=fs.call(this._longMonthsParse,a),-1!==i?i:(i=fs.call(this._shortMonthsParse,a),-1!==i?i:null))}function re(e,t,n){var s,i,r;if(this._monthsParseExact)return ie.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(i=o([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function ae(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=g(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),te(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function oe(t){return null!=t?(ae(this,t),e.updateOffset(this,!0),this):V(this,"Month")}function ue(){return te(this.year(),this.month())}function le(e){return this._monthsParseExact?(r(this,"_monthsRegex")||he.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function de(e){return this._monthsParseExact?(r(this,"_monthsRegex")||he.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function he(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;12>t;t++)n=o([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;12>t;t++)s[t]=Q(s[t]),i[t]=Q(i[t]),r[t]=Q(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ce(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[As]<0||n[As]>11?As:n[Es]<1||n[Es]>te(n[Vs],n[As])?Es:n[Ns]<0||n[Ns]>24||24===n[Ns]&&(0!==n[Is]||0!==n[js]||0!==n[Zs])?Ns:n[Is]<0||n[Is]>59?Is:n[js]<0||n[js]>59?js:n[Zs]<0||n[Zs]>999?Zs:-1,l(e)._overflowDayOfYear&&(Vs>t||t>Es)&&(t=Es),l(e)._overflowWeeks&&-1===t&&(t=zs),l(e)._overflowWeekday&&-1===t&&(t=$s),l(e).overflow=t),e}function fe(e){var t,n,s,i,r,a,o=e._i,u=Ks.exec(o)||ei.exec(o);if(u){for(l(e).iso=!0,t=0,n=ni.length;n>t;t++)if(ni[t][1].exec(u[1])){i=ni[t][0],s=ni[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=si.length;n>t;t++)if(si[t][1].exec(u[3])){r=(u[2]||" ")+si[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!ti.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),be(e)}else e._isValid=!1}function me(t){var n=ii.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(fe(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function _e(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return 100>e&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ge(e){return pe(e)?366:365}function pe(e){return e%4===0&&e%100!==0||e%400===0}function we(){return pe(this.year())}function ve(e,t,n){var s=7+t-n,i=(7+ye(e,0,s).getUTCDay()-t)%7;return-i+s-1}function Me(e,t,n,s,i){var r,a,o=(7+n-s)%7,u=ve(e,s,i),l=1+7*(t-1)+o+u;return 0>=l?(r=e-1,a=ge(r)+l):l>ge(e)?(r=e+1,a=l-ge(e)):(r=e,a=l),{year:r,dayOfYear:a}}function Se(e,t,n){var s,i,r=ve(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return 1>a?(i=e.year()-1,s=a+De(i,t,n)):a>De(e.year(),t,n)?(s=a-De(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function De(e,t,n){var s=ve(e,t,n),i=ve(e+1,t,n);return(ge(e)-s+i)/7}function ke(e,t,n){return null!=e?e:null!=t?t:n}function Ye(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Oe(e){var t,n,s,i,r=[];if(!e._d){for(s=Ye(e),e._w&&null==e._a[Es]&&null==e._a[As]&&xe(e),e._dayOfYear&&(i=ke(e._a[Vs],s[Vs]),e._dayOfYear>ge(i)&&(l(e)._overflowDayOfYear=!0),n=ye(i,0,e._dayOfYear),e._a[As]=n.getUTCMonth(),e._a[Es]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=s[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ns]&&0===e._a[Is]&&0===e._a[js]&&0===e._a[Zs]&&(e._nextDay=!0,e._a[Ns]=0),e._d=(e._useUTC?ye:_e).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ns]=24)}}function xe(e){var t,n,s,i,r,a,o,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,a=4,n=ke(t.GG,e._a[Vs],Se(Le(),1,4).year),s=ke(t.W,1),i=ke(t.E,1),(1>i||i>7)&&(u=!0)):(r=e._locale._week.dow,a=e._locale._week.doy,n=ke(t.gg,e._a[Vs],Se(Le(),r,a).year),s=ke(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(u=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r),1>s||s>De(n,r,a)?l(e)._overflowWeeks=!0:null!=u?l(e)._overflowWeekday=!0:(o=Me(n,s,i,r,a),e._a[Vs]=o.year,e._dayOfYear=o.dayOfYear)}function be(t){if(t._f===e.ISO_8601)return void fe(t);t._a=[],l(t).empty=!0;var n,s,i,r,a,o=""+t._i,u=o.length,d=0;for(i=$(t._f,t._locale).match(ys)||[],n=0;n<i.length;n++)r=i[n],s=(o.match(B(r,t))||[])[0],s&&(a=o.substr(0,o.indexOf(s)),a.length>0&&l(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),d+=s.length),ws[r]?(s?l(t).empty=!1:l(t).unusedTokens.push(r),ee(r,s,t)):t._strict&&!s&&l(t).unusedTokens.push(r);l(t).charsLeftOver=u-d,o.length>0&&l(t).unusedInput.push(o),l(t).bigHour===!0&&t._a[Ns]<=12&&t._a[Ns]>0&&(l(t).bigHour=void 0),l(t).parsedDateParts=t._a.slice(0),l(t).meridiem=t._meridiem,t._a[Ns]=Te(t._locale,t._a[Ns],t._meridiem),Oe(t),ce(t)}function Te(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(s=e.isPM(n),s&&12>t&&(t+=12),s||12!==t||(t=0),t):t}function Pe(e){var t,n,s,i,r;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],be(t),d(t)&&(r+=l(t).charsLeftOver,r+=10*l(t).unusedTokens.length,l(t).score=r,(null==s||s>r)&&(s=r,n=t));a(e,n||t)}function We(e){if(!e._d){var t=G(e._i);e._a=i([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Oe(e)}}function Re(e){var t=new m(ce(Ue(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ue(e){var t=e._i,i=e._f;return e._locale=e._locale||U(e._l),null===t||void 0===i&&""===t?h({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new m(ce(t)):(n(i)?Pe(e):i?be(e):s(t)?e._d=t:Ce(e),d(e)||(e._d=null),e))}function Ce(t){var r=t._i;void 0===r?t._d=new Date(e.now()):s(r)?t._d=new Date(r.valueOf()):"string"==typeof r?me(t):n(r)?(t._a=i(r.slice(0),function(e){return parseInt(e,10)}),Oe(t)):"object"==typeof r?We(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function He(e,t,n,s,i){var r={};return"boolean"==typeof n&&(s=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=i,r._l=n,r._i=e,r._f=t,r._strict=s,Re(r)}function Le(e,t,n,s){return He(e,t,n,s,!1)}function Ge(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Le();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}function Fe(){var e=[].slice.call(arguments,0);return Ge("isBefore",e)}function Ve(){var e=[].slice.call(arguments,0);return Ge("isAfter",e)}function Ae(e){var t=G(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=U(),this._bubble()}function Ee(e){return e instanceof Ae}function Ne(e,t){I(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+N(~~(e/60),2)+t+N(~~e%60,2)})}function Ie(e,t){var n=(t||"").match(e)||[],s=n[n.length-1]||[],i=(s+"").match(li)||["-",0,0],r=+(60*i[1])+g(i[2]);return"+"===i[0]?r:-r}function je(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(_(t)||s(t)?t.valueOf():Le(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):Le(t).local()}function Ze(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function ze(t,n){var s,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Ie(Cs,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(s=Ze(this)),this._offset=t,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==t&&(!n||this._changeInProgress?lt(this,st(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ze(this):null!=t?this:NaN}function $e(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function qe(e){return this.utcOffset(0,e)}function Be(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ze(this),"m")),this}function Je(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ie(Us,this._i)),this}function Qe(e){return this.isValid()?(e=e?Le(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Xe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ke(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),e=Ue(e),e._a){var t=e._isUTC?o(e._a):Le(e._a);this._isDSTShifted=this.isValid()&&p(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function et(){return this.isValid()?!this._isUTC:!1}function tt(){return this.isValid()?this._isUTC:!1}function nt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function st(e,t){var n,s,i,a=e,o=null;return Ee(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(a={},t?a[t]=e:a.milliseconds=e):(o=di.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:g(o[Es])*n,h:g(o[Ns])*n,m:g(o[Is])*n,s:g(o[js])*n,ms:g(o[Zs])*n}):(o=hi.exec(e))?(n="-"===o[1]?-1:1,a={y:it(o[2],n),M:it(o[3],n),w:it(o[4],n),d:it(o[5],n),h:it(o[6],n),m:it(o[7],n),s:it(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=at(Le(a.from),Le(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),s=new Ae(a),Ee(e)&&r(e,"_locale")&&(s._locale=e._locale),s}function it(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function rt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function at(e,t){var n;return e.isValid()&&t.isValid()?(t=je(t,e),e.isBefore(t)?n=rt(e,t):(n=rt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ot(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function ut(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(M(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=st(n,s),lt(this,i,e),this}}function lt(t,n,s,i){var r=n._milliseconds,a=ot(n._days),o=ot(n._months);t.isValid()&&(i=null==i?!0:i,r&&t._d.setTime(t._d.valueOf()+r*s),a&&A(t,"Date",V(t,"Date")+a*s),o&&ae(t,V(t,"Month")+o*s),i&&e.updateOffset(t,a||o))}function dt(e,t){var n=e||Le(),s=je(n,this).startOf("day"),i=this.diff(s,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse",a=t&&(S(t[r])?t[r]():t[r]);return this.format(a||this.localeData().calendar(r,this,Le(n)))}function ht(){return new m(this)}function ct(e,t){var n=_(e)?e:Le(e);return this.isValid()&&n.isValid()?(t=L(c(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function ft(e,t){var n=_(e)?e:Le(e);return this.isValid()&&n.isValid()?(t=L(c(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function mt(e,t,n,s){return s=s||"()",("("===s[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))}function _t(e,t){var n,s=_(e)?e:Le(e);return this.isValid()&&s.isValid()?(t=L(t||"millisecond"),"millisecond"===t?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function yt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function gt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pt(e,t,n){var s,i,r,a;return this.isValid()?(s=je(e,this),s.isValid()?(i=6e4*(s.utcOffset()-this.utcOffset()),t=L(t),"year"===t||"month"===t||"quarter"===t?(a=wt(this,s),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-s,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),n?a:y(a)):NaN):NaN}function wt(e,t){var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,"months");return 0>t-r?(n=e.clone().add(i-1,"months"),s=(t-r)/(r-n)):(n=e.clone().add(i+1,"months"),s=(t-r)/(n-r)),-(i+s)||0}function vt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Mt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?S(Date.prototype.toISOString)?this.toDate().toISOString():z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function St(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=z(this,t);return this.localeData().postformat(n)}function Dt(e,t){return this.isValid()&&(_(e)&&e.isValid()||Le(e).isValid())?st({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kt(e){return this.from(Le(),e)}function Yt(e,t){return this.isValid()&&(_(e)&&e.isValid()||Le(e).isValid())?st({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ot(e){return this.to(Le(),e)}function xt(e){var t;return void 0===e?this._locale._abbr:(t=U(e),null!=t&&(this._locale=t),this)}function bt(){return this._locale}function Tt(e){switch(e=L(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Pt(e){return e=L(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function Wt(){return this._d.valueOf()-6e4*(this._offset||0)}function Rt(){return Math.floor(this.valueOf()/1e3)}function Ut(){return this._offset?new Date(this.valueOf()):this._d}function Ct(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ht(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Lt(){return this.isValid()?this.toISOString():null}function Gt(){return d(this)}function Ft(){return a({},l(this))}function Vt(){return l(this).overflow}function At(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Et(e,t){I(0,[e,e.length],0,t)}function Nt(e){return zt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function It(e){return zt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function jt(){return De(this.year(),1,4)}function Zt(){var e=this.localeData()._week;return De(this.year(),e.dow,e.doy)}function zt(e,t,n,s,i){var r;return null==e?Se(this,s,i).year:(r=De(e,s,i),t>r&&(t=r),$t.call(this,e,t,n,s,i))}function $t(e,t,n,s,i){var r=Me(e,t,n,s,i),a=ye(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function qt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Bt(e){return Se(e,this._week.dow,this._week.doy).week}function Jt(){return this._week.dow}function Qt(){return this._week.doy}function Xt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Kt(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function en(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function tn(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function nn(e){return this._weekdaysShort[e.day()]}function sn(e){return this._weekdaysMin[e.day()]}function rn(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;7>s;++s)r=o([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(i=fs.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=fs.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=fs.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?(i=fs.call(this._weekdaysParse,a),-1!==i?i:(i=fs.call(this._shortWeekdaysParse,a),-1!==i?i:(i=fs.call(this._minWeekdaysParse,a),-1!==i?i:null))):"ddd"===t?(i=fs.call(this._shortWeekdaysParse,a),-1!==i?i:(i=fs.call(this._weekdaysParse,a),-1!==i?i:(i=fs.call(this._minWeekdaysParse,a),-1!==i?i:null))):(i=fs.call(this._minWeekdaysParse,a),-1!==i?i:(i=fs.call(this._weekdaysParse,a),-1!==i?i:(i=fs.call(this._shortWeekdaysParse,a),-1!==i?i:null)))}function an(e,t,n){var s,i,r;if(this._weekdaysParseExact)return rn.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;7>s;s++){if(i=o([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function on(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=en(e,this.localeData()),this.add(e-t,"d")):t}function un(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ln(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function dn(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||fn.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}function hn(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||fn.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function cn(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||fn.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function fn(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],u=[],l=[],d=[];for(t=0;7>t;t++)n=o([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),u.push(i),l.push(r),d.push(s),d.push(i),d.push(r);for(a.sort(e),u.sort(e),l.sort(e),d.sort(e),t=0;7>t;t++)u[t]=Q(u[t]),l[t]=Q(l[t]),d[t]=Q(d[t]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function mn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function _n(){return this.hours()%12||12}function yn(){return this.hours()||24}function gn(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function pn(e,t){return t._meridiemParse}function wn(e){return"p"===(e+"").toLowerCase().charAt(0)}function vn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Mn(e,t){t[Zs]=g(1e3*("0."+e))}function Sn(){return this._isUTC?"UTC":""}function Dn(){return this._isUTC?"Coordinated Universal Time":""}function kn(e){return Le(1e3*e)}function Yn(){return Le.apply(null,arguments).parseZone()}function On(e,t,n){var s=this._calendar[e];return S(s)?s.call(t,n):s}function xn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function bn(){return this._invalidDate}function Tn(e){return this._ordinal.replace("%d",e)}function Pn(e){return e}function Wn(e,t,n,s){var i=this._relativeTime[n];return S(i)?i(e,t,n,s):i.replace(/%d/i,e)}function Rn(e,t){var n=this._relativeTime[e>0?"future":"past"];return S(n)?n(t):n.replace(/%s/i,t)}function Un(e,t,n,s){var i=U(),r=o().set(s,t);return i[n](r,e)}function Cn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Un(e,t,n,"month");var s,i=[];for(s=0;12>s;s++)i[s]=Un(e,s,n,"month");return i}function Hn(e,t,n,s){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=U(),r=e?i._week.dow:0;if(null!=n)return Un(t,(n+r)%7,s,"day");var a,o=[];for(a=0;7>a;a++)o[a]=Un(t,(a+r)%7,s,"day");return o}function Ln(e,t){return Cn(e,t,"months")}function Gn(e,t){return Cn(e,t,"monthsShort")}function Fn(e,t,n){return Hn(e,t,n,"weekdays")}function Vn(e,t,n){return Hn(e,t,n,"weekdaysShort")}function An(e,t,n){return Hn(e,t,n,"weekdaysMin")}function En(){var e=this._data;return this._milliseconds=Fi(this._milliseconds),this._days=Fi(this._days),this._months=Fi(this._months),e.milliseconds=Fi(e.milliseconds),e.seconds=Fi(e.seconds),e.minutes=Fi(e.minutes),e.hours=Fi(e.hours),e.months=Fi(e.months),e.years=Fi(e.years),this}function Nn(e,t,n,s){var i=st(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function In(e,t){return Nn(this,e,t,1)}function jn(e,t){return Nn(this,e,t,-1)}function Zn(e){return 0>e?Math.floor(e):Math.ceil(e)}function zn(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||0>=r&&0>=a&&0>=o||(r+=864e5*Zn(qn(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=y(r/1e3),u.seconds=e%60,t=y(e/60),u.minutes=t%60,n=y(t/60),u.hours=n%24,a+=y(n/24),i=y($n(a)),o+=i,a-=Zn(qn(i)),s=y(o/12),o%=12,u.days=a,u.months=o,u.years=s,this}function $n(e){return 4800*e/146097}function qn(e){return 146097*e/4800}function Bn(e){var t,n,s=this._milliseconds;if(e=L(e),"month"===e||"year"===e)return t=this._days+s/864e5,n=this._months+$n(t),"month"===e?n:n/12;switch(t=this._days+Math.round(qn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function Jn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Qn(e){return function(){return this.as(e)}}function Xn(e){
return e=L(e),this[e+"s"]()}function Kn(e){return function(){return this._data[e]}}function es(){return y(this.days()/7)}function ts(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function ns(e,t,n){var s=st(e).abs(),i=er(s.as("s")),r=er(s.as("m")),a=er(s.as("h")),o=er(s.as("d")),u=er(s.as("M")),l=er(s.as("y")),d=i<tr.s&&["s",i]||1>=r&&["m"]||r<tr.m&&["mm",r]||1>=a&&["h"]||a<tr.h&&["hh",a]||1>=o&&["d"]||o<tr.d&&["dd",o]||1>=u&&["M"]||u<tr.M&&["MM",u]||1>=l&&["y"]||["yy",l];return d[2]=t,d[3]=+e>0,d[4]=n,ts.apply(null,d)}function ss(e,t){return void 0===tr[e]?!1:void 0===t?tr[e]:(tr[e]=t,!0)}function is(e){var t=this.localeData(),n=ns(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function rs(){var e,t,n,s=nr(this._milliseconds)/1e3,i=nr(this._days),r=nr(this._months);e=y(s/60),t=y(e/60),s%=60,e%=60,n=y(r/12),r%=12;var a=n,o=r,u=i,l=t,d=e,h=s,c=this.asSeconds();return c?(0>c?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(l||d||h?"T":"")+(l?l+"H":"")+(d?d+"M":"")+(h?h+"S":""):"P0D"}var as,os;os=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;n>s;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var us=e.momentProperties=[],ls=!1,ds={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var hs;hs=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)r(e,t)&&n.push(t);return n};var cs,fs,ms={},_s={},ys=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,gs=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ps={},ws={},vs=/\d/,Ms=/\d\d/,Ss=/\d{3}/,Ds=/\d{4}/,ks=/[+-]?\d{6}/,Ys=/\d\d?/,Os=/\d\d\d\d?/,xs=/\d\d\d\d\d\d?/,bs=/\d{1,3}/,Ts=/\d{1,4}/,Ps=/[+-]?\d{1,6}/,Ws=/\d+/,Rs=/[+-]?\d+/,Us=/Z|[+-]\d\d:?\d\d/gi,Cs=/Z|[+-]\d\d(?::?\d\d)?/gi,Hs=/[+-]?\d+(\.\d{1,3})?/,Ls=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Gs={},Fs={},Vs=0,As=1,Es=2,Ns=3,Is=4,js=5,Zs=6,zs=7,$s=8;fs=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),H("month","M"),q("M",Ys),q("MM",Ys,Ms),q("MMM",function(e,t){return t.monthsShortRegex(e)}),q("MMMM",function(e,t){return t.monthsRegex(e)}),X(["M","MM"],function(e,t){t[As]=g(e)-1}),X(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[As]=i:l(n).invalidMonth=e});var qs=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Bs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Js="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qs=Ls,Xs=Ls,Ks=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ei=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ti=/Z|[+-]\d\d(?::?\d\d)?/,ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],si=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ii=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=v("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),I("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),H("year","y"),q("Y",Rs),q("YY",Ys,Ms),q("YYYY",Ts,Ds),q("YYYYY",Ps,ks),q("YYYYYY",Ps,ks),X(["YYYYY","YYYYYY"],Vs),X("YYYY",function(t,n){n[Vs]=2===t.length?e.parseTwoDigitYear(t):g(t)}),X("YY",function(t,n){n[Vs]=e.parseTwoDigitYear(t)}),X("Y",function(e,t){t[Vs]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return g(e)+(g(e)>68?1900:2e3)};var ri=F("FullYear",!0);e.ISO_8601=function(){};var ai=v("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Le.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:h()}),oi=v("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Le.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:h()}),ui=function(){return Date.now?Date.now():+new Date};Ne("Z",":"),Ne("ZZ",""),q("Z",Cs),q("ZZ",Cs),X(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ie(Cs,e)});var li=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var di=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,hi=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;st.fn=Ae.prototype;var ci=ut(1,"add"),fi=ut(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var mi=v("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Et("gggg","weekYear"),Et("ggggg","weekYear"),Et("GGGG","isoWeekYear"),Et("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),q("G",Rs),q("g",Rs),q("GG",Ys,Ms),q("gg",Ys,Ms),q("GGGG",Ts,Ds),q("gggg",Ts,Ds),q("GGGGG",Ps,ks),q("ggggg",Ps,ks),K(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=g(e)}),K(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),I("Q",0,"Qo","quarter"),H("quarter","Q"),q("Q",vs),X("Q",function(e,t){t[As]=3*(g(e)-1)}),I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),q("w",Ys),q("ww",Ys,Ms),q("W",Ys),q("WW",Ys,Ms),K(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=g(e)});var _i={dow:0,doy:6};I("D",["DD",2],"Do","date"),H("date","D"),q("D",Ys),q("DD",Ys,Ms),q("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),X(["D","DD"],Es),X("Do",function(e,t){t[Es]=g(e.match(Ys)[0],10)});var yi=F("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),q("d",Ys),q("e",Ys),q("E",Ys),q("dd",function(e,t){return t.weekdaysMinRegex(e)}),q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),q("dddd",function(e,t){return t.weekdaysRegex(e)}),K(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:l(n).invalidWeekday=e}),K(["d","e","E"],function(e,t,n,s){t[s]=g(e)});var gi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vi=Ls,Mi=Ls,Si=Ls;I("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),q("DDD",bs),q("DDDD",Ss),X(["DDD","DDDD"],function(e,t,n){n._dayOfYear=g(e)}),I("H",["HH",2],0,"hour"),I("h",["hh",2],0,_n),I("k",["kk",2],0,yn),I("hmm",0,0,function(){return""+_n.apply(this)+N(this.minutes(),2)}),I("hmmss",0,0,function(){return""+_n.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),gn("a",!0),gn("A",!1),H("hour","h"),q("a",pn),q("A",pn),q("H",Ys),q("h",Ys),q("HH",Ys,Ms),q("hh",Ys,Ms),q("hmm",Os),q("hmmss",xs),q("Hmm",Os),q("Hmmss",xs),X(["H","HH"],Ns),X(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),X(["h","hh"],function(e,t,n){t[Ns]=g(e),l(n).bigHour=!0}),X("hmm",function(e,t,n){var s=e.length-2;t[Ns]=g(e.substr(0,s)),t[Is]=g(e.substr(s)),l(n).bigHour=!0}),X("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Ns]=g(e.substr(0,s)),t[Is]=g(e.substr(s,2)),t[js]=g(e.substr(i)),l(n).bigHour=!0}),X("Hmm",function(e,t,n){var s=e.length-2;t[Ns]=g(e.substr(0,s)),t[Is]=g(e.substr(s))}),X("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Ns]=g(e.substr(0,s)),t[Is]=g(e.substr(s,2)),t[js]=g(e.substr(i))});var Di=/[ap]\.?m?\.?/i,ki=F("Hours",!0);I("m",["mm",2],0,"minute"),H("minute","m"),q("m",Ys),q("mm",Ys,Ms),X(["m","mm"],Is);var Yi=F("Minutes",!1);I("s",["ss",2],0,"second"),H("second","s"),q("s",Ys),q("ss",Ys,Ms),X(["s","ss"],js);var Oi=F("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),H("millisecond","ms"),q("S",bs,vs),q("SS",bs,Ms),q("SSS",bs,Ss);var xi;for(xi="SSSS";xi.length<=9;xi+="S")q(xi,Ws);for(xi="S";xi.length<=9;xi+="S")X(xi,Mn);var bi=F("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var Ti=m.prototype;Ti.add=ci,Ti.calendar=dt,Ti.clone=ht,Ti.diff=pt,Ti.endOf=Pt,Ti.format=St,Ti.from=Dt,Ti.fromNow=kt,Ti.to=Yt,Ti.toNow=Ot,Ti.get=E,Ti.invalidAt=Vt,Ti.isAfter=ct,Ti.isBefore=ft,Ti.isBetween=mt,Ti.isSame=_t,Ti.isSameOrAfter=yt,Ti.isSameOrBefore=gt,Ti.isValid=Gt,Ti.lang=mi,Ti.locale=xt,Ti.localeData=bt,Ti.max=oi,Ti.min=ai,Ti.parsingFlags=Ft,Ti.set=E,Ti.startOf=Tt,Ti.subtract=fi,Ti.toArray=Ct,Ti.toObject=Ht,Ti.toDate=Ut,Ti.toISOString=Mt,Ti.toJSON=Lt,Ti.toString=vt,Ti.unix=Rt,Ti.valueOf=Wt,Ti.creationData=At,Ti.year=ri,Ti.isLeapYear=we,Ti.weekYear=Nt,Ti.isoWeekYear=It,Ti.quarter=Ti.quarters=qt,Ti.month=oe,Ti.daysInMonth=ue,Ti.week=Ti.weeks=Xt,Ti.isoWeek=Ti.isoWeeks=Kt,Ti.weeksInYear=Zt,Ti.isoWeeksInYear=jt,Ti.date=yi,Ti.day=Ti.days=on,Ti.weekday=un,Ti.isoWeekday=ln,Ti.dayOfYear=mn,Ti.hour=Ti.hours=ki,Ti.minute=Ti.minutes=Yi,Ti.second=Ti.seconds=Oi,Ti.millisecond=Ti.milliseconds=bi,Ti.utcOffset=ze,Ti.utc=qe,Ti.local=Be,Ti.parseZone=Je,Ti.hasAlignedHourOffset=Qe,Ti.isDST=Xe,Ti.isDSTShifted=Ke,Ti.isLocal=et,Ti.isUtcOffset=tt,Ti.isUtc=nt,Ti.isUTC=nt,Ti.zoneAbbr=Sn,Ti.zoneName=Dn,Ti.dates=v("dates accessor is deprecated. Use date instead.",yi),Ti.months=v("months accessor is deprecated. Use month instead",oe),Ti.years=v("years accessor is deprecated. Use year instead",ri),Ti.zone=v("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",$e);var Pi=Ti,Wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ri={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ui="Invalid date",Ci="%d",Hi=/\d{1,2}/,Li={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Gi=O.prototype;Gi._calendar=Wi,Gi.calendar=On,Gi._longDateFormat=Ri,Gi.longDateFormat=xn,Gi._invalidDate=Ui,Gi.invalidDate=bn,Gi._ordinal=Ci,Gi.ordinal=Tn,Gi._ordinalParse=Hi,Gi.preparse=Pn,Gi.postformat=Pn,Gi._relativeTime=Li,Gi.relativeTime=Wn,Gi.pastFuture=Rn,Gi.set=k,Gi.months=ne,Gi._months=Bs,Gi.monthsShort=se,Gi._monthsShort=Js,Gi.monthsParse=re,Gi._monthsRegex=Xs,Gi.monthsRegex=de,Gi._monthsShortRegex=Qs,Gi.monthsShortRegex=le,Gi.week=Bt,Gi._week=_i,Gi.firstDayOfYear=Qt,Gi.firstDayOfWeek=Jt,Gi.weekdays=tn,Gi._weekdays=gi,Gi.weekdaysMin=sn,Gi._weekdaysMin=wi,Gi.weekdaysShort=nn,Gi._weekdaysShort=pi,Gi.weekdaysParse=an,Gi._weekdaysRegex=vi,Gi.weekdaysRegex=dn,Gi._weekdaysShortRegex=Mi,Gi.weekdaysShortRegex=hn,Gi._weekdaysMinRegex=Si,Gi.weekdaysMinRegex=cn,Gi.isPM=wn,Gi._meridiemParse=Di,Gi.meridiem=vn,P("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===g(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=v("moment.lang is deprecated. Use moment.locale instead.",P),e.langData=v("moment.langData is deprecated. Use moment.localeData instead.",U);var Fi=Math.abs,Vi=Qn("ms"),Ai=Qn("s"),Ei=Qn("m"),Ni=Qn("h"),Ii=Qn("d"),ji=Qn("w"),Zi=Qn("M"),zi=Qn("y"),$i=Kn("milliseconds"),qi=Kn("seconds"),Bi=Kn("minutes"),Ji=Kn("hours"),Qi=Kn("days"),Xi=Kn("months"),Ki=Kn("years"),er=Math.round,tr={s:45,m:45,h:22,d:26,M:11},nr=Math.abs,sr=Ae.prototype;sr.abs=En,sr.add=In,sr.subtract=jn,sr.as=Bn,sr.asMilliseconds=Vi,sr.asSeconds=Ai,sr.asMinutes=Ei,sr.asHours=Ni,sr.asDays=Ii,sr.asWeeks=ji,sr.asMonths=Zi,sr.asYears=zi,sr.valueOf=Jn,sr._bubble=zn,sr.get=Xn,sr.milliseconds=$i,sr.seconds=qi,sr.minutes=Bi,sr.hours=Ji,sr.days=Qi,sr.weeks=es,sr.months=Xi,sr.years=Ki,sr.humanize=is,sr.toISOString=rs,sr.toString=rs,sr.toJSON=rs,sr.locale=xt,sr.localeData=bt,sr.toIsoString=v("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rs),sr.lang=mi,I("X",0,0,"unix"),I("x",0,0,"valueOf"),q("x",Rs),q("X",Hs),X("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),X("x",function(e,t,n){n._d=new Date(g(e))}),e.version="2.13.0",t(Le),e.fn=Pi,e.min=Fe,e.max=Ve,e.now=ui,e.utc=o,e.unix=kn,e.months=Ln,e.isDate=s,e.locale=P,e.invalid=h,e.duration=st,e.isMoment=_,e.weekdays=Fn,e.parseZone=Yn,e.localeData=U,e.isDuration=Ee,e.monthsShort=Gn,e.weekdaysMin=An,e.defineLocale=W,e.updateLocale=R,e.locales=C,e.weekdaysShort=Vn,e.normalizeUnits=L,e.relativeTimeThreshold=ss,e.prototype=Pi;var ir=e;return ir});

},{}],8:[function(require,module,exports){
(function (process){
!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=t}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var n="undefined"!=typeof window?window:self,e=n.Q;n.Q=t(),n.Q.noConflict=function(){return n.Q=e,this}}}(function(){"use strict";function t(t){return function(){return K.apply(t,arguments)}}function n(t){return t===Object(t)}function e(t){return"[object StopIteration]"===et(t)||t instanceof _}function r(t,n){if(V&&n.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(rt)){for(var e=[],r=n;r;r=r.source)r.stack&&e.unshift(r.stack);e.unshift(t.stack);var i=e.join("\n"+rt+"\n");t.stack=o(i)}}function o(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;++r){var o=n[r];c(o)||i(o)||!o||e.push(o)}return e.join("\n")}function i(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function u(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function c(t){var n=u(t);if(!n)return!1;var e=n[0],r=n[1];return e===H&&r>=q&&ft>=r}function f(){if(V)try{throw new Error}catch(t){var n=t.stack.split("\n"),e=n[0].indexOf("@")>0?n[1]:n[2],r=u(e);if(!r)return;return H=r[0],r[1]}}function s(t,n,e){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(n+" is deprecated, use "+e+" instead.",new Error("").stack),t.apply(t,arguments)}}function p(t){return t instanceof h?t:k(t)?O(t):E(t)}function a(){function t(t){n=t,i.source=t,W(e,function(n,e){p.nextTick(function(){t.promiseDispatch.apply(t,e)})},void 0),e=void 0,r=void 0}var n,e=[],r=[],o=Z(a.prototype),i=Z(h.prototype);if(i.promiseDispatch=function(t,o,i){var u=L(arguments);e?(e.push(u),"when"===o&&i[1]&&r.push(i[1])):p.nextTick(function(){n.promiseDispatch.apply(n,u)})},i.valueOf=function(){if(e)return i;var t=v(n);return m(t)&&(n=t),t},i.inspect=function(){return n?n.inspect():{state:"pending"}},p.longStackSupport&&V)try{throw new Error}catch(u){i.stack=u.stack.substring(u.stack.indexOf("\n")+1)}return o.promise=i,o.resolve=function(e){n||t(p(e))},o.fulfill=function(e){n||t(E(e))},o.reject=function(e){n||t(R(e))},o.notify=function(t){n||W(r,function(n,e){p.nextTick(function(){e(t)})},void 0)},o}function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=a();try{t(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}return n.promise}function d(t){return l(function(n,e){for(var r=0,o=t.length;o>r;r++)p(t[r]).then(n,e)})}function h(t,n,e){void 0===n&&(n=function(t){return R(new Error("Promise does not support operation: "+t))}),void 0===e&&(e=function(){return{state:"unknown"}});var r=Z(h.prototype);if(r.promiseDispatch=function(e,o,i){var u;try{u=t[o]?t[o].apply(r,i):n.call(r,o,i)}catch(c){u=R(c)}e&&e(u)},r.inspect=e,e){var o=e();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=e();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function y(t,n,e,r){return p(t).then(n,e,r)}function v(t){if(m(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function m(t){return t instanceof h}function k(t){return n(t)&&"function"==typeof t.then}function j(t){return m(t)&&"pending"===t.inspect().state}function w(t){return!m(t)||"fulfilled"===t.inspect().state}function g(t){return m(t)&&"rejected"===t.inspect().state}function b(){ot.length=0,it.length=0,ct||(ct=!0)}function x(t,n){ct&&("object"==typeof process&&"function"==typeof process.emit&&p.nextTick.runAfter(function(){-1!==X(it,t)&&(process.emit("unhandledRejection",n,t),ut.push(t))}),it.push(t),n&&"undefined"!=typeof n.stack?ot.push(n.stack):ot.push("(no stack) "+n))}function T(t){if(ct){var n=X(it,t);-1!==n&&("object"==typeof process&&"function"==typeof process.emit&&p.nextTick.runAfter(function(){var e=X(ut,t);-1!==e&&(process.emit("rejectionHandled",ot[n],t),ut.splice(e,1))}),it.splice(n,1),ot.splice(n,1))}}function R(t){var n=h({when:function(n){return n&&T(this),n?n(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return x(n,t),n}function E(t){return h({when:function(){return t},get:function(n){return t[n]},set:function(n,e){t[n]=e},"delete":function(n){delete t[n]},post:function(n,e){return null===n||void 0===n?t.apply(void 0,e):t[n].apply(t,e)},apply:function(n,e){return t.apply(n,e)},keys:function(){return nt(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function O(t){var n=a();return p.nextTick(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}}),n.promise}function S(t){return h({isDef:function(){}},function(n,e){return A(t,n,e)},function(){return p(t).inspect()})}function N(t,n,e){return p(t).spread(n,e)}function D(t){return function(){function n(t,n){var u;if("undefined"==typeof StopIteration){try{u=r[t](n)}catch(c){return R(c)}return u.done?p(u.value):y(u.value,o,i)}try{u=r[t](n)}catch(c){return e(c)?p(c.value):R(c)}return y(u,o,i)}var r=t.apply(this,arguments),o=n.bind(n,"next"),i=n.bind(n,"throw");return o()}}function P(t){p.done(p.async(t)())}function C(t){throw new _(t)}function Q(t){return function(){return N([this,I(arguments)],function(n,e){return t.apply(n,e)})}}function A(t,n,e){return p(t).dispatch(n,e)}function I(t){return y(t,function(t){var n=0,e=a();return W(t,function(r,o,i){var u;m(o)&&"fulfilled"===(u=o.inspect()).state?t[i]=u.value:(++n,y(o,function(r){t[i]=r,0===--n&&e.resolve(t)},e.reject,function(t){e.notify({index:i,value:t})}))},void 0),0===n&&e.resolve(t),e.promise})}function U(t){if(0===t.length)return p.resolve();var n=p.defer(),e=0;return W(t,function(r,o,i){function u(t){n.resolve(t)}function c(){e--,0===e&&n.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function f(t){n.notify({index:i,value:t})}var s=t[i];e++,y(s,u,c,f)},void 0),n.promise}function F(t){return y(t,function(t){return t=Y(t,p),y(I(Y(t,function(t){return y(t,z,z)})),function(){return t})})}function M(t){return p(t).allSettled()}function B(t,n){return p(t).then(void 0,void 0,n)}function $(t,n){return p(t).nodeify(n)}var V=!1;try{throw new Error}catch(G){V=!!G.stack}var H,_,q=f(),z=function(){},J=function(){function t(){for(var t,r;e.next;)e=e.next,t=e.task,e.task=void 0,r=e.domain,r&&(e.domain=void 0,r.enter()),n(t,r);for(;c.length;)t=c.pop(),n(t);o=!1}function n(n,e){try{n()}catch(r){if(u)throw e&&e.exit(),setTimeout(t,0),e&&e.enter(),r;setTimeout(function(){throw r},0)}e&&e.exit()}var e={task:void 0,next:null},r=e,o=!1,i=void 0,u=!1,c=[];if(J=function(t){r=r.next={task:t,domain:u&&process.domain,next:null},o||(o=!0,i())},"object"==typeof process&&"[object process]"===process.toString()&&process.nextTick)u=!0,i=function(){process.nextTick(t)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var f=new MessageChannel;f.port1.onmessage=function(){i=s,f.port1.onmessage=t,t()};var s=function(){f.port2.postMessage(0)};i=function(){setTimeout(t,0),s()}}else i=function(){setTimeout(t,0)};return J.runAfter=function(t){c.push(t),o||(o=!0,i())},J}(),K=Function.call,L=t(Array.prototype.slice),W=t(Array.prototype.reduce||function(t,n){var e=0,r=this.length;if(1===arguments.length)for(;;){if(e in this){n=this[e++];break}if(++e>=r)throw new TypeError}for(;r>e;e++)e in this&&(n=t(n,this[e],e));return n}),X=t(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),Y=t(Array.prototype.map||function(t,n){var e=this,r=[];return W(e,function(o,i,u){r.push(t.call(n,i,u,e))},void 0),r}),Z=Object.create||function(t){function n(){}return n.prototype=t,new n},tt=t(Object.prototype.hasOwnProperty),nt=Object.keys||function(t){var n=[];for(var e in t)tt(t,e)&&n.push(e);return n},et=t(Object.prototype.toString);_="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var rt="From previous event:";p.resolve=p,p.nextTick=J,p.longStackSupport=!1,"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(p.longStackSupport=!0),p.defer=a,a.prototype.makeNodeResolver=function(){var t=this;return function(n,e){n?t.reject(n):arguments.length>2?t.resolve(L(arguments,1)):t.resolve(e)}},p.Promise=l,p.promise=l,l.race=d,l.all=I,l.reject=R,l.resolve=p,p.passByCopy=function(t){return t},h.prototype.passByCopy=function(){return this},p.join=function(t,n){return p(t).join(n)},h.prototype.join=function(t){return p([this,t]).spread(function(t,n){if(t===n)return t;throw new Error("Can't join: not the same: "+t+" "+n)})},p.race=d,h.prototype.race=function(){return this.then(p.race)},p.makePromise=h,h.prototype.toString=function(){return"[object Promise]"},h.prototype.then=function(t,n,e){function o(n){try{return"function"==typeof t?t(n):n}catch(e){return R(e)}}function i(t){if("function"==typeof n){r(t,c);try{return n(t)}catch(e){return R(e)}}return R(t)}function u(t){return"function"==typeof e?e(t):t}var c=this,f=a(),s=!1;return p.nextTick(function(){c.promiseDispatch(function(t){s||(s=!0,f.resolve(o(t)))},"when",[function(t){s||(s=!0,f.resolve(i(t)))}])}),c.promiseDispatch(void 0,"when",[void 0,function(t){var n,e=!1;try{n=u(t)}catch(r){if(e=!0,!p.onerror)throw r;p.onerror(r)}e||f.notify(n)}]),f.promise},p.tap=function(t,n){return p(t).tap(n)},h.prototype.tap=function(t){return t=p(t),this.then(function(n){return t.fcall(n).thenResolve(n)})},p.when=y,h.prototype.thenResolve=function(t){return this.then(function(){return t})},p.thenResolve=function(t,n){return p(t).thenResolve(n)},h.prototype.thenReject=function(t){return this.then(function(){throw t})},p.thenReject=function(t,n){return p(t).thenReject(n)},p.nearer=v,p.isPromise=m,p.isPromiseAlike=k,p.isPending=j,h.prototype.isPending=function(){return"pending"===this.inspect().state},p.isFulfilled=w,h.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},p.isRejected=g,h.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ot=[],it=[],ut=[],ct=!0;p.resetUnhandledRejections=b,p.getUnhandledReasons=function(){return ot.slice()},p.stopUnhandledRejectionTracking=function(){b(),ct=!1},b(),p.reject=R,p.fulfill=E,p.master=S,p.spread=N,h.prototype.spread=function(t,n){return this.all().then(function(n){return t.apply(void 0,n)},n)},p.async=D,p.spawn=P,p["return"]=C,p.promised=Q,p.dispatch=A,h.prototype.dispatch=function(t,n){var e=this,r=a();return p.nextTick(function(){e.promiseDispatch(r.resolve,t,n)}),r.promise},p.get=function(t,n){return p(t).dispatch("get",[n])},h.prototype.get=function(t){return this.dispatch("get",[t])},p.set=function(t,n,e){return p(t).dispatch("set",[n,e])},h.prototype.set=function(t,n){return this.dispatch("set",[t,n])},p.del=p["delete"]=function(t,n){return p(t).dispatch("delete",[n])},h.prototype.del=h.prototype["delete"]=function(t){return this.dispatch("delete",[t])},p.mapply=p.post=function(t,n,e){return p(t).dispatch("post",[n,e])},h.prototype.mapply=h.prototype.post=function(t,n){return this.dispatch("post",[t,n])},p.send=p.mcall=p.invoke=function(t,n){return p(t).dispatch("post",[n,L(arguments,2)])},h.prototype.send=h.prototype.mcall=h.prototype.invoke=function(t){return this.dispatch("post",[t,L(arguments,1)])},p.fapply=function(t,n){return p(t).dispatch("apply",[void 0,n])},h.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},p["try"]=p.fcall=function(t){return p(t).dispatch("apply",[void 0,L(arguments,1)])},h.prototype.fcall=function(){return this.dispatch("apply",[void 0,L(arguments)])},p.fbind=function(t){var n=p(t),e=L(arguments,1);return function(){return n.dispatch("apply",[this,e.concat(L(arguments))])}},h.prototype.fbind=function(){var t=this,n=L(arguments);return function(){return t.dispatch("apply",[this,n.concat(L(arguments))])}},p.keys=function(t){return p(t).dispatch("keys",[])},h.prototype.keys=function(){return this.dispatch("keys",[])},p.all=I,h.prototype.all=function(){return I(this)},p.any=U,h.prototype.any=function(){return U(this)},p.allResolved=s(F,"allResolved","allSettled"),h.prototype.allResolved=function(){return F(this)},p.allSettled=M,h.prototype.allSettled=function(){return this.then(function(t){return I(Y(t,function(t){function n(){return t.inspect()}return t=p(t),t.then(n,n)}))})},p.fail=p["catch"]=function(t,n){return p(t).then(void 0,n)},h.prototype.fail=h.prototype["catch"]=function(t){return this.then(void 0,t)},p.progress=B,h.prototype.progress=function(t){return this.then(void 0,void 0,t)},p.fin=p["finally"]=function(t,n){return p(t)["finally"](n)},h.prototype.fin=h.prototype["finally"]=function(t){return t=p(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n})})},p.done=function(t,n,e,r){return p(t).done(n,e,r)},h.prototype.done=function(t,n,e){var o=function(t){p.nextTick(function(){if(r(t,i),!p.onerror)throw t;p.onerror(t)})},i=t||n||e?this.then(t,n,e):this;"object"==typeof process&&process&&process.domain&&(o=process.domain.bind(o)),i.then(void 0,o)},p.timeout=function(t,n,e){return p(t).timeout(n,e)},h.prototype.timeout=function(t,n){var e=a(),r=setTimeout(function(){n&&"string"!=typeof n||(n=new Error(n||"Timed out after "+t+" ms"),n.code="ETIMEDOUT"),e.reject(n)},t);return this.then(function(t){clearTimeout(r),e.resolve(t)},function(t){clearTimeout(r),e.reject(t)},e.notify),e.promise},p.delay=function(t,n){return void 0===n&&(n=t,t=void 0),p(t).delay(n)},h.prototype.delay=function(t){return this.then(function(n){var e=a();return setTimeout(function(){e.resolve(n)},t),e.promise})},p.nfapply=function(t,n){return p(t).nfapply(n)},h.prototype.nfapply=function(t){var n=a(),e=L(t);return e.push(n.makeNodeResolver()),this.fapply(e).fail(n.reject),n.promise},p.nfcall=function(t){var n=L(arguments,1);return p(t).nfapply(n)},h.prototype.nfcall=function(){var t=L(arguments),n=a();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},p.nfbind=p.denodeify=function(t){var n=L(arguments,1);return function(){var e=n.concat(L(arguments)),r=a();return e.push(r.makeNodeResolver()),p(t).fapply(e).fail(r.reject),r.promise}},h.prototype.nfbind=h.prototype.denodeify=function(){var t=L(arguments);return t.unshift(this),p.denodeify.apply(void 0,t)},p.nbind=function(t,n){var e=L(arguments,2);return function(){function r(){return t.apply(n,arguments)}var o=e.concat(L(arguments)),i=a();return o.push(i.makeNodeResolver()),p(r).fapply(o).fail(i.reject),i.promise}},h.prototype.nbind=function(){var t=L(arguments,0);return t.unshift(this),p.nbind.apply(void 0,t)},p.nmapply=p.npost=function(t,n,e){return p(t).npost(n,e)},h.prototype.nmapply=h.prototype.npost=function(t,n){var e=L(n||[]),r=a();return e.push(r.makeNodeResolver()),this.dispatch("post",[t,e]).fail(r.reject),r.promise},p.nsend=p.nmcall=p.ninvoke=function(t,n){var e=L(arguments,2),r=a();return e.push(r.makeNodeResolver()),p(t).dispatch("post",[n,e]).fail(r.reject),r.promise},h.prototype.nsend=h.prototype.nmcall=h.prototype.ninvoke=function(t){var n=L(arguments,1),e=a();return n.push(e.makeNodeResolver()),this.dispatch("post",[t,n]).fail(e.reject),e.promise},p.nodeify=$,h.prototype.nodeify=function(t){return t?void this.then(function(n){p.nextTick(function(){t(null,n)})},function(n){p.nextTick(function(){t(n)})}):this},p.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ft=f();return p});

}).call(this,require('_process'))

},{"_process":9}],9:[function(require,module,exports){
function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}]},{},[1])(1)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Vzci9sb2NhbC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9icmVudGdvcmRvbjAxL2FwcHMvd29ya2Zsb3cvaW5kZXguanMiLCIvVXNlcnMvYnJlbnRnb3Jkb24wMS9hcHBzL3dvcmtmbG93L2xpYi9mb3JtLmpzIiwiL1VzZXJzL2JyZW50Z29yZG9uMDEvYXBwcy93b3JrZmxvdy9saWIvbW9kZWxzLmpzIiwiL1VzZXJzL2JyZW50Z29yZG9uMDEvYXBwcy93b3JrZmxvdy9saWIvcHJvY2Vzcy5qcyIsIi9Vc2Vycy9icmVudGdvcmRvbjAxL2FwcHMvd29ya2Zsb3cvbGliL3V0aWxpdHkuanMiLCIvVXNlcnMvYnJlbnRnb3Jkb24wMS9hcHBzL3dvcmtmbG93L25vZGVfbW9kdWxlcy9lczYtcHJvbWlzZS9kaXN0L2VzNi1wcm9taXNlLmpzIiwiL1VzZXJzL2JyZW50Z29yZG9uMDEvYXBwcy93b3JrZmxvdy9ub2RlX21vZHVsZXMvbW9tZW50L21vbWVudC5qcyIsIi9Vc2Vycy9icmVudGdvcmRvbjAxL2FwcHMvd29ya2Zsb3cvbm9kZV9tb2R1bGVzL3EvcS5qcyIsIi91c3IvbG9jYWwvbGliL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxZQWlDQSxTQUFTLFVBQVMsRUFBUyxFQUFLLEVBQVEsR0FFdkMsR0FBSSxHQUFRLElBRVosSUFBZ0IsS0FBWixHQUE4QixTQUFaLEVBQ2YsS0FBTSxJQUFJLE9BQU0sNEJBQ2IsSUFBd0IsZ0JBQWQsR0FDaEIsS0FBTSxJQUFJLE9BQU0sOENBS3BCLElBSEksRUFBTSxRQUFVLEdBQVcsR0FHbkIsS0FBUixHQUFzQixTQUFSLEVBQ1gsS0FBTSxJQUFJLE9BQU0seUJBQ2IsSUFBb0IsZ0JBQVYsR0FD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QUFNLEdBRXJCLFFBREEsRUFBSyxLQUFPLEVBQ0osR0FDUCxJQUFLLFFBRUosTUFEQSxHQUFLLFFBQVUsR0FDUixDQUNSLEtBQUssUUFFSixNQURBLEdBQUssUUFBVSxHQUNSLENBQ1IsS0FBSyxRQUVKLE1BREEsR0FBSyxRQUFVLEdBQ1IsQ0FDUixLQUFLLFFBRUosTUFEQSxHQUFLLFFBQVUsR0FDUixDQUNSLEtBQUssUUFFSixNQURBLEdBQUssUUFBVSxHQUNSLENBQ1IsS0FBSyxRQUVKLE1BREEsR0FBSyxRQUFVLEdBQ1IsQ0FDUixLQUFLLFFBRUosTUFEQSxHQUFLLFFBQVUsR0FDUixDQUNSLEtBQUssUUFFSixNQURBLEdBQUssUUFBVSxHQUNSLENBQ1IsS0FBSyxRQUVKLE1BREEsR0FBSyxRQUFVLEdBQ1IsQ0FDUixLQUFLLFFBRUosTUFEQSxHQUFLLFFBQVUsR0FDUixDQUNSLEtBQUssUUFFSixNQURBLEdBQUssUUFBVSxHQUNSLENBQ1IsS0FBSyxRQUVKLE1BREEsR0FBSyxRQUFVLEdBQ1IsQ0FDUixLQUFLLFFBRUosTUFEQSxHQUFLLFFBQVUsR0FDUixDQUNSLEtBQUssUUFFSixNQURBLEdBQUssUUFBVSxHQUNSLENBQ1IsS0FBSyxRQUVKLE1BREEsR0FBSyxRQUFVLEdBQ1IsQ0FDUixLQUFLLFFBRUosTUFEQSxHQUFLLFFBQVUsR0FDUixDQUNSLEtBQUssUUFFSixNQURBLEdBQUssUUFBVSxHQUNSLENBQ1IsS0FBSyxRQUVKLE1BREEsR0FBSyxRQUFVLEdBQ1IsQ0FDUixLQUFLLFFBRUosTUFEQSxHQUFLLFFBQVUsR0FDUixDQUNSLEtBQUssUUFFSixNQURBLEdBQUssUUFBVSxHQUNSLENBQ1IsU0FHQyxNQUZBLEdBQUssS0FBTyxTQUNaLEVBQUssUUFBVSxpSEFDUixJQUlULFNBQVUsU0FBUyxFQUFZLEVBQVMsR0FDckMsR0FBSSxHQUFRLEVBQ1IsR0FBTyxFQUNQLEdBQWEsRUFDYixHQUNBLEtBQUssV0FDRCxNQUFHLElBQ0ksR0FBYyxFQUNOLFNBSUosRUFBUixHQUNDLElBQ0EsRUFB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LFFBQVEsUUFBVSxHQUNsQixRQUFRLFlBSVIsUUFBUSxHQUFLLEtBQ2IsUUFBUSxZQUFjLEtBQ3RCLFFBQVEsS0FBTyxLQUNmLFFBQVEsSUFBTSxLQUNkLFFBQVEsZUFBaUIsS0FDekIsUUFBUSxtQkFBcUIsS0FDN0IsUUFBUSxLQUFPLEtBRWYsUUFBUSxRQUFVLFNBQVUsR0FDeEIsS0FBTSxJQUFJLE9BQU0scUNBR3BCLFFBQVEsSUFBTSxXQUFjLE1BQU8sS0FDbkMsUUFBUSxNQUFRLFNBQVUsR0FDdEIsS0FBTSxJQUFJLE9BQU0sbUNBRXBCLFFBQVEsTUFBUSxXQUFhLE1BQU8iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUHJvbWlzZSA9IHJlcXVpcmUoJ2VzNi1wcm9taXNlJykuUHJvbWlzZTtcblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL2xpYi91dGlsaXR5Jyk7XG52YXIgUHJvY2VzcyA9IHJlcXVpcmUoJy4vbGliL3Byb2Nlc3MnKTtcbnZhciBtb2RlbHMgPSByZXF1aXJlKCcuL2xpYi9tb2RlbHMnKTtcblxuLypnbG9iYWxzICovXG5cbi8qKiBcbiAqIEt3YW50dSB3b3JrZmxvdyBlbmdpbmVcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9maWxlIC0gUHJvZmlsZSBVVUlEXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gLSBXb3JrZmxvdyBjb25maWd1cmF0aW9uXG4gKiBcdEBwYXJhbSB7c3RyaW5nfSBjb25maWcuX2lkIFxuICpcdFdvcmtmbG93IGNvbmZpZ3VyYXRpb24gLyBkZWZpbml0aW9uIElEXG4gKiBAcGFyYW0ge09iamVjdH0gW2luc3RhbmNlXSAtIFdvcmtmbG93IGluc3RhbmNlXG4gKiBcdEBwYXJhbSB7c3RyaW5nfSBpbnN0YW5jZS5faWQgXG4gKlx0V29ya2Zsb3cgaW5zdGFuY2UgSURcbiAqIEBhdXRob3IgQnJlbnQgR29yZG9uXG4gKiBAdmVyc2lvbiAwLjEuMFxuICpcbiAqIEBleGFtcGxlIG5ldyBXb3JrZmxvdygnMTIzNCcsIHt9KVxuICogXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBuZXcgV29ya2Zsb3cgb2JqZWN0XG4gKlxuICogQHRocm93cyBcIkVSUk9SOiBNZXNzYWdlXCJcbiAqXG4gKi9cblxuZnVuY3Rpb24gV29ya2Zsb3cocHJvZmlsZSwgYXBwLCBjb25maWcsIGluc3RhbmNlKXtcblx0Ly9cblx0dmFyIF90aGlzID0gdGhpcztcblx0Ly8gUHJvZmlsZSBJRCB2YWxpZGF0aW9uIGNoZWNrc1xuXHRpZiAocHJvZmlsZSA9PT0gJycgfHwgcHJvZmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQSBwcm9maWxlIGlkIGlzIHJlcXVpcmVkLicpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mKHByb2ZpbGUpICE9PSAnc3RyaW5nJykge1xuICAgIFx0dGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvZmlsZSBpZCBtdXN0IGJlIGEgamF2YXNjcmlwdCBzdHJpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICBcdF90aGlzLnByb2ZpbGUgPSBwcm9maWxlIHx8ICcnO1xuICAgIH1cbiAgICAvLyBBcHAgSUQgdmFsaWRhdGlvbiBjaGVja3Ncblx0aWYgKGFwcCA9PT0gJycgfHwgYXBwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbiBhcHAgaWQgaXMgcmVxdWlyZWQuJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YoYXBwKSAhPT0gJ3N0cmluZycpIHtcbiAgICBcdHRocm93IG5ldyBFcnJvcignVGhlIGFwcCBpZCBtdXN0IGJlIGEgamF2YXNjcmlwdCBzdHJpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICBcdF90aGlzLmFwcCA9IGFwcCB8fCAnJztcbiAgICB9XG4gICAgLy8gV29ya2Zsb3cgY29uZmlndXJhdGlvbiB2YWxpZGF0aW9uIGNoZWNrc1xuICAgIGlmIChjb25maWcgPT09ICcnIHx8IGNvbmZpZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgXHR0aHJvdyBuZXcgRXJyb3IoJ0Egd29ya2Zsb3cgY29uZmlndXJhdGlvbiBpcyByZXF1aXJlZC4nKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZihjb25maWcpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBfdGhpcy5jb25maWcgPSBKU09OLnBhcnNlKGNvbmZpZyk7XG4gICAgfSBlbHNlIHtcbiAgICBcdF90aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG4gICAgLy8gV29ya2Zsb3cgaW5zdGFuY2UgdmFsaWRhdGlvbiBjaGVja3NcbiAgICBfdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xufVxuXG4vKiogXG4gKiBDcmVhdGUgYSBuZXcgd29ya2Zsb3cgcHJvY2Vzcy5cbiAqXG4gKiBAZXhhbXBsZSBcbiAqIFdvcmtmbG93LmNyZWF0ZSgpO1xuICpcbiAqIEByZXR1cm4gU3VjY2VzcyAvIGVycm9yIG1lc3NhZ2Ugd2l0aCB0aGUgbmV3bHkgY3JlYXRlZCB3b3JrZmxvdyBwcm9jZXNzZXNcbiAqIGluc3RhbmNlIGRhdGEuXG4gKlxuICovXG5Xb3JrZmxvdy5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oKXtcblx0Ly9cblx0dmFyIF90aGlzID0gdGhpcztcblx0Ly8gVXNlIHRoZSBuYXRpdmUgZXM2IFByb21pc2UgY29uc3RydWN0b3Jcblx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdGlmIChfdGhpcy5pbnN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR2YXIgd2FybiA9IHV0aWwud2FybignSW5zdGFuY2UgYWxyZWFkeSBleGlzdHMuJywgX3RoaXMuaW5zdGFuY2UpXG5cdFx0XHRyZXNvbHZlKHdhcm4pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBDcmVhdGUgdGhlIHdvcmtmbG93IHByb2Nlc3NlcyBpbnN0YW5jZSBvYmplY3Rcblx0XHRcdHZhciBtb2RlbCA9IG1vZGVscy5pbnN0YW5jZSgpO1xuXHRcdFx0bW9kZWwuX2lkID0gX3RoaXMucHJvZmlsZSArICc6cHJvY2Vzc2VzJztcblx0XHRcdG1vZGVsLnZlcnNpb24gPSBfdGhpcy5jb25maWcudmVyc2lvbjtcblx0XHRcdC8vIFVwZGF0ZSB0aGUgcHJvY2Vzc2VzIGFuZCBzdWJQcm9jZXNzZXMgc2VjdGlvbnMgd2l0aCBkZWZhdWx0c1xuXHRcdFx0Ly8gbW9kZWwucHJvY2Vzc2VzWzBdLmlkID0gX3RoaXMuY29uZmlnLnByb2Nlc3Nlc1swXS5faWQ7XG5cdFx0XHQvLyBtb2RlbC5wcm9jZXNzZXNbMF0uc2VxID0gMTtcblx0XHRcdF90aGlzLmluc3RhbmNlID0gbW9kZWw7XG5cdFx0XHR2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnV29ya2Zsb3cgcHJvY2Vzc2VzIGluc3RhbmNlIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5LicsIF90aGlzLmluc3RhbmNlKTtcblx0XHRcdHJlc29sdmUoc3VjY2Vzcyk7XG5cdFx0fVxuXHR9KTtcbn07XG5cbi8qKiBcbiAqIFdvcmtmbG93IGluaXRpYWxpemUsIHRoaXMgZnVuY3Rpb24gZXhlY3V0ZXMgYSBwcm9jZXNzIHdpdGhpbiBhIHdvcmtmbG93XG4gKiBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9jZXNzSWQgLSB0aGUgcHJvY2VzcyBpZCB0byBwcm9jZXNzXG4gKiBAcGFyYW0ge29iamVjdH0gaW5wdXREYXRhIC0gdGhlIGlucHV0IGRhdGEgdG8gcHJvY2Vzc1xuICpcbiAqIEBleGFtcGxlIFxuICogV29ya2Zsb3cuaW5pdGlhbGl6ZSgncHJvY2Vzc0lkJywgeyB2YWxpZERhdGU6ICdkYXRlJyB9KTtcbiAqXG4gKiBAcmV0dXJuIFxuICogeyBjb21wbGV0ZTogdHJ1ZSwgbWVzc2FnZTogJ1Byb2Nlc3M6ICdwcm9jZXNzSWQnIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseS4nLCByZXM6IHVuZGVmaW5lZCB9XG4gKlxuICovXG5Xb3JrZmxvdy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKHByb2Nlc3NJZCwgaW5wdXREYXRhKXtcblx0Ly8gUmUtYXNzaWduIHRoaXMgXG5cdHZhciBfdGhpcyA9IHRoaXM7XG5cdC8vIFVzZSB0aGUgbmF0aXZlIGVzNiBQcm9taXNlIGNvbnN0cnVjdG9yXG5cdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHR2YXIgY29uZmlnUHJvY2VzcyA9IFtdO1xuXHRcdC8vIENoZWNrIHRoZSBwYXNzZWQgaW4gcGFyYW1ldGVyc1xuXHRcdGlmIChwcm9jZXNzSWQgIT09ICcnICYmIHByb2Nlc3NJZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBHZXQgdGhlIGN1cnJlbnQgcHJvY2VzcyBjb25maWdcblx0XHRcdGNvbmZpZ1Byb2Nlc3MgPSBfdGhpcy5jb25maWcucHJvY2Vzc2VzLmZpbHRlcihmdW5jdGlvbihvYmpQcm9jZXNzKXtcblx0XHRcdFx0aWYgKG9ialByb2Nlc3MuX2lkID09PSBwcm9jZXNzSWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gb2JqUHJvY2Vzcztcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoY29uZmlnUHJvY2Vzc1swXS5faWQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHR2YXIgZXJyb3IgPSB1dGlsLmVycm9yKCdXRjAwMScsIGVycik7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbmZpZ1Byb2Nlc3MucHVzaChfdGhpcy5jb25maWcucHJvY2Vzc2VzWzBdKTtcblx0XHRcdHByb2Nlc3NJZCA9IF90aGlzLmNvbmZpZy5wcm9jZXNzZXNbMF0uX2lkO1xuXHRcdH1cblx0XHQvLyBHZXQgdGhlIGN1cnJlbnQgbGlzdCBvZiBwcm9jZXNzIGluc3RhbmNlc1xuXHRcdHZhciBwcm9jZXNzU2VxID0gMTtcblx0XHR2YXIgY3VycmVudFByb2Nlc3MgPSBbXTtcblx0XHRjdXJyZW50UHJvY2VzcyA9IF90aGlzLmluc3RhbmNlLnByb2Nlc3Nlcy5maWx0ZXIoZnVuY3Rpb24ob2JqUHJvY2Vzcyl7XG5cdFx0XHRpZiAob2JqUHJvY2Vzcy5pZCA9PT0gcHJvY2Vzc0lkKSB7XG5cdFx0XHRcdHJldHVybiBvYmpQcm9jZXNzO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50U2VxID0gY3VycmVudFByb2Nlc3MubGVuZ3RoO1xuXHRcdHZhciBuZXh0U2VxID0gY3VycmVudFNlcSArIDE7XG5cdFx0Ly8gUHVzaCB0aGUgcHJvY2VzcyBvYmplY3QgaW50byB0aGUgYXJyYXlcblx0XHR2YXIgcHJvY2Vzc01vZGVsID0ge1xuXHRcdFx0XCJpZFwiOiBcIlwiLCBcblx0ICAgICAgXHRcInNlcVwiOiBuZXh0U2VxLCBcblx0ICAgICAgXHRcInN1YlByb2Nlc3Nlc1wiOiBbXVxuXHRcdH1cblx0XHQvLyAxLiBVcGRhdGUgdGhlIHByb2Nlc3MgaWQgYW5kIHNlcVxuXHRcdHByb2Nlc3NNb2RlbC5pZCA9IHByb2Nlc3NJZDtcblx0XHRwcm9jZXNzTW9kZWwuc2VxID0gcHJvY2Vzc1NlcTtcblx0XHRfdGhpcy5pbnN0YW5jZS5wcm9jZXNzZXMucHVzaChwcm9jZXNzTW9kZWwpO1xuXHRcdC8vIDIuIENvbXBsZXRlIGFsbCB0aGUgcHJvY2VzcyBwcmVyZXF1aXNpdGVzXG5cdFx0UHJvY2Vzcy5wcmVSZXF1aXNpdGVzKGNvbmZpZ1Byb2Nlc3NbMF0ucHJlcmVxdWlzaXRlcywgX3RoaXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcblx0XHRcdC8vIENoZWNrIGlmIGFsbCBwcmUtcmVxdWlzaXRlcyB3ZXJlIG1ldFxuXHRcdFx0aWYgKHJlc3VsdC5jb21wbGV0ZSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHQvLyAzLiBDb21wbGV0ZSBhbGwgdGhlIHByb2Nlc3MgcHJlLWFjdGlvbnNcblx0XHRcdFx0UHJvY2Vzcy5wcmVBY3Rpb25zKGNvbmZpZ1Byb2Nlc3NbMF0ucHJlQWN0aW9ucywgX3RoaXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcblx0XHRcdFx0XHQvLyBDaGVjayBpZiBhbGwgcHJlLWFjdGlvbnMgd2VyZSBtZXRcblx0XHRcdFx0XHRpZiAocmVzdWx0LmNvbXBsZXRlKSB7XG5cdFx0XHRcdFx0XHQvLyA0LiBJbml0aWFsaXNlIHRoZSBmaXJzdCBzdWItcHJvY2Vzc1xuXHRcdFx0XHRcdFx0UHJvY2Vzcy5zdWJQcm9jZXNzKHByb2Nlc3NJZCwgY29uZmlnUHJvY2Vzc1swXS5zdWJQcm9jZXNzZXNbMF0sIDEsIGlucHV0RGF0YSwgX3RoaXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcblx0XHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgc3ViLXByb2Nlc3MgaW5pdGlhbGlzYXRpb24gd2FzIHN1Y2Nlc3NmdWxsXG5cdFx0XHRcdFx0XHRcdGlmIChyZXN1bHQuY29tcGxldGUpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyA1LiBVcGRhdGUgdGhlIHN1YlByb2Nlc3Mgc2VjdGlvbiBkZXRhaWxzIGluIHRoZSBwcm9jZXNzZXMgbW9kZWxcblx0XHRcdFx0XHRcdFx0XHR2YXIgc3ViUHJvY2Vzc01vZGVsID0gcmVzdWx0LnJlcztcblx0XHRcdFx0XHRcdFx0XHQvLyBfdGhpcy5pbnN0YW5jZS5wcm9jZXNzZXNbcHJvY2Vzc0luZGV4XS5zdWJQcm9jZXNzZXMucHVzaChzdWJQcm9jZXNzTW9kZWwpO1xuXHRcdFx0XHRcdFx0XHRcdF90aGlzLmluc3RhbmNlLnByb2Nlc3Nlcy5maWx0ZXIoZnVuY3Rpb24ob2JqUHJvY2Vzcyl7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAob2JqUHJvY2Vzcy5pZCA9PT0gcHJvY2Vzc0lkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9ialByb2Nlc3Muc3ViUHJvY2Vzc2VzLnB1c2goc3ViUHJvY2Vzc01vZGVsKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnUHJvY2VzczogJyArIF90aGlzLmNvbmZpZy5wcm9jZXNzZXNbMF0uX2lkICsgJyBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHkuJyk7XG5cdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZShzdWNjZXNzKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgZXJyb3IgPSB1dGlsLmVycm9yKCdXRjAwOCcpO1xuXHRcdFx0XHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pLmZhaWwoZnVuY3Rpb24oZXJyKXtcblx0XHRcdFx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dmFyIGVycm9yID0gdXRpbC5lcnJvcignV0YwMDYnKTtcblx0XHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5mYWlsKGZ1bmN0aW9uKGVycil7XG5cdFx0XHRcdFx0cmVqZWN0KGVycik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIGVycm9yID0gdXRpbC5lcnJvcignV0YwMDQnKTtcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdH1cblx0XHR9KS5mYWlsKGZ1bmN0aW9uKGVycil7XG5cdFx0XHRyZWplY3QoZXJyKTtcblx0XHR9KTtcblx0fSk7XG59O1xuXG5Xb3JrZmxvdy5wcm90b3R5cGUudGFzayA9IGZ1bmN0aW9uKHR5cGUsIHBhcmFtcyl7XG5cdC8vIFJlLWFzc2lnbiB0aGlzIFxuXHR2YXIgX3RoaXMgPSB0aGlzO1xuXHQvLyBVc2UgdGhlIG5hdGl2ZSBlczYgUHJvbWlzZSBjb25zdHJ1Y3RvclxuXHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0aWYgKHR5cGUgPT09ICdpbmRpY2F0b3IubWFya0NvbXBsZXRlJykge1xuXHRcdFx0cmVzb2x2ZSgnU3VjY2VzcycpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZWplY3QoJ0Vycm9yJyk7XG5cdFx0fVxuXHR9KTtcbn07XG5cbldvcmtmbG93LnByb3RvdHlwZS50cmFuc2l0aW9uID0gZnVuY3Rpb24ocHJvY2Vzc0lkLCBzdWJQcm9jZXNzSWQsIHN0ZXBJZCwgdHJhbnNpdGlvbklkLCBzdWJQcm9jZXNzTW9kZWwsIHdvcmtmbG93KXtcblx0Ly8gUmUtYXNzaWduIHRoaXMgXG5cdHZhciBfdGhpcyA9IHRoaXM7XG5cdC8vIFVzZSB0aGUgbmF0aXZlIGVzNiBQcm9taXNlIGNvbnN0cnVjdG9yXG5cdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRQcm9jZXNzLnRyYW5zaXRpb24ocHJvY2Vzc0lkLCBzdWJQcm9jZXNzSWQsIHN0ZXBJZCwgdHJhbnNpdGlvbklkLCBzdWJQcm9jZXNzTW9kZWwsIHdvcmtmbG93KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG5cdFx0XHR2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnV29ya2Zsb3cgdHJhbnNpdGlvbmVkIHRvIHRoZSBuZXh0IHN0ZXAgc3VjY2Vzc2Z1bGx5LicsIHN1YlByb2Nlc3NNb2RlbCk7XG5cdFx0XHRyZXNvbHZlKHN1Y2Nlc3MpO1xuXHRcdH0pLmZhaWwoZnVuY3Rpb24oZXJyKXtcblx0XHRcdHJlamVjdChlcnIpO1xuXHRcdH0pO1x0XG5cdH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBXb3JrZmxvdztcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBRID0gcmVxdWlyZSgncScpO1xudmFyIG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbGl0eScpO1xuXG4vKipcbiAqIEZvcm0gTW9kdWxlXG4gKlxuICogQG1vZHVsZSBsaWIvZm9ybVxuICogQGF1dGhvciBCcmVudCBHb3Jkb25cbiAqIEB2ZXJzaW9uIDIuMC4wXG4gKiBAZGVzY3JpcHRpb24gXG4gKiBAY29weXJpZ2h0IEt3YW50dSBMdGQgUlNBIDIwMDktMjAxNS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlKGZvcm1EZWYsIHdvcmtmbG93KXtcblx0dmFyIGRlZmVycmVkID0gUS5kZWZlcigpO1xuXHR2YXIgaW5kaWNhdG9ycyA9IFtdO1xuXHR1dGlsLnN5bmNMb29wKGZvcm1EZWYuaW5kaWNhdG9ycy5sZW5ndGgsIGZ1bmN0aW9uKGxvb3Ape1xuXHRcdHZhciBjb3VudGVyID0gbG9vcC5pdGVyYXRpb24oKTtcblx0XHR2YXIgaW5kaWNhdG9ySWQgPSBmb3JtRGVmLmluZGljYXRvcnNbY291bnRlcl0uX2lkO1xuXHRcdHZhciBpbmRpY2F0b3JOYW1lID0gZm9ybURlZi5pbmRpY2F0b3JzW2NvdW50ZXJdLm5hbWUuaTE4bi52YWx1ZTtcblx0XHQvLyBDb21tZW50IG91dCBmb3IgdGVzdGluZ1xuXHRcdC8vIHZhciBpbmRpY2F0b3IgPSB7fTtcblx0XHQvLyBsaWJyYXJ5LmNyZWF0ZUluZGljYXRvckluc3RhbmNlKGluZGljYXRvcklkLCB3b3JrZmxvdy5wcm9maWxlKS5kb25lKGZ1bmN0aW9uKGRhdGEpe1xuXHRcdC8vIFx0aW5kaWNhdG9yID0gZGF0YTtcblx0XHQvLyBcdGluZGljYXRvcnMucHVzaChpbmRpY2F0b3IpO1xuXHRcdC8vIFx0bG9vcC5uZXh0KCk7XG5cdFx0Ly8gfSkuZmFpbChmdW5jdGlvbihlcnIpe1xuXHRcdC8vIFx0Y29uc29sZS5sb2coZXJyKTtcblx0XHQvLyB9KTtcblx0XHR2YXIgdXVpZCA9IHdvcmtmbG93LnByb2ZpbGUgKyAnOicgKyB3b3JrZmxvdy5hcHAgKyAnOicgKyBpbmRpY2F0b3JJZCArICc6MCc7IC8vIHJlcGxhY2UgdGhpcyB3aXRoIGdhdGVrZWVwZXIgY2FsbCBhbmQgcmV0dXJuIHRoZSB1dWlkXG5cdFx0dmFyIGluZGljYXRvciA9IHtcblx0XHRcdF9pZDogdXVpZCxcblx0XHRcdGNhdGVnb3J5OiB7XG5cdFx0XHRcdHRlcm06IGluZGljYXRvcklkLFxuXHRcdFx0XHRsYWJlbDogaW5kaWNhdG9yTmFtZVxuXHRcdFx0fSxcblx0XHRcdFwicHJvY2Vzc2VzXCI6IFtdXG5cdFx0fTtcblx0XHRpbmRpY2F0b3JzLnB1c2goaW5kaWNhdG9yKTtcblx0XHRsb29wLm5leHQoKTtcblx0fSwgZnVuY3Rpb24oKXtcblx0ICAgIC8vIGNvbnNvbGUubG9nKCdkb25lJyk7XG5cdCAgICB2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnRm9ybSBjcmVhdGVkIHN1Y2Nlc3NmdWxseS4nLCBpbmRpY2F0b3JzKTtcblx0XHRkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpO1xuXHR9KTtcblx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG5mdW5jdGlvbiBzYXZlKGluZGljYXRvcil7XG5cdHZhciBkZWZlcnJlZCA9IFEuZGVmZXIoKTtcblx0dmFyIGNvbXBsZXRlZCA9IFtdO1xuXHR2YXIgcmVzdWx0ID0ge1xuXHRcdGNvbXBsZXRlOiB0cnVlLFxuXHRcdGRhdGE6IFtdXG5cdH07XG5cdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdGb3JtIGluZGljYXRvciBzZXQgc2F2ZWQgc3VjY2Vzc2Z1bGx5LicsIHJlc3VsdCk7XG5cdGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuZnVuY3Rpb24gc3VibWl0KGZvcm0pe1xuXHR2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG5cdHZhciBjb21wbGV0ZWQgPSBbXTtcblx0dmFyIHJlc3VsdCA9IHtcblx0XHRjb21wbGV0ZTogdHJ1ZSxcblx0XHRkYXRhOiBbXVxuXHR9O1xuXHR2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnRm9ybSBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5LicsIHJlc3VsdCk7XG5cdGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuZnVuY3Rpb24gYXV0aG9yaXNlKGZvcm0pe1xuXHR2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG5cdHZhciBjb21wbGV0ZWQgPSBbXTtcblx0dmFyIHJlc3VsdCA9IHtcblx0XHRjb21wbGV0ZTogdHJ1ZSxcblx0XHRkYXRhOiBbXVxuXHR9O1xuXHR2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnRm9ybSBhdXRob3Jpc2VkIHN1Y2Nlc3NmdWxseS4nLCByZXN1bHQpO1xuXHRkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpO1xuXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbmZ1bmN0aW9uIGNsb3NlKGZvcm0pe1xuXHR2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG5cdHZhciBjb21wbGV0ZWQgPSBbXTtcblx0dmFyIHJlc3VsdCA9IHtcblx0XHRjb21wbGV0ZTogdHJ1ZSxcblx0XHRkYXRhOiBbXVxuXHR9O1xuXHR2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnRm9ybSBjbG9zZWQgc3VjY2Vzc2Z1bGx5LicsIHJlc3VsdCk7XG5cdGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IFxuXG4gXHRjcmVhdGU6IGNyZWF0ZSxcbiBcdHNhdmU6IHNhdmUsXG4gXHRzdWJtaXQ6IHN1Ym1pdCxcbiBcdGF1dGhvcmlzZTogYXV0aG9yaXNlLFxuIFx0Y2xvc2U6IGNsb3NlXG5cbn0iLCIndXNlIHN0cmljdCc7XG5cbnZhciBRID0gcmVxdWlyZSgncScpO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbGl0eScpO1xuXG4vKipcbiAqIE1vZGVsIE1vZHVsZVxuICpcbiAqIEBtb2R1bGUgbGliL21vZGVsXG4gKiBAYXV0aG9yIEJyZW50IEdvcmRvblxuICogQHZlcnNpb24gMC4xLjBcbiAqIEBkZXNjcmlwdGlvbiBcbiAqIEBjb3B5cmlnaHQgS3dhbnR1IEx0ZCBSU0EgMjAwOS0yMDE1LlxuICpcbiAqL1xuXG5mdW5jdGlvbiBpbnN0YW5jZSgpe1xuXHR2YXIgbW9kZWwgPSB7XG5cdCAgICBcIl9pZFwiOiBcIlwiLFxuXHQgICAgXCJ2ZXJzaW9uXCI6IFwiXCIsXG5cdCAgICBcInR5cGVcIjogXCJ3b3JrZmxvd0luc3RhbmNlXCIsXG5cdCAgICBcInByb2Nlc3Nlc1wiOiBbXVxuXHR9O1xuXHRyZXR1cm4gbW9kZWw7XG59O1xuXG5mdW5jdGlvbiBjb25maWd1cmF0aW9uKCl7XG5cdHZhciBtb2RlbCA9IHtcblx0XHRcIl9pZFwiOiBcIjEyMzQ6bWFuZ2F1bmdQcm9qZWN0XCIsXG5cdFx0XCJfdmVyc2lvblwiOiBcIjEuMFwiLFxuXHRcdFwidHlwZVwiOiBcIndvcmtmbG93Q29uZmlnXCIsXG5cdFx0XCJ0aXRsZVwiOiB7XG5cdFx0XHRcIm5hbWVcIjoge1xuXHRcdFx0XHRcImkxOG5cIjoge1xuXHRcdFx0XHRcdFwiX2xhbmdcIjogXCJlblwiLFxuXHRcdFx0XHRcdFwidmFsdWVcIjogXCJNYW5nYWd1bmcgcHJvamVjdCB3b3JrZmxvd1wiXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRcImRlc2NyaXB0aW9uXCI6IHtcblx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcIl9sYW5nXCI6IFwiZW5cIixcblx0XHRcdFx0XHRcInZhbHVlXCI6IFwiTWFuZ2FndW5nIHByb2plY3Qgd29ya2Zsb3cgdXNlZCB0byBtYW5hZ2UgaG91c2luZyBkZXZlbG9wbWVudC5cIlxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRcImlkZW50aWZpY2F0aW9uXCI6IHtcblx0XHRcdFwiZG9jdW1lbnRhdGlvblwiOiB7XG5cdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XCJfbGFuZ1wiOiBcIlwiLFxuXHRcdFx0XHRcdFwidmFsdWVcIjogXCJcIlxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0XCJ1cGdyYWRlSW5mb3JtYXRpb25cIjoge1xuXHRcdFx0XHRcImkxOG5cIjoge1xuXHRcdFx0XHRcdFwiX2xhbmdcIjogXCJcIixcblx0XHRcdFx0XHRcInZhbHVlXCI6IFwiXCJcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0XCJ2YXJpYWJsZXNcIjoge1xuXHRcdFx0XCJ2YXJpYWJsZVwiOiBbe1xuXHRcdFx0XHRcIl9pZFwiOiBcIlwiLFxuXHRcdFx0XHRcIl9kYXRhVHlwZVwiOiBcIlwiLFxuXHRcdFx0XHRcIl9zZXNzaW9uVmFyXCI6IFwiXCIsXG5cdFx0XHRcdFwiX2RlZmF1bHRcIjogXCJcIixcblx0XHRcdFx0XCJfdmFsdWVcIjogXCJcIlxuXHRcdFx0fV1cblx0XHR9LFxuXHRcdFwicm9sZXNcIjoge1xuXHRcdFx0XCJyb2xlXCI6IFt7XG5cdFx0XHRcdFwiX2lkXCI6IFwiXCIsXG5cdFx0XHRcdFwiX2xldmVsXCI6IFwiXCIsXG5cdFx0XHRcdFwibmFtZVwiOiB7XG5cdFx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcdFwiX2xhbmdcIjogXCJcIixcblx0XHRcdFx0XHRcdFwidmFsdWVcIjogXCJcIlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJyb2xlTWFwcGluZ3NcIjoge1xuXHRcdFx0XHRcdFwicm9sZU1hcHBpbmdcIjoge1xuXHRcdFx0XHRcdFx0XCJfYXBwbGljYXRpb25JZFwiOiBcIlwiLFxuXHRcdFx0XHRcdFx0XCJfcm9sZUlkXCI6IFwiXCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwicmVxdWlyZWRSb2xlc1wiOiB7XG5cdFx0XHRcdFx0XCJyZXF1aXJlZFJvbGVcIjoge1xuXHRcdFx0XHRcdFx0XCJfYXBwbGljYXRpb25JZFwiOiBcIlwiLFxuXHRcdFx0XHRcdFx0XCJfcm9sZUlkXCI6IFwiXCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1dXG5cdFx0fSxcblx0XHRcInByb2Nlc3Nlc1wiOiBbe1xuXHRcdFx0XCJfaWRcIjogXCJyZWdpc3RyYXRpb25cIixcblx0XHRcdFwiX3NlcVwiOiBcIjFcIixcblx0XHRcdFwibmFtZVwiOiB7XG5cdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XCJfbGFuZ1wiOiBcImVuXCIsXG5cdFx0XHRcdFx0XCJ2YWx1ZVwiOiBcIlJlZ2lzdGVyIGEgcHJvamVjdFwiXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRcImhlbHBcIjoge1xuXHRcdFx0XHRcImkxOG5cIjoge1xuXHRcdFx0XHRcdFwiX2xhbmdcIjogXCJlblwiLFxuXHRcdFx0XHRcdFwidmFsdWVcIjogXCJSZWdpc3RlciBhIG5ldyBwcm9qZWN0XCJcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdFwidmFyaWFibGVzXCI6IFt7XG5cdFx0XHRcdFwiX2lkXCI6IFwiXCIsXG5cdFx0XHRcdFwiX2RhdGFUeXBlXCI6IFwiXCIsXG5cdFx0XHRcdFwiX3Nlc3Npb25WYXJcIjogXCJcIixcblx0XHRcdFx0XCJfZGVmYXVsdFwiOiBcIlwiLFxuXHRcdFx0XHRcIl92YWx1ZVwiOiBcIlwiXG5cdFx0XHR9XSxcblx0XHRcdFwicHJlcmVxdWlzaXRlc1wiOiBbe1xuXHRcdFx0XHRcIl9zZXFcIjogXCIxXCIsXG5cdFx0XHRcdFwiX3R5cGVcIjogXCJjb3VudFwiLFxuXHRcdFx0XHRcIl9zdWJqZWN0XCI6IFwibW9udGhseVByb2dyZXNzLmluc3RhbmNlXCIsXG5cdFx0XHRcdFwiX29wZXJhdG9yXCI6IFwiZXF1YWxUb1wiLFxuXHRcdFx0XHRcIl92YWx1ZVwiOiBcIjBcIixcblx0XHRcdFx0XCJtZXNzYWdlXCI6IHtcblx0XHRcdFx0XHRcImkxOG5cIjoge1xuXHRcdFx0XHRcdFx0XCJfbGFuZ1wiOiBcImVuXCIsXG5cdFx0XHRcdFx0XHRcInZhbHVlXCI6IFwiVGhlIHByb2plY3QgcmVnaXN0cmF0aW9uIGZvcm0gY2FuJ3QgYmUgZWRpdGVkIG9uY2UgdGhlIG1vbnRobHkgcHJvZ3Jlc3MgcHJvY2VzcyBoYXMgYmVlbiBpbml0aWF0ZWQuXCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gTm90IGFsbG93ZWQgdG8gY3JlYXRlIGFub3RoZXIgaW5zdGFuY2UgaWYgdGhlcmUgaXMgb25lIG9wZW5cblx0XHRcdH1dLFxuXHRcdFx0XCJwcmVBY3Rpb25zXCI6IFt7XG5cdFx0XHRcdFwiX3NlcVwiOiBcIlwiLFxuXHRcdFx0XHRcIl90eXBlXCI6IFwiXCIsXG5cdFx0XHRcdFwiZnVuY3RcIjoge1xuXHRcdFx0XHRcdFwibW9kdWxlXCI6IFwiXCIsXG5cdFx0XHRcdFx0XCJtZXRob2RcIjogXCJcIixcblx0XHRcdFx0XHRcInBhcmFtc1wiOiB7XG5cdFx0XHRcdFx0XHRcInBhcmFtXCI6IFtdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXHRcdFx0XHRcInJlc3RcIjoge1xuXHRcdFx0XHRcdFwiaG9zdElkXCI6IFwiXCIsXG5cdFx0XHRcdFx0XCJzZXJ2aWNlXCI6IFwiXCIsXG5cdFx0XHRcdFx0XCJBUElLZXlcIjogXCJcIixcblx0XHRcdFx0XHRcImZvcm1hdFwiOiBcIlwiLFxuXHRcdFx0XHRcdFwiY29sbGVjdGlvblwiOiBcIlwiLFxuXHRcdFx0XHRcdFwiZW5kcG9pbnRcIjogXCJcIixcblx0XHRcdFx0XHRcInBhcmFtc1wiOiB7XG5cdFx0XHRcdFx0XHRcInBhcmFtXCI6IFtdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XSxcblx0XHRcdFwic3ViUHJvY2Vzc2VzXCI6IFt7XG5cdFx0XHRcdFwiX2lkXCI6IFwic3BSZWdpc3RyYXRpb25cIixcblx0XHRcdFx0XCJfc2VxXCI6IFwiMVwiLFxuXHRcdFx0XHRcIm5hbWVcIjoge1xuXHRcdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XHRcIl9sYW5nXCI6IFwiZW5cIixcblx0XHRcdFx0XHRcdFwidmFsdWVcIjogXCJQcm9qZWN0IFJlZ2lzdHJhdGlvbiBGb3JtXCJcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiaGVscFwiOiB7XG5cdFx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcdFwiX2xhbmdcIjogXCJlblwiLFxuXHRcdFx0XHRcdFx0XCJ2YWx1ZVwiOiBcIlJlZ2lzdGVyIGEgbmV3IHByb2plY3RcIlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJpbml0aWF0ZVwiOiB7XG5cdFx0XHRcdFx0XCJfdHlwZVwiOiBcInVzZXJcIixcblx0XHRcdFx0XHRcIm1heEluc3RhbmNlc1wiOiBcIi0xXCIsXG5cdFx0XHRcdFx0XCJhY3Rpb25cIjoge1xuXHRcdFx0XHRcdFx0XCJfdHlwZVwiOiBcImJ1dHRvblwiLFxuXHRcdFx0XHRcdFx0XCJsYWJlbFwiOiBcIkNyZWF0ZVwiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcImRhdGVzXCI6IHtcblx0XHRcdFx0XHRcdFwidmFsaWRcIjoge1xuXHRcdFx0XHRcdFx0XHRcIl90eXBlXCI6IFwidXNlclNlbGVjdGVkXCIsXG5cdFx0XHRcdFx0XHRcdFwibWVzc2FnZVwiOiB7XG5cdFx0XHRcdFx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFwiX2xhbmdcIjogXCJlblwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJ2YWx1ZVwiOiBcIlBsZWFzZSBzZWxlY3QgYSB2YWxpZCBkYXRlIGkuZS4gdGhlIG1vbnRobHkgZGF0ZSB0aGF0IHRoZSBkYXRhIGNhcHR1cmVkIGlzIHZhbGlkIGZvci5cIlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFwiZHVlXCI6IHtcblx0XHRcdFx0XHRcdFx0XCJfdHlwZVwiOiBcInVzZXJTZWxlY3RlZFwiLFxuXHRcdFx0XHRcdFx0XHRcIm1lc3NhZ2VcIjoge1xuXHRcdFx0XHRcdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcIl9sYW5nXCI6IFwiZW5cIixcblx0XHRcdFx0XHRcdFx0XHRcdFwidmFsdWVcIjogXCJQbGVhc2Ugc2VsZWN0IGEgZHVlIGRhdGUgaS5lLiB0aGUgYWN0dWFsIGRhdGUgdGhhdCB0aGUgZGF0YSBuZWVkcyB0byBiZSBjYXB0dXJlZCBhbmQgYXV0aG9yaXNlZCBieS5cIlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0XCJpbmRpY2F0b3JzXCI6IFt7XG5cdFx0XHRcdFx0XCJfaWRcIjogXCJwcm9qZWN0RGV0YWlsXCIsXG5cdFx0XHRcdFx0XCJtYXhJbnN0YW5jZXNcIjogXCIxXCIsXG5cdFx0XHRcdFx0XCJuYW1lXCI6IHtcblx0XHRcdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XHRcdFwiX2xhbmdcIjogXCJlblwiLFxuXHRcdFx0XHRcdFx0XHRcInZhbHVlXCI6IFwiUHJvamVjdCBEZXRhaWxzXCJcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcIl9pZFwiOiBcInByb2plY3RMb2NhdGlvblwiLFxuXHRcdFx0XHRcdFwibWF4SW5zdGFuY2VzXCI6IFwiLTFcIixcblx0XHRcdFx0XHRcIm5hbWVcIjoge1xuXHRcdFx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcdFx0XCJfbGFuZ1wiOiBcImVuXCIsXG5cdFx0XHRcdFx0XHRcdFwidmFsdWVcIjogXCJQcm9qZWN0IExvY2F0aW9uc1wiXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XCJfaWRcIjogXCJkZXZlbG9wZXJEZXRhaWxcIixcblx0XHRcdFx0XHRcIm1heEluc3RhbmNlc1wiOiBcIjFcIixcblx0XHRcdFx0XHRcIm5hbWVcIjoge1xuXHRcdFx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcdFx0XCJfbGFuZ1wiOiBcImVuXCIsXG5cdFx0XHRcdFx0XHRcdFwidmFsdWVcIjogXCJEZXZlbG9wZXIgRGV0YWlsc1wiXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XSxcblx0XHRcdFx0XCJzdGVwc1wiOiBbe1xuXHRcdFx0XHRcdFwiX2lkXCI6IFwiY3JlYXRlRm9ybVwiLFxuXHRcdFx0XHRcdFwiX3NlcVwiOiBcIjFcIixcblx0XHRcdFx0XHRcIl9zZXRJbnN0YW5jZVN0YXR1c1RvXCI6IFwiQ3JlYXRlZFwiLFxuXHRcdFx0XHRcdFwiX3NldFN0YXR1c01zZ1RvXCI6IFwiRm9ybSBjcmVhdGVkXCIsXG5cdFx0XHRcdFx0XCJuYW1lXCI6IHtcblx0XHRcdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XHRcdFwiX2xhbmdcIjogXCJlblwiLFxuXHRcdFx0XHRcdFx0XHRcInZhbHVlXCI6IFwiQ3JlYXRlIHRoZSByZWdpc3RyYXRpb24gZm9ybS5cIlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XCJwcmVyZXF1aXNpdGVzXCI6IFt7XG5cdFx0XHRcdFx0XHRcIl9zZXFcIjogXCJcIixcblx0XHRcdFx0XHRcdFwiX3R5cGVcIjogXCJcIixcblx0XHRcdFx0XHRcdFwiX29wZXJhdG9yXCI6IFwiXCIsXG5cdFx0XHRcdFx0XHRcIl9zdWJqZWN0XCI6IFwiXCIsXG5cdFx0XHRcdFx0XHRcIl92YWx1ZVwiOiBcIlwiLFxuXHRcdFx0XHRcdFx0XCJtZXNzYWdlXCI6IHtcblx0XHRcdFx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcIl9sYW5nXCI6IFwiZW5cIixcblx0XHRcdFx0XHRcdFx0XHRcInZhbHVlXCI6IFwiXCJcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFwiYWN0aW9uc1wiOiBbe1xuXHRcdFx0XHRcdFx0XCJfc2VxXCI6IFwiMVwiLFxuXHRcdFx0XHRcdFx0XCJfdHlwZVwiOiBcImludGVybmFsXCIsXG5cdFx0XHRcdFx0XHRcImZ1bmN0XCI6IHtcblx0XHRcdFx0XHRcdFx0XCJtb2R1bGVcIjogXCJmb3JtXCIsXG5cdFx0XHRcdFx0XHRcdFwibWV0aG9kXCI6IFwiY3JlYXRlXCIsXG5cdFx0XHRcdFx0XHRcdFwidHlwZVwiOiBcIm5ld1NlcXVlbmNlXCIgXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XCJ0cmFuc2l0aW9uc1wiOiBbe1xuXHRcdFx0XHRcdFx0XHRcIl90eXBlXCI6IFwiYXV0b1wiLFxuXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjoge1xuXHRcdFx0XHRcdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcIl9sYW5nXCI6IFwiZW5cIixcblx0XHRcdFx0XHRcdFx0XHRcdFwidmFsdWVcIjogXCJcIlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XCJnb1RvXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcIl90eXBlXCI6IFwibmV4dFN0ZXBcIixcblx0XHRcdFx0XHRcdFx0XHRcIl9zdGVwSWRcIjogXCJcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcIl9zdG9wXCI6IGZhbHNlXG5cdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdH1dXG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcIl9pZFwiOiBcImNhcHR1cmVGb3JtXCIsXG5cdFx0XHRcdFx0XCJfc2VxXCI6IFwiMlwiLFxuXHRcdFx0XHRcdFwiX3NldFN0YXR1c1RvXCI6IFwiSW5Qcm9ncmVzc1wiLFxuXHRcdFx0XHRcdFwiX3NldFN0YXR1c01zZ1RvXCI6IFwiVXNlciBhc3NpZ25lZCBhbmQgZGF0YSBjYXB0dXJlIGluIHByb2dyZXNzXCIsXG5cdFx0XHRcdFx0XCJuYW1lXCI6IHtcblx0XHRcdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XHRcdFwiX2xhbmdcIjogXCJlblwiLFxuXHRcdFx0XHRcdFx0XHRcInZhbHVlXCI6IFwiQ2FwdHVyZVwiXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcInByZXJlcXVpc2l0ZXNcIjogW3tcblx0XHRcdFx0XHRcdFwiX3NlcVwiOiBcIjFcIixcblx0XHRcdFx0XHRcdFwiX3R5cGVcIjogXCJyZWFkeVRvU3VibWl0XCIsXG5cdFx0XHRcdFx0XHRcIl9zdWJqZWN0XCI6IFwiaW5kaWNhdG9ycy5jb21wbGV0ZVwiLFxuXHRcdFx0XHRcdFx0XCJfb3BlcmF0b3JcIjogXCJlcXVhbFRvXCIsXG5cdFx0XHRcdFx0XHRcIl92YWx1ZVwiOiBcInRydWVcIixcblx0XHRcdFx0XHRcdFwibWVzc2FnZVwiOiB7XG5cdFx0XHRcdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XHRcdFx0XCJfbGFuZ1wiOiBcImVuXCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJ2YWx1ZVwiOiBcIkFsbCBmb3JtIGluZGljYXRvcnMgaGF2ZSB0byBiZSBtYXJrZWQgYXMgY29tcGxldGUgYmVmb3JlIHN1Ym1pc3Npb24uXCJcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFwiYWN0aW9uc1wiOiBbXSxcblx0XHRcdFx0XHRcInRhc2tcIjoge1xuXHRcdFx0XHRcdFx0XCJhc3NpZ25cIjoge1xuXHRcdFx0XHRcdFx0XHRcInByb2ZpbGVSb2xlXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcInByb2ZpbGVcIjogXCJjdXJyZW50XCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJyb2xlXCI6IFwiY2FwdHVyZXJcIlxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcImRlZmF1bHRcIjogXCJcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFwid29ya1wiOiB7XG5cdFx0XHRcdFx0XHRcdFwiYWN0aW9uXCI6IFwiZWRpdEZvcm1cIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFwidHJhbnNpdGlvbnNcIjogW3tcblx0XHRcdFx0XHRcdFx0XCJfaWRcIjogXCJzdWJtaXRGb3JtXCIsXG5cdFx0XHRcdFx0XHRcdFwiX3R5cGVcIjogXCJ1c2VyXCIsXG5cdFx0XHRcdFx0XHRcdFwibmFtZVwiOiB7XG5cdFx0XHRcdFx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcdFwiX2xhbmdcIjogXCJlblwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJ2YWx1ZVwiOiBcIlN1Ym1pdFwiXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcImdvVG9cIjoge1xuXHRcdFx0XHRcdFx0XHRcdFwiX3R5cGVcIjogXCJuZXh0U3RlcFwiLFxuXHRcdFx0XHRcdFx0XHRcdFwiX3N0ZXBJZFwiOiBcIlwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFwiX3N0b3BcIjogZmFsc2Vcblx0XHRcdFx0XHRcdH1dXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XCJfaWRcIjogXCJhdXRob3Jpc2VGb3JtXCIsXG5cdFx0XHRcdFx0XCJfc2VxXCI6IFwiM1wiLFxuXHRcdFx0XHRcdFwiX3NldEluc3RhbmNlU3RhdHVzVG9cIjogXCJhd2FpdGluZ0F1dGhvcmlzYXRpb25cIixcblx0XHRcdFx0XHRcIl9zZXRTdGF0dXNNc2dUb1wiOiBcIkZvcm0gZGF0YSBzdWJtaXR0ZWQsIHVzZXIgYXNzaWduZWQgYW5kIGZvcm0gZGF0YSB1bmRlciByZXZpZXdcIixcblx0XHRcdFx0XHRcIm5hbWVcIjoge1xuXHRcdFx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcdFx0XCJfbGFuZ1wiOiBcImVuXCIsXG5cdFx0XHRcdFx0XHRcdFwidmFsdWVcIjogXCJSZXZpZXcgdGhlIHJlZ2lzdHJhdGlvbiBmb3JtIGRhdGEuXCJcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFwicHJlcmVxdWlzaXRlc1wiOiBbe1xuXHRcdFx0XHRcdFx0XCJfc2VxXCI6IFwiMVwiLFxuXHRcdFx0XHRcdFx0XCJfdHlwZVwiOiBcImNoZWNrUm9sZVwiLFxuXHRcdFx0XHRcdFx0XCJfc3ViamVjdFwiOiBcInByb2ZpbGVSb2xlXCIsXG5cdFx0XHRcdFx0XHRcIl9vcGVyYXRvclwiOiBcImVxdWFsVG9cIixcblx0XHRcdFx0XHRcdFwiX3ZhbHVlXCI6IFwiYXV0aG9yaXNlclwiLFxuXHRcdFx0XHRcdFx0XCJtZXNzYWdlXCI6IHtcblx0XHRcdFx0XHRcdFx0XCJpMThuXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcIl9sYW5nXCI6IFwiZW5cIixcblx0XHRcdFx0XHRcdFx0XHRcInZhbHVlXCI6IFwiWW91IGhhdmUgdG8gYmUgYW4gYXV0aG9yaXNlciBvbiB0aGUgcHJvamVjdCB0byBhcHByb3ZlIHRoZSBmb3JtIGRhdGEgdGhhdCBoYXMgYmVlbiBjYXB0dXJlZCBvciByZWZlciBiYWNrIGZvciBmdXJ0aGVyIGVkaXRpbmcuXCJcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1dLFxuXHRcdFx0XHRcdFwiYWN0aW9uc1wiOiBbXSxcblx0XHRcdFx0XHRcInRhc2tcIjoge1xuXHRcdFx0XHRcdFx0XCJhc3NpZ25cIjoge1xuXHRcdFx0XHRcdFx0XHRcInByb2ZpbGVSb2xlXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcInByb2ZpbGVcIjogXCJjdXJyZW50XCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJyb2xlXCI6IFwiYXV0aG9yaXNlclwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFwiZGVmYXVsdFwiOiBcIlwiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XCJ3b3JrXCI6IHtcblx0XHRcdFx0XHRcdFx0XCJhY3Rpb25cIjogXCJlZGl0Rm9ybVwiXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XCJ0cmFuc2l0aW9uc1wiOiBbe1xuXHRcdFx0XHRcdFx0XHRcIl9pZFwiOiBcImF1dGhvcmlzZUZvcm1cIixcblx0XHRcdFx0XHRcdFx0XCJfdHlwZVwiOiBcInVzZXJcIixcblx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcImkxOG5cIjoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJfbGFuZ1wiOiBcImVuXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcInZhbHVlXCI6IFwiQXV0aG9yaXNlXCJcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFwiZ29Ub1wiOiB7XG5cdFx0XHRcdFx0XHRcdFx0XCJfdHlwZVwiOiBcIm5leHRTdGVwXCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJfc3RlcElkXCI6IFwiXCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XCJfc3RvcFwiOiBmYWxzZVxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHRcIl9pZFwiOiBcInJldmVydEZvcm1cIixcblx0XHRcdFx0XHRcdFx0XCJfdHlwZVwiOiBcInVzZXJcIixcblx0XHRcdFx0XHRcdFx0XCJuYW1lXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcImkxOG5cIjoge1xuXHRcdFx0XHRcdFx0XHRcdFx0XCJfbGFuZ1wiOiBcImVuXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcInZhbHVlXCI6IFwiUmVmZXIgQmFja1wiXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcImdvVG9cIjoge1xuXHRcdFx0XHRcdFx0XHRcdFwiX3R5cGVcIjogXCJzdGVwSWRcIixcblx0XHRcdFx0XHRcdFx0XHRcIl9zdGVwSWRcIjogXCJjYXB0dXJlRm9ybVwiXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFwiX3N0b3BcIjogZmFsc2Vcblx0XHRcdFx0XHRcdH1dXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XCJfaWRcIjogXCJjbG9zZUZvcm1cIixcblx0XHRcdFx0XHRcIl9zZXFcIjogXCI1XCIsXG5cdFx0XHRcdFx0XCJfc2V0SW5zdGFuY2VTdGF0dXNUb1wiOiBcIkNvbXBsZXRlXCIsXG5cdFx0XHRcdFx0XCJfc2V0U3RhdHVzTXNnVG9cIjogXCJGb3JtIGxvY2tlZFwiLFxuXHRcdFx0XHRcdFwibmFtZVwiOiB7XG5cdFx0XHRcdFx0XHRcImkxOG5cIjoge1xuXHRcdFx0XHRcdFx0XHRcIl9sYW5nXCI6IFwiZW5cIixcblx0XHRcdFx0XHRcdFx0XCJ2YWx1ZVwiOiBcIkNsb3NlIHRoZSByZWdpc3RyYXRpb24gZm9ybS5cIlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XCJhY3Rpb25zXCI6IFt7XG5cdFx0XHRcdFx0XHRcIl9zZXFcIjogXCIxXCIsXG5cdFx0XHRcdFx0XHRcIl90eXBlXCI6IFwiaW50ZXJuYWxcIixcblx0XHRcdFx0XHRcdFwiZnVuY3RcIjoge1xuXHRcdFx0XHRcdFx0XHRcIm1vZHVsZVwiOiBcImZvcm1cIixcblx0XHRcdFx0XHRcdFx0XCJtZXRob2RcIjogXCJhdXRob3Jpc2VcIlxuXHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFwidHJhbnNpdGlvblwiOiBbe1xuXHRcdFx0XHRcdFx0XHRcIl90eXBlXCI6IFwiYXV0b1wiLFxuXHRcdFx0XHRcdFx0XHRcIm5hbWVcIjoge1xuXHRcdFx0XHRcdFx0XHRcdFwiaTE4blwiOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcIl9sYW5nXCI6IFwiZW5cIixcblx0XHRcdFx0XHRcdFx0XHRcdFwidmFsdWVcIjogXCJcIlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XCJnb1RvXCI6IHtcblx0XHRcdFx0XHRcdFx0XHRcIl90eXBlXCI6IFwiXCIsXG5cdFx0XHRcdFx0XHRcdFx0XCJfc3RlcElkXCI6IFwiXCJcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0XCJfc3RvcFwiOiB0cnVlXG5cdFx0XHRcdFx0XHR9XVxuXHRcdFx0XHRcdH1dXG5cdFx0XHRcdH1dXG5cdFx0XHR9XSxcblx0XHRcdFwicG9zdEFjdGlvbnNcIjoge31cblx0XHR9XVxuXHR9O1xuXHRyZXR1cm4gbW9kZWw7XG59O1xuXG5mdW5jdGlvbiBwcm9jZXNzKCl7XG5cdHZhciBtb2RlbCA9IHtcbiAgICAgICAgXCJjb25maWdJZFwiOiBcIlwiLCBcbiAgICAgICAgXCJpbnN0YW5jZUlkXCI6IFwiXCIsXG4gICAgICAgIFwicHJvY2Vzc0lkXCI6IFwiXCIsXG4gICAgICAgIFwic3ViUHJvY2Vzc0lkXCI6IFwiXCIsXG4gICAgICAgIFwic3RlcElkXCI6IFwiXCIsXG4gICAgICAgIFwiYXNzaWduZWRUb1wiOiB7XG4gICAgICAgICAgICBcInVzZXJJZFwiOiBcIlwiLFxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b2tlblwiOiBcIlwiLFxuICAgICAgICBcInN0YXR1c1wiOiBcIlwiLFxuICAgICAgICBcInN0YXR1c01zZ1wiOiBcIlwiLFxuICAgICAgICBcImxhc3RVcGRhdGVkXCI6IFwiXCIsXG4gICAgICAgIFwiZHVlRGF0ZVwiOiBcIlwiXG4gICAgfVxuICAgIHJldHVybiBtb2RlbDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBcblxuIFx0Y29uZmlndXJhdGlvbjogY29uZmlndXJhdGlvbiwgXG4gXHRpbnN0YW5jZTogaW5zdGFuY2UsIFxuIFx0cHJvY2VzczogcHJvY2Vzc1xuXG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgUSA9IHJlcXVpcmUoJ3EnKTtcbnZhciBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWxpdHknKTtcbnZhciBmb3JtID0gcmVxdWlyZSgnLi9mb3JtJyk7XG5cbi8qKlxuICogUHJvY2VzcyBNb2R1bGVcbiAqXG4gKiBAbW9kdWxlIGxpYi9wcm9jZXNzXG4gKiBAYXV0aG9yIEJyZW50IEdvcmRvblxuICogQHZlcnNpb24gMi4wLjBcbiAqIEBkZXNjcmlwdGlvbiBcbiAqIEBjb3B5cmlnaHQgS3dhbnR1IEx0ZCBSU0EgMjAwOS0yMDE1LlxuICpcbiAqL1xuXG5mdW5jdGlvbiBzdGF0ZSh3b3JrZmxvdywgcHJvY2Vzc0lkLCBzdWJQcm9jZXNzSWQpe1xuXHR2YXIgcHJvY2Vzc0luZGV4O1xuXHR2YXIgc3ViUHJvY2Vzc0luZGV4O1xuXHR2YXIgY3VycmVudFByb2Nlc3NJZDtcblx0dmFyIGN1cnJlbnRTdWJQcm9jZXNzSWQ7XG5cdHZhciBwcm9jZXNzU2VxO1xuXHR2YXIgc3ViUHJvY2Vzc1NlcTtcblx0aWYgKHByb2Nlc3NJbnN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIHByb2Nlc3NJbnN0YW5jZSA9IHdvcmtmbG93Lmluc3RhbmNlLnByb2Nlc3Nlcy5maWx0ZXIoZnVuY3Rpb24ob2JqUHJvY2Vzcyl7XG5cdFx0XHRpZiAob2JqUHJvY2Vzcy5faWQgPT09IHByb2Nlc3NJZCkge1xuXHRcdFx0XHRyZXR1cm4gb2JqUHJvY2Vzcztcblx0XHRcdH1cblx0XHR9KTtcblx0XHRwcm9jZXNzSW5kZXggPSBwcm9jZXNzSW5zdGFuY2UubGVuZ3RoIC0gMTtcblx0XHRjdXJyZW50UHJvY2Vzc0lkID0gd29ya2Zsb3cuaW5zdGFuY2UucHJvY2Vzc2VzW3Byb2Nlc3NJbmRleF0uaWQ7XG5cdFx0cHJvY2Vzc1NlcSA9IHdvcmtmbG93Lmluc3RhbmNlLnByb2Nlc3Nlc1twcm9jZXNzSW5kZXhdLnNlcTtcblx0fSBlbHNlIHtcblx0XHRwcm9jZXNzSW5zdGFuY2UgPSBbXTtcblx0XHRwcm9jZXNzSW5kZXggPSAwO1xuXHRcdGN1cnJlbnRQcm9jZXNzSWQgPSBwcm9jZXNzSWQ7XG5cdFx0cHJvY2Vzc1NlcSA9IDE7XG5cdH1cblx0aWYgKHByb2Nlc3NJbnN0YW5jZS5zdWJQcm9jZXNzZXMgIT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBzdWJQcm9jZXNzSW5zdGFuY2UgPSBwcm9jZXNzSW5zdGFuY2Uuc3ViUHJvY2Vzc2VzLmZpbHRlcihmdW5jdGlvbihvYmpQcm9jZXNzKXtcblx0XHRcdGlmIChvYmpQcm9jZXNzLl9pZCA9PT0gc3ViUHJvY2Vzc0lkKSB7XG5cdFx0XHRcdHJldHVybiBvYmpQcm9jZXNzO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHN1YlByb2Nlc3NJbmRleCA9IHN1YlByb2Nlc3NJbnN0YW5jZS5sZW5ndGggLSAxO1xuXHRcdGN1cnJlbnRTdWJQcm9jZXNzSWQgPSB3b3JrZmxvdy5pbnN0YW5jZS5wcm9jZXNzZXNbcHJvY2Vzc0luZGV4XS5zdWJQcm9jZXNzZXNbc3ViUHJvY2Vzc0luZGV4XS5pZDtcblx0XHRzdWJQcm9jZXNzU2VxID0gd29ya2Zsb3cuaW5zdGFuY2UucHJvY2Vzc2VzW3Byb2Nlc3NJbmRleF0uc3ViUHJvY2Vzc2VzW3N1YlByb2Nlc3NJbmRleF0uc2VxO1xuXHR9IGVsc2Uge1xuXHRcdHN1YlByb2Nlc3NJbnN0YW5jZSA9IFtdO1xuXHRcdHN1YlByb2Nlc3NJbmRleCA9IDA7XG5cdFx0Y3VycmVudFN1YlByb2Nlc3NJZCA9IHN1YlByb2Nlc3NJZDtcblx0XHRzdWJQcm9jZXNzU2VxID0gMTtcblx0fVxuXHR2YXIgZGF0YSA9IHtcblx0XHRwcm9maWxlSWQ6IHdvcmtmbG93LnByb2ZpbGUsXG5cdFx0Y29uZmlnSWQ6IHdvcmtmbG93LmNvbmZpZy5faWQsXG5cdFx0cHJvY2Vzc0lkOiBjdXJyZW50UHJvY2Vzc0lkLFxuXHRcdHByb2Nlc3NJbmRleDogcHJvY2Vzc0luZGV4LFxuXHRcdHByb2Nlc3NTZXE6IHByb2Nlc3NTZXEsXG5cdFx0c3ViUHJvY2Vzc0lkOiBjdXJyZW50U3ViUHJvY2Vzc0lkLFxuXHRcdHN1YlByb2Nlc3NJbmRleDogc3ViUHJvY2Vzc0luZGV4LFxuXHRcdHN1YlByb2Nlc3NTZXE6IHN1YlByb2Nlc3NTZXFcblx0fVxuXHRyZXR1cm4gZGF0YTtcbn07XG5cbmZ1bmN0aW9uIHByZVJlcXVpc2l0ZXMocHJlcmVxdWlzaXRlcykge1xuXHR2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG5cdHZhciBjb21wbGV0ZWQgPSBbXTtcblx0dmFyIHJlc3VsdCA9IHtcblx0XHRjb21wbGV0ZTogZmFsc2UsXG5cdFx0ZGF0YTogW11cblx0fTtcblx0Ly8gVW5jb21tZW50IGJlbG93IHNlY3Rpb24gd2hlbiByZWFkeSB0byBpbXBsZW1lbnRcblx0Ly8gdXRpbC5zeW5jTG9vcChwcmVyZXF1aXNpdGVzLmxlbmd0aCwgZnVuY3Rpb24obG9vcCl7XG5cdC8vIFx0dmFyIGNvdW50ZXIgPSBsb29wLml0ZXJhdGlvbigpO1xuXHQvLyBcdHByZVJlcXVpc2l0ZShwcmVyZXF1aXNpdGVzW2NvdW50ZXJdLCBjb3VudGVyKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1x0XHRcdFxuXHQvLyBcdFx0Ly8gQ2hlY2sgaWYgYWxsIHByZS1yZXF1aXNpdGVzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuXG5cdC8vIFx0XHRjb21wbGV0ZWQucHVzaChkYXRhLmNvbXBsZXRlKTtcblx0Ly8gXHRcdHJlc3VsdC5kYXRhLnB1c2goZGF0YSk7XG5cdC8vIFx0XHRpZiAoY29tcGxldGVkLmV2ZXJ5KEJvb2xlYW4pKSB7XG5cdC8vIFx0XHRcdHJlc3VsdC5jb21wbGV0ZWQgPSB0cnVlO1xuXHQvLyBcdFx0XHRsb29wLm5leHQoKTtcblx0Ly8gXHRcdFx0dmFyIHN1Y2Nlc3MgPSB1dGlsLnN1Y2Nlc3MoJ1ByZS1yZXF1aXNpdGVzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJywgcmVzdWx0KTtcblx0Ly8gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzKTtcblx0Ly8gXHRcdH0gZWxzZSB7XG5cdC8vIFx0XHRcdGxvb3AuYnJlYWsoKTtcblx0Ly8gXHRcdFx0dmFyIGVycm9yID0gdXRpbC5lcnJvcignV0YwMDcnKTtcblx0Ly8gXHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycm9yKTtcblx0Ly8gXHRcdH1cblx0Ly8gXHR9KS5mYWlsKGZ1bmN0aW9uKGVycil7XG5cdC8vIFx0XHRsb29wLmJyZWFrKCk7XG5cdC8vIFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcblx0Ly8gXHR9KTtcblx0Ly8gfSk7XG5cdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdQcmUtcmVxdWlzaXRlcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LicsIHJlc3VsdCk7XG5cdGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqIFxuICogV29ya2Zsb3cgcHJlLXJlcXVpc2l0ZSwgZXhlY3V0ZSB0aGUgcHJlLXJlcXVpc2l0ZSBjb25kaXRpb24uXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByZXJlcXVpc2l0ZSAtIHRoZSBwcmUtcmVxdWlzaXRlIGNvbmZpZyBkYXRhXG4gKiBAcGFyYW0ge251bWJlcn0gY291bnRlciAtIHRoZSBwcmUtcmVxdWlzaXRlIGNvdW50IC8gbnVtYmVyXG4gKiBAcGFyYW0ge29iamVjdH0gd29ya2Zsb3cgLSB0aGUgd29ya2Zsb3cgY29uc3RydWN0b3IgaW5zdGFuY2VcbiAqXG4gKiBAZXhhbXBsZSBcbiAqIHZhciBjb25maWcgPSB7XG4gKlx0ICAgIFwiX3NlcVwiOiBcIlwiLFxuICpcdCAgICBcIl90eXBlXCI6IFwiXCIsXG4gKlx0XHRcIl9zdWJqZWN0XCI6IFwiXCIsXG4gKlx0ICAgIFwiX29wZXJhdG9yXCI6IFwiXCIsXG4gKlx0ICAgIFwiX3ZhbHVlXCI6IFwiXCIsXG4gKlx0ICAgIFwiX3JlZmVyZW5jZVwiOiBcIlwiLFxuICpcdCAgICBcIm1lc3NhZ2VcIjoge1xuICpcdCAgICBcdFwiaTE4blwiOiB7XG4gKlx0ICAgIFx0XHRcIl9sYW5nXCI6IFwiZW5cIixcbiAqXHQgICAgXHRcdFwidmFsdWVcIjogXCJcIlxuICpcdCAgICBcdH1cbiAqXHQgICAgfVxuICpcdH07XG4gKiBXb3JrZmxvdy5wcmVSZXF1aXNpdGUoY29uZmlnLCBjb3VudGVyLCBpbnN0YW5jZSwgZG9jKTtcbiAqXG4gKiBAcmV0dXJuIFN1Y2Nlc3MgLyBlcnJvciBtZXNzYWdlIHdpdGggdGhlIG5ld2x5IGNyZWF0ZWQgd29ya2Zsb3cgcHJvY2Vzc2VzXG4gKiBpbnN0YW5jZSBkYXRhLlxuICpcbiAqL1xuZnVuY3Rpb24gcHJlUmVxdWlzaXRlKHByZXJlcXVpc2l0ZSwgY291bnRlciwgd29ya2Zsb3cpe1xuXHR2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG5cdHN3aXRjaChwcmVyZXF1aXNpdGUuX3R5cGUpIHtcblx0XHRjYXNlICdtb2NrJzpcblx0XHRcdC8vIFVzZWQgZm9yIG1vY2sgdGVzdGluZ1xuXHRcdFx0aWYgKHV0aWwuY29tcGFyZShwcmVyZXF1aXNpdGUuX3N1YmplY3QsIHByZXJlcXVpc2l0ZS5fb3BlcmF0b3IsIHByZXJlcXVpc2l0ZS5fdmFsdWUpKSB7XG5cdFx0XHRcdHZhciBkYXRhID0ge307XG5cdFx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdNb2NrIHN1Y2Nlc3NmdWxsLicsIGRhdGEpO1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gY29uc29sZS53YXJuKCdQcmUtcmVxdWlzaXRlICcgKyBjb3VudGVyICsgJyBub3QgbWV0LicpO1xuXHRcdFx0XHR2YXIgZXJyb3IgPSB1dGlsLmVycm9yKCdXRjAwNicpO1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Ly8gVE9ETzogQWRkIHRoZSBjYWxsIHRvIHRoZSByZWxldmFudCBtZXRob2RzIGJhc2VkIG9uIHRoZSBfdHlwZSBcblx0XHQvLyBhdHRyaWJ1dGUuXG5cdFx0Y2FzZSAnY291bnQnOlxuXHRcdFx0Ly8gVE9ETzogQWRkIGNvZGUgbG9naWMgaGVyZS4uLlxuXHRcdFx0dmFyIGRhdGEgPSB7fTtcblx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdNb2NrIGNvdW50IHN1Y2Nlc3NmdWxsLicsIGRhdGEpO1xuXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR2YXIgZXJyb3IgPSB1dGlsLmVycm9yKCdXRjAwNScpO1xuXHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycm9yKTtcblx0fVxuXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbmZ1bmN0aW9uIHByZUFjdGlvbnMocHJlQWN0aW9ucywgd29ya2Zsb3cpe1xuXHR2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG5cdHZhciBjb21wbGV0ZWQgPSBbXTtcblx0dmFyIHJlc3VsdCA9IHtcblx0XHRjb21wbGV0ZTogZmFsc2UsXG5cdFx0ZGF0YTogW11cblx0fTtcblx0dmFyIHN1Y2Nlc3MgPSB1dGlsLnN1Y2Nlc3MoJ1ByZS1hY3Rpb25zIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJywgcmVzdWx0KTtcblx0ZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzKTtcblx0cmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG5mdW5jdGlvbiBzdWJQcm9jZXNzKHByb2Nlc3NJZCwgc3ViUHJvY2Vzcywgc2VxLCBpbnB1dERhdGEsIHdvcmtmbG93KXtcblx0dmFyIGRlZmVycmVkID0gUS5kZWZlcigpO1xuXHR2YXIgY29tcGxldGVkID0gW107XG5cdHZhciByZXN1bHQgPSB7XG5cdFx0Y29tcGxldGU6IGZhbHNlLFxuXHRcdGRhdGE6IFtdXG5cdH07XG5cdHZhciBzdWJQcm9jZXNzTW9kZWwgPSB7XG5cdFx0XCJpZFwiOiBzdWJQcm9jZXNzLl9pZCwgXG5cdFx0XCJzZXFcIjogc2VxLCBcblx0XHRcImluaXRpYXRlZFwiOiBmYWxzZSxcblx0XHRcImRhdGVzXCI6IHtcbiAgICAgICAgICAgIFwiY3JlYXRlZFwiOiBcIlwiLFxuICAgICAgICAgICAgXCJ2YWxpZFwiOiBcIlwiLFxuICAgICAgICAgICAgXCJkdWVcIjogXCJcIixcbiAgICAgICAgICAgIFwiY2xvc2VkXCI6IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJjb21wbGV0ZVwiOiBmYWxzZSxcbiAgICAgICAgXCJpbmRpY2F0b3JzXCI6IFtdLFxuICAgICAgICBcInN0ZXBcIjoge1xuICAgICAgICAgICAgXCJpZFwiOiBcIlwiLFxuICAgICAgICAgICAgXCJzZXFcIjogXCJcIixcbiAgICAgICAgICAgIFwic3RhdHVzXCI6IFwiXCIsXG4gICAgICAgICAgICBcIm1lc3NhZ2VcIjogXCJcIlxuICAgICAgICB9XG5cdH07XG5cdC8vIEluaXRpYXRlIHRoZSBzdWItcHJvY2Vzc1xuXHRpbml0aWF0ZShzdWJQcm9jZXNzLmluaXRpYXRlLCBpbnB1dERhdGEpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcblx0XHRpZiAocmVzdWx0LmNvbXBsZXRlKSB7XG5cdFx0XHRzdWJQcm9jZXNzTW9kZWwuaW5pdGlhdGVkID0gdHJ1ZTtcblx0XHRcdHN1YlByb2Nlc3NNb2RlbC5kYXRlcy5jcmVhdGVkID0gcmVzdWx0LnJlcy5jcmVhdGVkRGF0ZTtcblx0XHRcdHN1YlByb2Nlc3NNb2RlbC5kYXRlcy52YWxpZCA9IHJlc3VsdC5yZXMudmFsaWREYXRlO1xuXHRcdFx0c3ViUHJvY2Vzc01vZGVsLmRhdGVzLmR1ZSA9IHJlc3VsdC5yZXMuZHVlRGF0ZTtcblx0XHRcdC8vIFByb2Nlc3MgdGhlIGZpcnN0IHN0ZXAgYW5kIGFueSBzdWJzZXF1ZW50ICdhdXRvJyBzdGVwXG5cdFx0XHR2YXIgZm9ybURlZiA9IHtcblx0XHRcdFx0aWQ6IHN1YlByb2Nlc3MuX2lkLFxuXHRcdFx0XHRuYW1lOiBzdWJQcm9jZXNzLm5hbWUuaTE4bi52YWx1ZSxcblx0XHRcdFx0aW5kaWNhdG9yczogc3ViUHJvY2Vzcy5pbmRpY2F0b3JzXG5cdFx0XHR9XG5cdFx0XHRzdGVwKHByb2Nlc3NJZCwgc3ViUHJvY2Vzcy5faWQsIHN1YlByb2Nlc3NNb2RlbCwgc3ViUHJvY2Vzcy5zdGVwc1swXSwgMCwgZm9ybURlZiwgaW5wdXREYXRhLCB3b3JrZmxvdykudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuXHRcdFx0XHRpZiAocmVzdWx0LmNvbXBsZXRlKSB7XG5cdFx0XHRcdFx0dmFyIHN1Y2Nlc3MgPSB1dGlsLnN1Y2Nlc3MoJ1N1Yi1Qcm9jZXNzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJywgcmVzdWx0LnJlcyk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YXIgZXJyb3IgPSB1dGlsLmVycm9yKCdXRjAxOScpO1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0pLmZhaWwoZnVuY3Rpb24oZXJyKXtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG5cdFx0XHR9KTsgXG5cdFx0XHQvLyB2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnU3ViLVByb2Nlc3MgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS4nLCBzdWJQcm9jZXNzTW9kZWwpO1xuXHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGVycm9yID0gdXRpbC5lcnJvcignV0YwMTEnKTtcblx0XHRcdGRlZmVycmVkLnJlamVjdChlcnJvcik7XG5cdFx0fVxuXHR9KS5mYWlsKGZ1bmN0aW9uKGVycil7XG5cdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG5cdH0pO1xuXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbmZ1bmN0aW9uIGluaXRpYXRlKGluaXRpYXRlLCBpbnB1dERhdGEpe1xuXHR2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG5cdHZhciBjb21wbGV0ZWQgPSBbXTtcblx0dmFyIHJlc3VsdCA9IHtcblx0XHRjb21wbGV0ZTogZmFsc2Vcblx0fTtcblx0c3dpdGNoKGluaXRpYXRlLl90eXBlKSB7XG5cdFx0Y2FzZSAndXNlcic6XG5cdFx0XHQvLyBJZiB0aGUgc3ViUHJvY2VzcyBpbml0aWF0aW9uIGlzIHVzZXIgZGVmaW5lZCB0aGVuXG5cdFx0XHRyZXN1bHQuY3JlYXRlZERhdGUgPSBpbnB1dERhdGEuY3JlYXRlZERhdGU7XG5cdFx0XHRpZiAoaW5pdGlhdGUuZGF0ZXMudmFsaWQuX3R5cGUgPT09ICd1c2VyU2VsZWN0ZWQnKSB7XG5cdFx0XHRcdGlmIChpbnB1dERhdGEudmFsaWREYXRlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXN1bHQudmFsaWREYXRlID0gaW5wdXREYXRhLnZhbGlkRGF0ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR2YXIgZXJyb3IgPSB1dGlsLmVycm9yKCdXRjAwMTMnKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoaW5pdGlhdGUuZGF0ZXMuZHVlLl90eXBlID09PSAndXNlclNlbGVjdGVkJykge1xuXHRcdFx0XHRpZiAoaW5wdXREYXRhLmR1ZURhdGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJlc3VsdC5kdWVEYXRlID0gaW5wdXREYXRhLmR1ZURhdGU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFyIGVycm9yID0gdXRpbC5lcnJvcignV0YwMDIwJyk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycm9yKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmVzdWx0LmNvbXBsZXRlID0gdHJ1ZTtcblx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdTdWItUHJvY2VzcyBpbml0aWF0ZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LicsIHJlc3VsdCk7XG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpO1xuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHZhciBlcnJvciA9IHV0aWwuZXJyb3IoJ1dGMDE2Jyk7XG5cdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuXHR9XG5cdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuZnVuY3Rpb24gc3RlcChwcm9jZXNzSWQsIHN1YlByb2Nlc3NJZCwgc3ViUHJvY2Vzc01vZGVsLCBzdGVwLCBzZXEsIGZvcm1EZWYsIGlucHV0RGF0YSwgd29ya2Zsb3cpe1xuXHR2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG5cdHZhciBjb21wbGV0ZWQgPSBbXTtcblx0dmFyIHJlc3VsdCA9IHtcblx0XHRjb21wbGV0ZTogdHJ1ZSxcblx0XHRzdGVwOiB7XG5cdFx0XHRpZDogJycsXG5cdFx0XHRzZXE6ICcnLFxuXHRcdFx0c3RhdHVzOiAnJyxcblx0XHRcdG1lc3NhZ2U6ICcnXG5cdFx0fSxcblx0XHRkYXRhOiB7fVxuXHR9O1xuXHQvLyBjb25zb2xlLmxvZyhzdGVwKTtcblx0Ly8gU2V0IHRoZSBzdGF0dXMgYW5kIHN0YXR1cyBtZXNzYWdlXG5cdHN1YlByb2Nlc3NNb2RlbC5zdGVwLmlkID0gc3RlcC5faWQ7XG5cdHN1YlByb2Nlc3NNb2RlbC5zdGVwLnNlcSA9IHNlcTtcblx0c3ViUHJvY2Vzc01vZGVsLnN0ZXAuc3RhdHVzID0gc3RlcC5fc2V0SW5zdGFuY2VTdGF0dXNUbztcblx0c3ViUHJvY2Vzc01vZGVsLnN0ZXAubWVzc2FnZSA9IHN0ZXAuX3NldFN0YXR1c01zZ1RvO1xuXHQvLyBJZiBhY3Rpb25zIGFyZSBzcHJlY2lmaWVkLCBleGVjdXRlIHRoZW1cblx0aWYgKHN0ZXAuYWN0aW9uc1swXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0YWN0aW9ucyhzdGVwLmFjdGlvbnMsIGZvcm1EZWYsIHdvcmtmbG93KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuXHRcdFx0Ly8gVGhlIGRvY3VtZW50IHByb2Nlc3Muc3RlcCBtb2RlbFxuXHRcdCAgICB2YXIgZG9jdW1lbnRTdGVwTW9kZWwgPSB7XG4gICAgICAgICAgICAgICAgXCJpZFwiOiBzdGVwLl9pZCxcbiAgICAgICAgICAgICAgICBcInNlcVwiOiBzZXEsXG4gICAgICAgICAgICAgICAgXCJzdGFydERhdGVcIjogaW5wdXREYXRhLmNyZWF0ZWREYXRlLFxuICAgICAgICAgICAgICAgIFwic3RhdHVzXCI6IHN0ZXAuX3NldEluc3RhbmNlU3RhdHVzVG8sXG4gICAgICAgICAgICAgICAgXCJtZXNzYWdlXCI6IHN0ZXAuX3NldFN0YXR1c01zZ1RvLFxuICAgICAgICAgICAgICAgIFwiYXNzaWduZWRUb1wiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwidXNlcklkXCI6IGlucHV0RGF0YS51c2VySWQsXG4gICAgICAgICAgICBcdFx0XCJuYW1lXCI6IGlucHV0RGF0YS5uYW1lXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImNvbW1lbnRcIjogaW5wdXREYXRhLmNvbW1lbnQsXG4gICAgICAgICAgICAgICAgXCJjb21wbGV0ZVwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBcImVuZERhdGVcIjogXCJcIlxuXHQgICAgICAgIH07XG5cdFx0XHR1dGlsLnN5bmNMb29wKGRhdGEucmVzLmRhdGFbMF0uZm9ybS5pbmRpY2F0b3JzLmxlbmd0aCwgZnVuY3Rpb24obG9vcCl7XG5cdFx0XHRcdHZhciBjb3VudGVyID0gbG9vcC5pdGVyYXRpb24oKTtcblx0XHRcdFx0Ly8gVXBkYXRlIHRoZSBwcm9jZXNzZXMgaW5zdGFuY2UgbW9kZWwsIGluaWRjYXRvcnMgc2VjdGlvblxuXHRcdFx0XHR2YXIgaW5kaWNhdG9yTW9kZWwgPSB7XG5cdFx0XHRcdFx0XCJpZFwiOiBkYXRhLnJlcy5kYXRhWzBdLmZvcm0uaW5kaWNhdG9yc1tjb3VudGVyXS5jYXRlZ29yeS50ZXJtLCBcblx0XHRcdFx0XHRcImluc3RhbmNlc1wiOiBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFwidXVpZFwiOiBkYXRhLnJlcy5kYXRhWzBdLmZvcm0uaW5kaWNhdG9yc1tjb3VudGVyXS5faWQsIFxuXHRcdFx0XHRcdFx0XHRcImtleVwiOiBcIlwiLCBcblx0XHRcdFx0XHRcdFx0XCJzZXFcIjogMSAgICAgICAgICAgICAgICAgXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XVxuXHRcdFx0XHR9O1xuXHRcdFx0XHQvLyBVcGRhdGUgdGhlIGluZGljYXRvciBzZXQgZG9jdW1lbnRzIHdvcmtmbG93LnByb2Nlc3Nlcy5zdGVwIGRhdGFcblxuXHRcdFx0XHRsb29wLm5leHQoKTtcblx0XHRcdH0sIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdC8vIENoZWNrIGlmIGl0IHNob3VsZCBhdXRvbWF0aWNhbGx5IHRyYW5zaXRpb24gdG8gdGhlIG5leHQgc3RlcFxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygnU3VicHJvY2VzcyBpbmRpY2F0b3JzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LicpO1xuXHRcdFx0XHRpZiAoc3RlcC5hY3Rpb25zWzBdLnRyYW5zaXRpb25zLmxlbmd0aCAhPT0gMCkge1xuXHRcdFx0XHRcdHV0aWwuc3luY0xvb3Aoc3RlcC5hY3Rpb25zWzBdLnRyYW5zaXRpb25zLmxlbmd0aCwgZnVuY3Rpb24obG9vcCl7XG5cdFx0XHRcdFx0XHR2YXIgY291bnRlciA9IGxvb3AuaXRlcmF0aW9uKCk7XG5cdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhzdGVwLl9pZCArICcgdHJhbnNpdGlvbiAnICsgY291bnRlciArICcgc3RhcnRpbmcuJyk7XG5cdFx0XHRcdFx0XHR0cmFuc2l0aW9uKHByb2Nlc3NJZCwgc3ViUHJvY2Vzc0lkLCBzdGVwLl9pZCwgc3RlcC5hY3Rpb25zWzBdLnRyYW5zaXRpb25zW2NvdW50ZXJdLl9pZCwgc3ViUHJvY2Vzc01vZGVsLCB3b3JrZmxvdykudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuXHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZygnVHJhbnNpdGlvbiBzdGVwIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJyk7XG5cdFx0XHRcdFx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdUcmFuc2l0aW9uIHN0ZXAgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS4nLCBzdWJQcm9jZXNzTW9kZWwpO1xuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpO1xuXHRcdFx0XHRcdFx0fSkuZmFpbChmdW5jdGlvbihlcnIpe1xuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcblx0XHRcdFx0XHRcdFx0bG9vcC5icmVhaygpO1xuXHRcdFx0XHRcdFx0fSk7XHRcblx0XHRcdFx0XHRcdGxvb3AubmV4dCgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCdObyB0cmFuc2l0aW9ucyBzcGVjaWZpZWQgaW4gdGhpcyBzdGVwLicpO1xuXHRcdFx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdObyB0cmFuc2l0aW9ucyBzcGVjaWZpZWQgaW4gdGhpcyBzdGVwLicsIHN1YlByb2Nlc3NNb2RlbCk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSkuZmFpbChmdW5jdGlvbihlcnIpe1xuXHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG5cdFx0fSk7IFxuXHRcdC8vIHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdBY3Rpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseS4nLCByZXN1bHQpO1xuXHRcdC8vIGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdH0gZWxzZSBpZiAoc3RlcC50YXNrICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnVGFzayBhd2FpdGluZyB1c2VyIGFjdGlvbi4nLCBzdWJQcm9jZXNzTW9kZWwpO1xuXHRcdGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGVycm9yID0gdXRpbC5lcnJvcignV0YwMTMnKTtcblx0XHRkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuXHR9XG5cdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuZnVuY3Rpb24gYWN0aW9ucyhhY3Rpb25zLCBmb3JtRGVmLCB3b3JrZmxvdyl7XG5cdHZhciBkZWZlcnJlZCA9IFEuZGVmZXIoKTtcblx0dmFyIGNvbXBsZXRlZCA9IFtdO1xuXHR2YXIgcmVzdWx0ID0ge1xuXHRcdGNvbXBsZXRlZDogdHJ1ZSxcblx0XHRkYXRhOiBbXVxuXHR9O1xuXHQvLyBjb25zb2xlLmxvZyhhY3Rpb25zKTtcblx0dXRpbC5zeW5jTG9vcChhY3Rpb25zLmxlbmd0aCwgZnVuY3Rpb24obG9vcCl7XG5cdFx0dmFyIGNvdW50ZXIgPSBsb29wLml0ZXJhdGlvbigpO1xuXHRcdC8vIGNvbnNvbGUubG9nKGNvdW50ZXIpO1xuXHRcdC8vIGNvbnNvbGUubG9nKGFjdGlvbnMubGVuZ3RoKTtcblx0XHQvLyBjb25zb2xlLmxvZyhhY3Rpb25zW2NvdW50ZXJdKTtcblx0XHRhY3Rpb24oYWN0aW9uc1tjb3VudGVyXSwgY291bnRlciwgZm9ybURlZiwgd29ya2Zsb3cpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHRcdFx0XG5cdFx0XHQvLyBDaGVjayBpZiBhbGwgcHJlLXJlcXVpc2l0ZXMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS5cblx0XHRcdC8vIGNvbnNvbGUubG9nKGFjdGlvbnNbY291bnRlcl0uX2lkICsgJyBjb21wbGV0ZWQuJykgO1xuXHRcdFx0Y29tcGxldGVkLnB1c2goZGF0YS5jb21wbGV0ZSk7XG5cdFx0XHRyZXN1bHQuZGF0YS5wdXNoKGRhdGEucmVzKTtcblx0XHRcdGxvb3AubmV4dCgpO1xuXHRcdH0pLmZhaWwoZnVuY3Rpb24oZXJyKXtcblx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xuXHRcdFx0bG9vcC5icmVhaygpO1xuXHRcdH0pO1xuXHR9LCBmdW5jdGlvbigpe1xuXHRcdC8vIGNvbnNvbGUubG9nKCdMb29wIGRvbmUgZnVuY3Rpb24gY2FsbGVkLicpO1xuXHRcdGlmIChjb21wbGV0ZWQuZXZlcnkoQm9vbGVhbikpIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdBY3Rpb25zIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJyk7XG5cdFx0XHRyZXN1bHQuY29tcGxldGVkID0gdHJ1ZTtcblx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdBY3Rpb25zIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJywgcmVzdWx0KTtcblx0XHRcdGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdBY3Rpb25zIGZhaWxlZC4nKTtcblx0XHRcdHJlc3VsdC5jb21wbGV0ZWQgPSBmYWxzZTtcblx0XHRcdHZhciBlcnIgPSB1dGlsLmVycm9yKCdBY3Rpb25zIGZhaWxlZC4nLCByZXN1bHQpO1xuXHRcdFx0ZGVmZXJyZWQucmVqZWN0KHN1Y2Nlc3MpO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuZnVuY3Rpb24gYWN0aW9uKGFjdGlvbiwgY291bnRlciwgZm9ybURlZiwgd29ya2Zsb3cpe1xuXHR2YXIgZGVmZXJyZWQgPSBRLmRlZmVyKCk7XG5cdC8vIGNvbnNvbGUubG9nKGFjdGlvbik7XG5cdHN3aXRjaChhY3Rpb24uX2lkKSB7XG5cdFx0Y2FzZSAnY3JlYXRlRm9ybSc6XG5cdFx0XHRmb3JtLmNyZWF0ZShmb3JtRGVmLCB3b3JrZmxvdykudGhlbihmdW5jdGlvbihyZXN1bHQpe1x0XG5cdFx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRcdHRyYW5zaXRpb25zOiBbXSxcblx0XHRcdFx0XHRmb3JtOiB7XG5cdFx0XHRcdFx0XHRpZDogZm9ybURlZi5pZCxcblx0XHRcdFx0XHRcdGluZGljYXRvcnM6IFtdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGEudHJhbnNpdGlvbnMgPSBhY3Rpb24udHJhbnNpdGlvbnM7XG5cdFx0XHRcdGRhdGEuZm9ybS5pbmRpY2F0b3JzID0gcmVzdWx0LnJlcztcblx0XHRcdFx0dmFyIHN1Y2Nlc3MgPSB1dGlsLnN1Y2Nlc3MocmVzdWx0Lm1lc3NhZ2UsIGRhdGEpO1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpO1xuXHRcdFx0fSkuZmFpbChmdW5jdGlvbihlcnIpe1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcblx0XHRcdH0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0Ly8gY2FzZSAnc2F2ZUluZGljYXRvcic6XG5cdFx0XHRcblx0XHQvLyBcdGJyZWFrO1xuXHRcdC8vIGNhc2UgJ3N1Ym1pdEZvcm0nOlxuXHRcdFx0XG5cdFx0Ly8gXHRicmVhaztcblx0XHRjYXNlICdhdXRob3Jpc2VGb3JtJzpcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdDYWxsaW5nIGF1dGhvcmlzZUZvcm0gYWN0aW9uJyk7XG5cdFx0XHRmb3JtLmF1dGhvcmlzZShmb3JtRGVmLCB3b3JrZmxvdykudGhlbihmdW5jdGlvbihyZXN1bHQpe1x0XG5cdFx0XHRcdHZhciBkYXRhID0ge1xuXHRcdFx0XHRcdHRyYW5zaXRpb25zOiBbXSxcblx0XHRcdFx0XHRmb3JtOiB7XG5cdFx0XHRcdFx0XHRpZDogZm9ybURlZi5pZCxcblx0XHRcdFx0XHRcdGluZGljYXRvcnM6IFtdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGEudHJhbnNpdGlvbnMgPSBhY3Rpb24udHJhbnNpdGlvbnM7XG5cdFx0XHRcdC8vIGRhdGEuZm9ybS5pbmRpY2F0b3JzID0gcmVzdWx0LnJlcztcblx0XHRcdFx0dmFyIHN1Y2Nlc3MgPSB1dGlsLnN1Y2Nlc3MocmVzdWx0Lm1lc3NhZ2UsIGRhdGEpO1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpO1xuXHRcdFx0fSkuZmFpbChmdW5jdGlvbihlcnIpe1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcblx0XHRcdH0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnY2xvc2VGb3JtJzpcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdDYWxsaW5nIGNsb3NlRm9ybSBhY3Rpb24nKTtcblx0XHRcdGZvcm0uY2xvc2UoZm9ybURlZiwgd29ya2Zsb3cpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcdFxuXHRcdFx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdFx0XHR0cmFuc2l0aW9uczogW10sXG5cdFx0XHRcdFx0Zm9ybToge1xuXHRcdFx0XHRcdFx0aWQ6IGZvcm1EZWYuaWQsXG5cdFx0XHRcdFx0XHRpbmRpY2F0b3JzOiBbXVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhLnRyYW5zaXRpb25zID0gYWN0aW9uLnRyYW5zaXRpb25zO1xuXHRcdFx0XHQvLyBkYXRhLmZvcm0uaW5kaWNhdG9ycyA9IHJlc3VsdC5yZXM7XG5cdFx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKHJlc3VsdC5tZXNzYWdlLCBkYXRhKTtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzKTtcblx0XHRcdH0pLmZhaWwoZnVuY3Rpb24oZXJyKXtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG5cdFx0XHR9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR2YXIgZXJyb3IgPSB1dGlsLmVycm9yKCdXRjAyMCcpO1xuXHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycm9yKTtcblx0fVxuXHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbmZ1bmN0aW9uIHRhc2sodGFzayl7XG5cdHJldHVybiAnSW1wbGVtZW50YXRpb24gcGVuZGluZy4uJztcbn07XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb24ocHJvY2Vzc0lkLCBzdWJQcm9jZXNzSWQsIHN0ZXBJZCwgdHJhbnNpdGlvbklkLCBzdWJQcm9jZXNzTW9kZWwsIHdvcmtmbG93KXtcblx0dmFyIGRlZmVycmVkID0gUS5kZWZlcigpO1xuXHR2YXIgY29tcGxldGVkID0gW107XG5cdHZhciByZXN1bHQgPSB7XG5cdFx0Y29tcGxldGU6IGZhbHNlLFxuXHRcdGRhdGE6IFtdXG5cdH07XG5cdHZhciBjdXJyZW50UHJvY2VzcyA9IHdvcmtmbG93LmNvbmZpZy5wcm9jZXNzZXMuZmlsdGVyKGZ1bmN0aW9uKG9ialByb2Nlc3Mpe1xuXHRcdGlmIChvYmpQcm9jZXNzLl9pZCA9PT0gcHJvY2Vzc0lkKSB7XG5cdFx0XHRyZXR1cm4gb2JqUHJvY2Vzcztcblx0XHR9XG5cdH0pO1xuXHR2YXIgY3VycmVudFN1YlByb2Nlc3MgPSBjdXJyZW50UHJvY2Vzc1swXS5zdWJQcm9jZXNzZXMuZmlsdGVyKGZ1bmN0aW9uKG9ialN1YlByb2Nlc3Mpe1xuXHRcdGlmIChvYmpTdWJQcm9jZXNzLl9pZCA9PT0gc3ViUHJvY2Vzc0lkKSB7XG5cdFx0XHRyZXR1cm4gb2JqU3ViUHJvY2Vzcztcblx0XHR9XG5cdH0pO1xuXHR2YXIgY3VycmVudFN0ZXAgPSBjdXJyZW50U3ViUHJvY2Vzc1swXS5zdGVwcy5maWx0ZXIoZnVuY3Rpb24ob2JqU3RlcCl7XG5cdFx0aWYgKG9ialN0ZXAuX2lkID09PSBzdGVwSWQpIHtcblx0XHRcdHJldHVybiBvYmpTdGVwO1xuXHRcdH1cblx0fSk7XG5cdHZhciB0cmFuc2l0aW9uID0ge307XG5cdGlmIChjdXJyZW50U3RlcFswXS5hY3Rpb25zWzBdICE9PSB1bmRlZmluZWQpIHtcblx0XHR0cmFuc2l0aW9uID0gY3VycmVudFN0ZXBbMF0uYWN0aW9uc1swXS50cmFuc2l0aW9ucy5maWx0ZXIoZnVuY3Rpb24ob2JqVHJhbnNpdGlvbil7XG5cdFx0XHRpZiAob2JqVHJhbnNpdGlvbi5faWQgPT09IHRyYW5zaXRpb25JZCkge1xuXHRcdFx0XHRyZXR1cm4gb2JqVHJhbnNpdGlvbjtcblx0XHRcdH1cblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR0cmFuc2l0aW9uID0gY3VycmVudFN0ZXBbMF0udGFzay50cmFuc2l0aW9ucy5maWx0ZXIoZnVuY3Rpb24ob2JqVHJhbnNpdGlvbil7XG5cdFx0XHRpZiAob2JqVHJhbnNpdGlvbi5faWQgPT09IHRyYW5zaXRpb25JZCkge1xuXHRcdFx0XHRyZXR1cm4gb2JqVHJhbnNpdGlvbjtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHR2YXIgc3RlcFNlcSA9IDA7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY3VycmVudFN1YlByb2Nlc3NbMF0uc3RlcHMubGVuZ3RoOyBpKyspe1xuXHRcdGlmIChjdXJyZW50U3ViUHJvY2Vzc1swXS5zdGVwc1tpXS5faWQgPT09IHN0ZXBJZCkge1xuXHRcdFx0c3RlcFNlcSA9IGk7XG5cdFx0fVxuXHR9XG5cdHZhciBuZXh0U3RlcCA9IHt9O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnRTdWJQcm9jZXNzWzBdLnN0ZXBzLmxlbmd0aDsgaSsrKXtcblx0XHR2YXIgbmV4dFN0ZXBTZXEgPSBzdGVwU2VxICsgMTtcblx0XHRpZiAoaSA9PT0gbmV4dFN0ZXBTZXEpIHtcblx0XHRcdG5leHRTdGVwID0gY3VycmVudFN1YlByb2Nlc3NbMF0uc3RlcHNbaV07XG5cdFx0fVxuXHR9XG5cdC8vIGNvbnNvbGUubG9nKHRyYW5zaXRpb24pXG5cdHN3aXRjaCh0cmFuc2l0aW9uWzBdLl90eXBlKSB7XG5cdFx0Y2FzZSAnYXV0byc6XG5cdFx0XHRpZiAodHJhbnNpdGlvblswXS5nb1RvLl90eXBlID09PSAnbmV4dFN0ZXAnKSB7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKHRyYW5zaXRpb25bMF0uZ29Uby5fdHlwZSk7XG5cdFx0XHRcdHN0ZXAocHJvY2Vzc0lkLCBzdWJQcm9jZXNzSWQsIHN1YlByb2Nlc3NNb2RlbCwgbmV4dFN0ZXAsIHN0ZXBTZXEsIHt9LCB7fSwgd29ya2Zsb3cpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhyZXN1bHQpO1xuXHRcdFx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdTdGVwIHRyYW5zaXRpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseS4nLCByZXN1bHQucmVzKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpO1xuXHRcdFx0XHR9KS5mYWlsKGZ1bmN0aW9uKGVycil7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVyci5zdGFjayk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHRyYW5zaXRpb25bMF0uX3N0b3AgPT09IHRydWUpIHtcblx0XHRcdFx0XHR2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnQWxsIFN0ZXAgdHJhbnNpdGlvbnMgaGF2ZSBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LicsIHJlc3VsdC5yZXMpO1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3VzZXInOlxuXHRcdFx0aWYgKHRyYW5zaXRpb25bMF0uZ29Uby5fdHlwZSA9PT0gJ25leHRTdGVwJykge1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyh0cmFuc2l0aW9uWzBdLmdvVG8uX3R5cGUpO1xuXHRcdFx0XHRzdGVwKHByb2Nlc3NJZCwgc3ViUHJvY2Vzc0lkLCBzdWJQcm9jZXNzTW9kZWwsIG5leHRTdGVwLCBzdGVwU2VxLCB7fSwge30sIHdvcmtmbG93KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2cocmVzdWx0KTtcblx0XHRcdFx0XHR2YXIgc3VjY2VzcyA9IHV0aWwuc3VjY2VzcygnU3RlcCB0cmFuc2l0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJywgcmVzdWx0LnJlcyk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzKTtcblx0XHRcdFx0fSkuZmFpbChmdW5jdGlvbihlcnIpe1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIuc3RhY2spO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSBpZiAodHJhbnNpdGlvblswXS5nb1RvLl90eXBlID09PSAnc3RlcElkJykge1xuXHRcdFx0XHR2YXIgZ29Ub1N0ZXBJZCA9IHRyYW5zaXRpb25bMF0uZ29Uby5fc3RlcElkO1xuXHRcdFx0XHR2YXIgZ29Ub1N0ZXAgPSBjdXJyZW50U3ViUHJvY2Vzc1swXS5zdGVwcy5maWx0ZXIoZnVuY3Rpb24ob2JqU3RlcCl7XG5cdFx0XHRcdFx0aWYgKG9ialN0ZXAuX2lkID09PSBnb1RvU3RlcElkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gb2JqU3RlcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR2YXIgZ29Ub1N0ZXBTZXEgPSAxO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGN1cnJlbnRTdWJQcm9jZXNzWzBdLnN0ZXBzLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0XHRpZiAoY3VycmVudFN1YlByb2Nlc3NbMF0uc3RlcHNbaV0uX2lkID09PSBnb1RvU3RlcElkKSB7XG5cdFx0XHRcdFx0XHRnb1RvU3RlcFNlcSA9IGkgKyAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzdGVwKHByb2Nlc3NJZCwgc3ViUHJvY2Vzc0lkLCBzdWJQcm9jZXNzTW9kZWwsIGdvVG9TdGVwWzBdLCBnb1RvU3RlcFNlcSwge30sIHt9LCB3b3JrZmxvdykudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cdFx0XHRcdFx0dmFyIHN1Y2Nlc3MgPSB1dGlsLnN1Y2Nlc3MoJ1N0ZXAgdHJhbnNpdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LicsIHJlc3VsdC5yZXMpO1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdFx0XHRcdH0pLmZhaWwoZnVuY3Rpb24oZXJyKXtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyLnN0YWNrKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAodHJhbnNpdGlvblswXS5fc3RvcCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdBbGwgU3RlcCB0cmFuc2l0aW9ucyBoYXZlIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJywgcmVzdWx0LnJlcyk7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShzdWNjZXNzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGlmICh0cmFuc2l0aW9uWzBdLl9zdG9wID09PSB0cnVlKSB7XG5cdFx0XHRcdHZhciBzdWNjZXNzID0gdXRpbC5zdWNjZXNzKCdBbGwgU3RlcCB0cmFuc2l0aW9ucyBoYXZlIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuJywgcmVzdWx0LnJlcyk7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmUoc3VjY2Vzcyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgZXJyb3IgPSB1dGlsLmVycm9yKCdXRjAwNScpO1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuXHRcdFx0fVxuXHR9XG5cdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuZnVuY3Rpb24gcG9zdEFjdGlvbnMoKXtcblx0cmV0dXJuICdJbXBsZW1lbnRhdGlvbiBwZW5kaW5nLi4nO1xufTtcblxuZnVuY3Rpb24gZnVuYygpe1xuXHRyZXR1cm4gJ0ltcGxlbWVudGF0aW9uIHBlbmRpbmcuLic7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgXG5cbiBcdHN0YXRlOiBzdGF0ZSxcbiBcdHByZVJlcXVpc2l0ZXM6IHByZVJlcXVpc2l0ZXMsXG4gXHRwcmVBY3Rpb25zOiBwcmVBY3Rpb25zLFxuIFx0c3ViUHJvY2Vzczogc3ViUHJvY2VzcyxcbiBcdHRyYW5zaXRpb246IHRyYW5zaXRpb25cblxufSIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVdGlsaXR5IE1vZHVsZVxuICpcbiAqIEBtb2R1bGUgbW9kdWxlcy91dGlsXG4gKiBAYXV0aG9yIEJyZW50IEdvcmRvblxuICogQHZlcnNpb24gMi4wLjBcbiAqIEBkZXNjcmlwdGlvbiBcbiAqIEBjb3B5cmlnaHQgS3dhbnR1IEx0ZCBSU0EgMjAwOS0yMDE1LlxuICpcbiAqL1xuXG4gbW9kdWxlLmV4cG9ydHMgPSB7IFxuXG4gXHRzdWNjZXNzOiBmdW5jdGlvbihtZXNzYWdlLCByZXMpe1xuXHRcdHZhciBkYXRhID0ge1xuXHRcdFx0Y29tcGxldGU6IHRydWUsXG5cdFx0XHRtZXNzYWdlOiBtZXNzYWdlLFxuXHRcdFx0cmVzOiByZXNcblx0XHR9XG5cdFx0cmV0dXJuIGRhdGE7XG5cdH0sXG5cblx0d2FybjogZnVuY3Rpb24obWVzc2FnZSwgcmVzKXtcblx0XHR2YXIgZGF0YSA9IHtcblx0XHRcdGNvbXBsZXRlOiB0cnVlLFxuXHRcdFx0d2FybmluZzogbWVzc2FnZSxcblx0XHRcdHJlczogcmVzXG5cdFx0fVxuXHRcdGNvbnNvbGUud2FybihkYXRhKTtcblx0XHRyZXR1cm4gZGF0YTtcblx0fSxcblxuXHRlcnJvcjogZnVuY3Rpb24oY29kZSwgZXJyKXtcblx0XHR2YXIgZGF0YSA9IG5ldyBFcnJvcignJyk7XG5cdFx0ZGF0YS5uYW1lID0gY29kZTtcblx0XHRzd2l0Y2ggKGNvZGUpIHtcblx0XHRcdGNhc2UgJ1dGMDAxJzogICBcdCBcblx0XHRcdFx0ZGF0YS5tZXNzYWdlID0gJyc7XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0Y2FzZSAnV0YwMDInOiAgIFx0XHQgXG5cdFx0XHRcdGRhdGEubWVzc2FnZSA9ICcnO1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdGNhc2UgJ1dGMDAzJzogXG5cdFx0XHRcdGRhdGEubWVzc2FnZSA9ICcnO1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdGNhc2UgJ1dGMDA0JzogIFx0IFxuXHRcdFx0XHRkYXRhLm1lc3NhZ2UgPSAnJztcblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRjYXNlICdXRjAwNSc6IFx0XHQgXG5cdFx0XHRcdGRhdGEubWVzc2FnZSA9ICcnO1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdGNhc2UgJ1dGMDA2JzogXHRcdCBcblx0XHRcdFx0ZGF0YS5tZXNzYWdlID0gJyc7XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0Y2FzZSAnV0YwMDcnOiBcdFx0IFxuXHRcdFx0XHRkYXRhLm1lc3NhZ2UgPSAnJztcblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRjYXNlICdXRjAwOCc6IFx0XHQgXG5cdFx0XHRcdGRhdGEubWVzc2FnZSA9ICcnO1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdGNhc2UgJ1dGMDA5JzogXHRcdCBcblx0XHRcdFx0ZGF0YS5tZXNzYWdlID0gJyc7XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0Y2FzZSAnV0YwMTAnOiBcdFx0IFxuXHRcdFx0XHRkYXRhLm1lc3NhZ2UgPSAnJztcblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRjYXNlICdXRjAxMSc6IFx0XHQgXG5cdFx0XHRcdGRhdGEubWVzc2FnZSA9ICcnO1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdGNhc2UgJ1dGMDEyJzogXHRcdCBcblx0XHRcdFx0ZGF0YS5tZXNzYWdlID0gJyc7XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0Y2FzZSAnV0YwMTMnOiBcdFx0IFxuXHRcdFx0XHRkYXRhLm1lc3NhZ2UgPSAnJztcblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRjYXNlICdXRjAxNCc6IFx0XHQgXG5cdFx0XHRcdGRhdGEubWVzc2FnZSA9ICcnO1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdGNhc2UgJ1dGMDE1JzogXHRcdCBcblx0XHRcdFx0ZGF0YS5tZXNzYWdlID0gJyc7XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0Y2FzZSAnV0YwMTYnOiBcdFx0IFxuXHRcdFx0XHRkYXRhLm1lc3NhZ2UgPSAnJztcblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRjYXNlICdXRjAxNyc6IFx0XHQgXG5cdFx0XHRcdGRhdGEubWVzc2FnZSA9ICcnO1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdGNhc2UgJ1dGMDE4JzogXHRcdCBcblx0XHRcdFx0ZGF0YS5tZXNzYWdlID0gJyc7XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0Y2FzZSAnV0YwMTknOiBcdFx0IFxuXHRcdFx0XHRkYXRhLm1lc3NhZ2UgPSAnJztcblx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRjYXNlICdXRjAyMCc6IFx0XHQgXG5cdFx0XHRcdGRhdGEubWVzc2FnZSA9ICcnO1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdGRlZmF1bHQ6IFx0XHQgXG5cdFx0XHRcdGRhdGEubmFtZSA9ICdFUlIwMDEnO1xuXHRcdFx0XHRkYXRhLm1lc3NhZ2UgPSAnRGVmYXVsdCBlcnJvciBtZXNzYWdlLCBwbGVhc2UgYWRkIGEgbW9yZSBzcGVjaWZpYyBlcnJvciBjb2RlIGFuZCBtZXNzYWdlLiBTZWUgc3RhY2t0cmFjZSBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nO1xuXHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9XG5cdH0sXG5cbiBcdHN5bmNMb29wOiBmdW5jdGlvbihpdGVyYXRpb25zLCBwcm9jZXNzLCBleGl0KXsgIFxuXHQgICAgdmFyIGluZGV4ID0gMCxcblx0ICAgICAgICBkb25lID0gZmFsc2UsXG5cdCAgICAgICAgc2hvdWxkRXhpdCA9IGZhbHNlO1xuXHQgICAgdmFyIGxvb3AgPSB7XG5cdCAgICAgICAgbmV4dDpmdW5jdGlvbigpe1xuXHQgICAgICAgICAgICBpZihkb25lKXtcblx0ICAgICAgICAgICAgICAgIGlmKHNob3VsZEV4aXQgJiYgZXhpdCl7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4aXQoKTsgLy8gRXhpdCBpZiB3ZSdyZSBkb25lXG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgLy8gSWYgd2UncmUgbm90IGZpbmlzaGVkXG5cdCAgICAgICAgICAgIGlmKGluZGV4IDwgaXRlcmF0aW9ucyl7XG5cdCAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBJbmNyZW1lbnQgb3VyIGluZGV4XG5cdCAgICAgICAgICAgICAgICBwcm9jZXNzKGxvb3ApOyAvLyBSdW4gb3VyIHByb2Nlc3MsIHBhc3MgaW4gdGhlIGxvb3Bcblx0ICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHdlJ3JlIGRvbmVcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlOyAvLyBNYWtlIHN1cmUgd2Ugc2F5IHdlJ3JlIGRvbmVcblx0ICAgICAgICAgICAgICAgIGlmKGV4aXQpIGV4aXQoKTsgLy8gQ2FsbCB0aGUgY2FsbGJhY2sgb24gZXhpdFxuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSxcblx0ICAgICAgICBpdGVyYXRpb246ZnVuY3Rpb24oKXtcblx0ICAgICAgICAgICAgcmV0dXJuIGluZGV4IC0gMTsgLy8gUmV0dXJuIHRoZSBsb29wIG51bWJlciB3ZSdyZSBvblxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgYnJlYWs6ZnVuY3Rpb24oZW5kKXtcblx0ICAgICAgICAgICAgZG9uZSA9IHRydWU7IC8vIEVuZCB0aGUgbG9vcFxuXHQgICAgICAgICAgICBzaG91bGRFeGl0ID0gZW5kOyAvLyBQYXNzaW5nIGVuZCBhcyB0cnVlIG1lYW5zIHdlIHN0aWxsIGNhbGwgdGhlIGV4aXQgY2FsbGJhY2tcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHQgICAgbG9vcC5uZXh0KCk7XG5cdCAgICByZXR1cm4gbG9vcDtcblx0fSxcblxuXHRjb21wYXJlOiBmdW5jdGlvbihzdWJqZWN0LCBvcGVyYXRvciwgdmFsdWUpIHtcblx0ICBcdHN3aXRjaCAob3BlcmF0b3IpIHtcblx0ICBcdFx0Y2FzZSAnZ3JlYXRlclRoYW4nOiAgIFx0IFxuXHRcdFx0XHRyZXR1cm4gc3ViamVjdCA+IHZhbHVlO1xuXHRcdFx0Y2FzZSAnbGVzc1RoYW4nOiAgIFx0XHQgXG5cdFx0XHRcdHJldHVybiBzdWJqZWN0IDwgdmFsdWU7XG5cdFx0XHRjYXNlICdncmVhdGVyVGhhbkVxdWFsJzogXG5cdFx0XHRcdHJldHVybiBzdWJqZWN0ID49IHZhbHVlO1xuXHRcdFx0Y2FzZSAnbGVzc1RoYW5FcXVhbCc6ICBcdCBcblx0XHRcdFx0cmV0dXJuIHN1YmplY3QgPD0gdmFsdWU7XG5cdFx0XHRjYXNlICdlcXVhbFRvJzogXHRcdCBcblx0XHRcdFx0cmV0dXJuIHN1YmplY3QgPT09IHZhbHVlO1xuXHRcdFx0Y2FzZSAnbm90RXF1YWxUbyc6IFx0XHQgXG5cdFx0XHRcdHJldHVybiBzdWJqZWN0ICE9PSB2YWx1ZTtcblx0ICBcdH1cblx0fVxuXHRcbiB9IiwiLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2pha2VhcmNoaWJhbGQvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgMy4yLjFcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIHggPT09ICdvYmplY3QnICYmIHggIT09IG51bGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNGdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc01heWJlVGhlbmFibGUoeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAmJiB4ICE9PSBudWxsO1xuICAgIH1cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5O1xuICAgIGlmICghQXJyYXkuaXNBcnJheSkge1xuICAgICAgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkdXRpbHMkJF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbiAgICB9XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHV0aWxzJCRpc0FycmF5ID0gbGliJGVzNiRwcm9taXNlJHV0aWxzJCRfaXNBcnJheTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiA9IDA7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR2ZXJ0eE5leHQ7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRjdXN0b21TY2hlZHVsZXJGbjtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcCA9IGZ1bmN0aW9uIGFzYXAoY2FsbGJhY2ssIGFyZykge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2xpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW5dID0gY2FsbGJhY2s7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiArIDFdID0gYXJnO1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGxlbiArPSAyO1xuICAgICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW4gPT09IDIpIHtcbiAgICAgICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgICAgICAvLyBJZiBhZGRpdGlvbmFsIGNhbGxiYWNrcyBhcmUgcXVldWVkIGJlZm9yZSB0aGUgcXVldWUgaXMgZmx1c2hlZCwgdGhleVxuICAgICAgICAvLyB3aWxsIGJlIHByb2Nlc3NlZCBieSB0aGlzIGZsdXNoIHRoYXQgd2UgYXJlIHNjaGVkdWxpbmcuXG4gICAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm4pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm4obGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldFNjaGVkdWxlcihzY2hlZHVsZUZuKSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRBc2FwKGFzYXBGbikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXAgPSBhc2FwRm47XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93ID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwgPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3NlcldpbmRvdyB8fCB7fTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJGFzYXAkJEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBsaWIkZXM2JHByb21pc2UkYXNhcCQkYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbiAgICAvLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkYXNhcCQkaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBNZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCc7XG5cbiAgICAvLyBub2RlXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU5leHRUaWNrKCkge1xuICAgICAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2N1am9qcy93aGVuL2lzc3Vlcy80MTAgZm9yIGRldGFpbHNcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB2ZXJ0eFxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VWZXJ0eFRpbWVyKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0KGxpYiRlczYkcHJvbWlzZSRhc2FwJCRmbHVzaCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG9ic2VydmVyID0gbmV3IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRCcm93c2VyTXV0YXRpb25PYnNlcnZlcihsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2gpO1xuICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBub2RlLmRhdGEgPSAoaXRlcmF0aW9ucyA9ICsraXRlcmF0aW9ucyAlIDIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyB3ZWIgd29ya2VyXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU1lc3NhZ2VDaGFubmVsKCkge1xuICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZVNldFRpbWVvdXQoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQobGliJGVzNiRwcm9taXNlJGFzYXAkJGZsdXNoLCAxKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZSA9IG5ldyBBcnJheSgxMDAwKTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkZmx1c2goKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRsZW47IGkrPTIpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2ldO1xuICAgICAgICB2YXIgYXJnID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHF1ZXVlW2krMV07XG5cbiAgICAgICAgY2FsbGJhY2soYXJnKTtcblxuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRxdWV1ZVtpKzFdID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkbGVuID0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXR0ZW1wdFZlcnR4KCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHIgPSByZXF1aXJlO1xuICAgICAgICB2YXIgdmVydHggPSByKCd2ZXJ0eCcpO1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkdmVydHhOZXh0ID0gdmVydHgucnVuT25Mb29wIHx8IHZlcnR4LnJ1bk9uQ29udGV4dDtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VWZXJ0eFRpbWVyKCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoO1xuICAgIC8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG4gICAgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc05vZGUpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU5leHRUaWNrKCk7XG4gICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkYXNhcCQkQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHVzZU11dGF0aW9uT2JzZXJ2ZXIoKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRpc1dvcmtlcikge1xuICAgICAgbGliJGVzNiRwcm9taXNlJGFzYXAkJHNjaGVkdWxlRmx1c2ggPSBsaWIkZXM2JHByb21pc2UkYXNhcCQkdXNlTWVzc2FnZUNoYW5uZWwoKTtcbiAgICB9IGVsc2UgaWYgKGxpYiRlczYkcHJvbWlzZSRhc2FwJCRicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzY2hlZHVsZUZsdXNoID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGF0dGVtcHRWZXJ0eCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkc2NoZWR1bGVGbHVzaCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCR1c2VTZXRUaW1lb3V0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSR0aGVuJCR0aGVuKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKSB7XG4gICAgICB2YXIgcGFyZW50ID0gdGhpcztcblxuICAgICAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG5cbiAgICAgIGlmIChjaGlsZFtsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQUk9NSVNFX0lEXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG1ha2VQcm9taXNlKGNoaWxkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1tzdGF0ZSAtIDFdO1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChmdW5jdGlvbigpe1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGludm9rZUNhbGxiYWNrKHN0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdGhlbiQkZGVmYXVsdCA9IGxpYiRlczYkcHJvbWlzZSR0aGVuJCR0aGVuO1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJHJlc29sdmUob2JqZWN0KSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICAgICAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IENvbnN0cnVjdG9yKSB7XG4gICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVzb2x2ZShwcm9taXNlLCBvYmplY3QpO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkcmVzb2x2ZTtcbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUFJPTUlTRV9JRCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygxNik7XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wKCkge31cblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HICAgPSB2b2lkIDA7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCA9IDE7XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEICA9IDI7XG5cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IgPSBuZXcgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkRXJyb3JPYmplY3QoKTtcblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHNlbGZGdWxmaWxsbWVudCgpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRjYW5ub3RSZXR1cm5Pd24oKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4ocHJvbWlzZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbjtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkR0VUX1RIRU5fRVJST1IuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEdFVF9USEVOX0VSUk9SO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeVRoZW4odGhlbiwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbikge1xuICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgICAgICAgdmFyIHNlYWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCR0cnlUaGVuKHRoZW4sIHRoZW5hYmxlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmIChzZWFsZWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICBpZiAoc2VhbGVkKSB7IHJldHVybjsgfVxuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSwgJ1NldHRsZTogJyArIChwcm9taXNlLl9sYWJlbCB8fCAnIHVua25vd24gcHJvbWlzZScpKTtcblxuICAgICAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgICAgIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICAgICAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuKSB7XG4gICAgICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJlxuICAgICAgICAgIHRoZW4gPT09IGxpYiRlczYkcHJvbWlzZSR0aGVuJCRkZWZhdWx0ICYmXG4gICAgICAgICAgY29uc3RydWN0b3IucmVzb2x2ZSA9PT0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVzb2x2ZSQkZGVmYXVsdCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGVuID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRHRVRfVEhFTl9FUlJPUi5lcnJvcik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICAgICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24odGhlbikpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkZnVsZmlsbChwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkc2VsZkZ1bGZpbGxtZW50KCkpO1xuICAgICAgfSBlbHNlIGlmIChsaWIkZXM2JHByb21pc2UkdXRpbHMkJG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGdldFRoZW4odmFsdWUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICAgICAgaWYgKHByb21pc2UuX29uZXJyb3IpIHtcbiAgICAgICAgcHJvbWlzZS5fb25lcnJvcihwcm9taXNlLl9yZXN1bHQpO1xuICAgICAgfVxuXG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoKHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykgeyByZXR1cm47IH1cblxuICAgICAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gICAgICBwcm9taXNlLl9zdGF0ZSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRDtcblxuICAgICAgaWYgKHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoLCBwcm9taXNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBFTkRJTkcpIHsgcmV0dXJuOyB9XG4gICAgICBwcm9taXNlLl9zdGF0ZSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEO1xuICAgICAgcHJvbWlzZS5fcmVzdWx0ID0gcmVhc29uO1xuXG4gICAgICBsaWIkZXM2JHByb21pc2UkYXNhcCQkYXNhcChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgbGVuZ3RoID0gc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG4gICAgICBwYXJlbnQuX29uZXJyb3IgPSBudWxsO1xuXG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRURdID0gb25GdWxmaWxsbWVudDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEXSAgPSBvblJlamVjdGlvbjtcblxuICAgICAgaWYgKGxlbmd0aCA9PT0gMCAmJiBwYXJlbnQuX3N0YXRlKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSRhc2FwJCRhc2FwKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHB1Ymxpc2gsIHBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcHVibGlzaChwcm9taXNlKSB7XG4gICAgICB2YXIgc3Vic2NyaWJlcnMgPSBwcm9taXNlLl9zdWJzY3JpYmVycztcbiAgICAgIHZhciBzZXR0bGVkID0gcHJvbWlzZS5fc3RhdGU7XG5cbiAgICAgIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgICAgIHZhciBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgICAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2soZGV0YWlsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEVycm9yT2JqZWN0KCkge1xuICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUiA9IG5ldyBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRFcnJvck9iamVjdCgpO1xuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkdHJ5Q2F0Y2goY2FsbGJhY2ssIGRldGFpbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SLmVycm9yID0gZTtcbiAgICAgICAgcmV0dXJuIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFRSWV9DQVRDSF9FUlJPUjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzRnVuY3Rpb24oY2FsbGJhY2spLFxuICAgICAgICAgIHZhbHVlLCBlcnJvciwgc3VjY2VlZGVkLCBmYWlsZWQ7XG5cbiAgICAgIGlmIChoYXNDYWxsYmFjaykge1xuICAgICAgICB2YWx1ZSA9IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHRyeUNhdGNoKGNhbGxiYWNrLCBkZXRhaWwpO1xuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkVFJZX0NBVENIX0VSUk9SKSB7XG4gICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICBlcnJvciA9IHZhbHVlLmVycm9yO1xuICAgICAgICAgIHZhbHVlID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBkZXRhaWw7XG4gICAgICAgIHN1Y2NlZWRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykge1xuICAgICAgICAvLyBub29wXG4gICAgICB9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIHN1Y2NlZWRlZCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoZmFpbGVkKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICB9IGVsc2UgaWYgKHNldHRsZWQgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJEZVTEZJTExFRCkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQpIHtcbiAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpe1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbiByZWplY3RQcm9taXNlKHJlYXNvbikge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGlkID0gMDtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRuZXh0SWQoKSB7XG4gICAgICByZXR1cm4gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaWQrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRtYWtlUHJvbWlzZShwcm9taXNlKSB7XG4gICAgICBwcm9taXNlW2xpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBST01JU0VfSURdID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaWQrKztcbiAgICAgIHByb21pc2UuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgICAgcHJvbWlzZS5fcmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGFsbChlbnRyaWVzKSB7XG4gICAgICByZXR1cm4gbmV3IGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRkZWZhdWx0KHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGRlZmF1bHQgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRhbGwkJGFsbDtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRyYWNlKGVudHJpZXMpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gICAgICBpZiAoIWxpYiRlczYkcHJvbWlzZSR1dGlscyQkaXNBcnJheShlbnRyaWVzKSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmFjZSQkcmFjZTtcbiAgICBmdW5jdGlvbiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZWplY3QkJHJlamVjdChyZWFzb24pIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG4gICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkcmVqZWN0JCRyZWplY3Q7XG5cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc1Jlc29sdmVyKCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRuZWVkc05ldygpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgfVxuXG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2U7XG4gICAgLyoqXG4gICAgICBQcm9taXNlIG9iamVjdHMgcmVwcmVzZW50IHRoZSBldmVudHVhbCByZXN1bHQgb2YgYW4gYXN5bmNocm9ub3VzIG9wZXJhdGlvbi4gVGhlXG4gICAgICBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLCB3aGljaFxuICAgICAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gICAgICB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cblxuICAgICAgVGVybWlub2xvZ3lcbiAgICAgIC0tLS0tLS0tLS0tXG5cbiAgICAgIC0gYHByb21pc2VgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB3aXRoIGEgYHRoZW5gIG1ldGhvZCB3aG9zZSBiZWhhdmlvciBjb25mb3JtcyB0byB0aGlzIHNwZWNpZmljYXRpb24uXG4gICAgICAtIGB0aGVuYWJsZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyBhIGB0aGVuYCBtZXRob2QuXG4gICAgICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gICAgICAtIGBleGNlcHRpb25gIGlzIGEgdmFsdWUgdGhhdCBpcyB0aHJvd24gdXNpbmcgdGhlIHRocm93IHN0YXRlbWVudC5cbiAgICAgIC0gYHJlYXNvbmAgaXMgYSB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aHkgYSBwcm9taXNlIHdhcyByZWplY3RlZC5cbiAgICAgIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gICAgICBBIHByb21pc2UgY2FuIGJlIGluIG9uZSBvZiB0aHJlZSBzdGF0ZXM6IHBlbmRpbmcsIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQuXG5cbiAgICAgIFByb21pc2VzIHRoYXQgYXJlIGZ1bGZpbGxlZCBoYXZlIGEgZnVsZmlsbG1lbnQgdmFsdWUgYW5kIGFyZSBpbiB0aGUgZnVsZmlsbGVkXG4gICAgICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gICAgICByZWplY3RlZCBzdGF0ZS4gIEEgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmV2ZXIgYSB0aGVuYWJsZS5cblxuICAgICAgUHJvbWlzZXMgY2FuIGFsc28gYmUgc2FpZCB0byAqcmVzb2x2ZSogYSB2YWx1ZS4gIElmIHRoaXMgdmFsdWUgaXMgYWxzbyBhXG4gICAgICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gICAgICBzZXR0bGVkIHN0YXRlLiAgU28gYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCByZWplY3RzIHdpbGxcbiAgICAgIGl0c2VsZiByZWplY3QsIGFuZCBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpbGxcbiAgICAgIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgICAgIEJhc2ljIFVzYWdlOlxuICAgICAgLS0tLS0tLS0tLS0tXG5cbiAgICAgIGBgYGpzXG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAvLyBvbiBzdWNjZXNzXG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgICAgIC8vIG9uIGZhaWx1cmVcbiAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcblxuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgLy8gb24gcmVqZWN0aW9uXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBBZHZhbmNlZCBVc2FnZTpcbiAgICAgIC0tLS0tLS0tLS0tLS0tLVxuXG4gICAgICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gICAgICBgWE1MSHR0cFJlcXVlc3Rgcy5cblxuICAgICAgYGBganNcbiAgICAgIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBoYW5kbGVyO1xuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ2dldEpTT046IGAnICsgdXJsICsgJ2AgZmFpbGVkIHdpdGggc3RhdHVzOiBbJyArIHRoaXMuc3RhdHVzICsgJ10nKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZ2V0SlNPTignL3Bvc3RzLmpzb24nKS50aGVuKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICAvLyBvbiByZWplY3Rpb25cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIFVubGlrZSBjYWxsYmFja3MsIHByb21pc2VzIGFyZSBncmVhdCBjb21wb3NhYmxlIHByaW1pdGl2ZXMuXG5cbiAgICAgIGBgYGpzXG4gICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgIGdldEpTT04oJy9wb3N0cycpLFxuICAgICAgICBnZXRKU09OKCcvY29tbWVudHMnKVxuICAgICAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgICAgICB2YWx1ZXNbMF0gLy8gPT4gcG9zdHNKU09OXG4gICAgICAgIHZhbHVlc1sxXSAvLyA9PiBjb21tZW50c0pTT05cblxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQGNsYXNzIFByb21pc2VcbiAgICAgIEBwYXJhbSB7ZnVuY3Rpb259IHJlc29sdmVyXG4gICAgICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gICAgICBAY29uc3RydWN0b3JcbiAgICAqL1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgICB0aGlzW2xpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBST01JU0VfSURdID0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbmV4dElkKCk7XG4gICAgICB0aGlzLl9yZXN1bHQgPSB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRub29wICE9PSByZXNvbHZlcikge1xuICAgICAgICB0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicgJiYgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzUmVzb2x2ZXIoKTtcbiAgICAgICAgdGhpcyBpbnN0YW5jZW9mIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlID8gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkaW5pdGlhbGl6ZVByb21pc2UodGhpcywgcmVzb2x2ZXIpIDogbGliJGVzNiRwcm9taXNlJHByb21pc2UkJG5lZWRzTmV3KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UuYWxsID0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkYWxsJCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnJhY2UgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyYWNlJCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnJlc29sdmUgPSBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSRyZXNvbHZlJCRkZWZhdWx0O1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLnJlamVjdCA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlamVjdCQkZGVmYXVsdDtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJHNldFNjaGVkdWxlcjtcbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5fc2V0QXNhcCA9IGxpYiRlczYkcHJvbWlzZSRhc2FwJCRzZXRBc2FwO1xuICAgIGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRQcm9taXNlLl9hc2FwID0gbGliJGVzNiRwcm9taXNlJGFzYXAkJGFzYXA7XG5cbiAgICBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gICAgICBjb25zdHJ1Y3RvcjogbGliJGVzNiRwcm9taXNlJHByb21pc2UkJFByb21pc2UsXG5cbiAgICAvKipcbiAgICAgIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICAgICAgd2hpY2ggcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGVcbiAgICAgIHJlYXNvbiB3aHkgdGhlIHByb21pc2UgY2Fubm90IGJlIGZ1bGZpbGxlZC5cblxuICAgICAgYGBganNcbiAgICAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbih1c2VyKXtcbiAgICAgICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgIC8vIHVzZXIgaXMgdW5hdmFpbGFibGUsIGFuZCB5b3UgYXJlIGdpdmVuIHRoZSByZWFzb24gd2h5XG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBDaGFpbmluZ1xuICAgICAgLS0tLS0tLS1cblxuICAgICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgICAgIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmaXJzdCBwcm9taXNlJ3MgZnVsZmlsbG1lbnRcbiAgICAgIG9yIHJlamVjdGlvbiBoYW5kbGVyLCBvciByZWplY3RlZCBpZiB0aGUgaGFuZGxlciB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHJldHVybiB1c2VyLm5hbWU7XG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHJldHVybiAnZGVmYXVsdCBuYW1lJztcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgICAgIC8vIElmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgdXNlck5hbWVgIHdpbGwgYmUgdGhlIHVzZXIncyBuYW1lLCBvdGhlcndpc2UgaXRcbiAgICAgICAgLy8gd2lsbCBiZSBgJ2RlZmF1bHQgbmFtZSdgXG4gICAgICB9KTtcblxuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZSdyZSB1bmhhcHB5Jyk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBuZXZlciByZWFjaGVkXG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgICAgIC8vIElmIGBmaW5kVXNlcmAgcmVqZWN0ZWQsIGByZWFzb25gIHdpbGwgYmUgJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknLlxuICAgICAgfSk7XG4gICAgICBgYGBcbiAgICAgIElmIHRoZSBkb3duc3RyZWFtIHByb21pc2UgZG9lcyBub3Qgc3BlY2lmeSBhIHJlamVjdGlvbiBoYW5kbGVyLCByZWplY3Rpb24gcmVhc29ucyB3aWxsIGJlIHByb3BhZ2F0ZWQgZnVydGhlciBkb3duc3RyZWFtLlxuXG4gICAgICBgYGBqc1xuICAgICAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBQZWRhZ29naWNhbEV4Y2VwdGlvbignVXBzdHJlYW0gZXJyb3InKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgLy8gVGhlIGBQZWRnYWdvY2lhbEV4Y2VwdGlvbmAgaXMgcHJvcGFnYXRlZCBhbGwgdGhlIHdheSBkb3duIHRvIGhlcmVcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEFzc2ltaWxhdGlvblxuICAgICAgLS0tLS0tLS0tLS0tXG5cbiAgICAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gICAgICByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJldHVybmluZyBhIHByb21pc2UgaW4gdGhlXG4gICAgICBmdWxmaWxsbWVudCBvciByZWplY3Rpb24gaGFuZGxlci4gVGhlIGRvd25zdHJlYW0gcHJvbWlzZSB3aWxsIHRoZW4gYmUgcGVuZGluZ1xuICAgICAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAgICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgSWYgdGhlIGFzc2ltbGlhdGVkIHByb21pc2UgcmVqZWN0cywgdGhlbiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgYWxzbyByZWplY3QuXG5cbiAgICAgIGBgYGpzXG4gICAgICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAgICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCBmdWxmaWxscywgd2UnbGwgaGF2ZSB0aGUgdmFsdWUgaGVyZVxuICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBTaW1wbGUgRXhhbXBsZVxuICAgICAgLS0tLS0tLS0tLS0tLS1cblxuICAgICAgU3luY2hyb25vdXMgRXhhbXBsZVxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBmaW5kUmVzdWx0KCk7XG4gICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgIC8vIGZhaWx1cmVcbiAgICAgIH1cbiAgICAgIGBgYFxuXG4gICAgICBFcnJiYWNrIEV4YW1wbGVcblxuICAgICAgYGBganNcbiAgICAgIGZpbmRSZXN1bHQoZnVuY3Rpb24ocmVzdWx0LCBlcnIpe1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgUHJvbWlzZSBFeGFtcGxlO1xuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICBmaW5kUmVzdWx0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAvLyBzdWNjZXNzXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyBmYWlsdXJlXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBBZHZhbmNlZCBFeGFtcGxlXG4gICAgICAtLS0tLS0tLS0tLS0tLVxuXG4gICAgICBTeW5jaHJvbm91cyBFeGFtcGxlXG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciBhdXRob3IsIGJvb2tzO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgICAgIGJvb2tzICA9IGZpbmRCb29rc0J5QXV0aG9yKGF1dGhvcik7XG4gICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgIC8vIGZhaWx1cmVcbiAgICAgIH1cbiAgICAgIGBgYFxuXG4gICAgICBFcnJiYWNrIEV4YW1wbGVcblxuICAgICAgYGBganNcblxuICAgICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZhaWx1cmUocmVhc29uKSB7XG5cbiAgICAgIH1cblxuICAgICAgZmluZEF1dGhvcihmdW5jdGlvbihhdXRob3IsIGVycil7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgICAgLy8gZmFpbHVyZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmaW5kQm9vb2tzQnlBdXRob3IoYXV0aG9yLCBmdW5jdGlvbihib29rcywgZXJyKSB7XG4gICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGZvdW5kQm9va3MoYm9va3MpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgUHJvbWlzZSBFeGFtcGxlO1xuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICBmaW5kQXV0aG9yKCkuXG4gICAgICAgIHRoZW4oZmluZEJvb2tzQnlBdXRob3IpLlxuICAgICAgICB0aGVuKGZ1bmN0aW9uKGJvb2tzKXtcbiAgICAgICAgICAvLyBmb3VuZCBib29rc1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBtZXRob2QgdGhlblxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25GdWxmaWxsZWRcbiAgICAgIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0ZWRcbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICAgKi9cbiAgICAgIHRoZW46IGxpYiRlczYkcHJvbWlzZSR0aGVuJCRkZWZhdWx0LFxuXG4gICAgLyoqXG4gICAgICBgY2F0Y2hgIGlzIHNpbXBseSBzdWdhciBmb3IgYHRoZW4odW5kZWZpbmVkLCBvblJlamVjdGlvbilgIHdoaWNoIG1ha2VzIGl0IHRoZSBzYW1lXG4gICAgICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuXG4gICAgICBgYGBqc1xuICAgICAgZnVuY3Rpb24gZmluZEF1dGhvcigpe1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkbid0IGZpbmQgdGhhdCBhdXRob3InKTtcbiAgICAgIH1cblxuICAgICAgLy8gc3luY2hyb25vdXNcbiAgICAgIHRyeSB7XG4gICAgICAgIGZpbmRBdXRob3IoKTtcbiAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICB9XG5cbiAgICAgIC8vIGFzeW5jIHdpdGggcHJvbWlzZXNcbiAgICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQG1ldGhvZCBjYXRjaFxuICAgICAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICAgKi9cbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3I7XG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IoQ29uc3RydWN0b3IsIGlucHV0KSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7XG4gICAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3IobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkbm9vcCk7XG5cbiAgICAgIGlmICghdGhpcy5wcm9taXNlW2xpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFBST01JU0VfSURdKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG1ha2VQcm9taXNlKHRoaXMucHJvbWlzZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsaWIkZXM2JHByb21pc2UkdXRpbHMkJGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgIHRoaXMuX2lucHV0ICAgICA9IGlucHV0O1xuICAgICAgICB0aGlzLmxlbmd0aCAgICAgPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIHRoaXMuX3JlbWFpbmluZyA9IGlucHV0Lmxlbmd0aDtcblxuICAgICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMDtcbiAgICAgICAgICB0aGlzLl9lbnVtZXJhdGUoKTtcbiAgICAgICAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgICBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHJlamVjdCh0aGlzLnByb21pc2UsIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCR2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJHZhbGlkYXRpb25FcnJvcigpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0FycmF5IE1ldGhvZHMgbXVzdCBiZSBwcm92aWRlZCBhbiBBcnJheScpO1xuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRlbnVtZXJhdG9yJCRFbnVtZXJhdG9yLnByb3RvdHlwZS5fZW51bWVyYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGVuZ3RoICA9IHRoaXMubGVuZ3RoO1xuICAgICAgdmFyIGlucHV0ICAgPSB0aGlzLl9pbnB1dDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IHRoaXMuX3N0YXRlID09PSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRQRU5ESU5HICYmIGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX2VhY2hFbnRyeSA9IGZ1bmN0aW9uKGVudHJ5LCBpKSB7XG4gICAgICB2YXIgYyA9IHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3I7XG4gICAgICB2YXIgcmVzb2x2ZSA9IGMucmVzb2x2ZTtcblxuICAgICAgaWYgKHJlc29sdmUgPT09IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJHJlc29sdmUkJGRlZmF1bHQpIHtcbiAgICAgICAgdmFyIHRoZW4gPSBsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRnZXRUaGVuKGVudHJ5KTtcblxuICAgICAgICBpZiAodGhlbiA9PT0gbGliJGVzNiRwcm9taXNlJHRoZW4kJGRlZmF1bHQgJiZcbiAgICAgICAgICAgIGVudHJ5Ll9zdGF0ZSAhPT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykge1xuICAgICAgICAgIHRoaXMuX3NldHRsZWRBdChlbnRyeS5fc3RhdGUsIGksIGVudHJ5Ll9yZXN1bHQpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGVuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG4gICAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gbGliJGVzNiRwcm9taXNlJHByb21pc2UkJGRlZmF1bHQpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJG5vb3ApO1xuICAgICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgZW50cnksIHRoZW4pO1xuICAgICAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChwcm9taXNlLCBpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24ocmVzb2x2ZSkgeyByZXNvbHZlKGVudHJ5KTsgfSksIGkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQocmVzb2x2ZShlbnRyeSksIGkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBsaWIkZXM2JHByb21pc2UkZW51bWVyYXRvciQkRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uKHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUEVORElORykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcblxuICAgICAgICBpZiAoc3RhdGUgPT09IGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJFJFSkVDVEVEKSB7XG4gICAgICAgICAgbGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJGZ1bGZpbGwocHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGliJGVzNiRwcm9taXNlJGVudW1lcmF0b3IkJEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbihwcm9taXNlLCBpKSB7XG4gICAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICAgIGxpYiRlczYkcHJvbWlzZSQkaW50ZXJuYWwkJHN1YnNjcmliZShwcm9taXNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVudW1lcmF0b3IuX3NldHRsZWRBdChsaWIkZXM2JHByb21pc2UkJGludGVybmFsJCRGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICBlbnVtZXJhdG9yLl9zZXR0bGVkQXQobGliJGVzNiRwcm9taXNlJCRpbnRlcm5hbCQkUkVKRUNURUQsIGksIHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkcG9seWZpbGwoKSB7XG4gICAgICB2YXIgbG9jYWw7XG5cbiAgICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGxvY2FsID0gZ2xvYmFsO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBsb2NhbCA9IHNlbGY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxvY2FsID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncG9seWZpbGwgZmFpbGVkIGJlY2F1c2UgZ2xvYmFsIG9iamVjdCBpcyB1bmF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgICAgIGlmIChQICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChQLnJlc29sdmUoKSkgPT09ICdbb2JqZWN0IFByb21pc2VdJyAmJiAhUC5jYXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbG9jYWwuUHJvbWlzZSA9IGxpYiRlczYkcHJvbWlzZSRwcm9taXNlJCRkZWZhdWx0O1xuICAgIH1cbiAgICB2YXIgbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRkZWZhdWx0ID0gbGliJGVzNiRwcm9taXNlJHBvbHlmaWxsJCRwb2x5ZmlsbDtcblxuICAgIHZhciBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlID0ge1xuICAgICAgJ1Byb21pc2UnOiBsaWIkZXM2JHByb21pc2UkcHJvbWlzZSQkZGVmYXVsdCxcbiAgICAgICdwb2x5ZmlsbCc6IGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdFxuICAgIH07XG5cbiAgICAvKiBnbG9iYWwgZGVmaW5lOnRydWUgbW9kdWxlOnRydWUgd2luZG93OiB0cnVlICovXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lWydhbWQnXSkge1xuICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gbGliJGVzNiRwcm9taXNlJHVtZCQkRVM2UHJvbWlzZTsgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGVbJ2V4cG9ydHMnXSkge1xuICAgICAgbW9kdWxlWydleHBvcnRzJ10gPSBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzWydFUzZQcm9taXNlJ10gPSBsaWIkZXM2JHByb21pc2UkdW1kJCRFUzZQcm9taXNlO1xuICAgIH1cblxuICAgIGxpYiRlczYkcHJvbWlzZSRwb2x5ZmlsbCQkZGVmYXVsdCgpO1xufSkuY2FsbCh0aGlzKTtcblxuIiwiLy8hIG1vbWVudC5qc1xuLy8hIHZlcnNpb24gOiAyLjEzLjBcbi8vISBhdXRob3JzIDogVGltIFdvb2QsIElza3JlbiBDaGVybmV2LCBNb21lbnQuanMgY29udHJpYnV0b3JzXG4vLyEgbGljZW5zZSA6IE1JVFxuLy8hIG1vbWVudGpzLmNvbVxuXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICBnbG9iYWwubW9tZW50ID0gZmFjdG9yeSgpXG59KHRoaXMsIGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGhvb2tDYWxsYmFjaztcblxuICAgIGZ1bmN0aW9uIHV0aWxzX2hvb2tzX19ob29rcyAoKSB7XG4gICAgICAgIHJldHVybiBob29rQ2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuICAgIC8vIHdpdGhvdXQgY3JlYXRpbmcgY2lyY3VsYXIgZGVwZW5kZW5jaWVzLlxuICAgIGZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayAoY2FsbGJhY2spIHtcbiAgICAgICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IERhdGVdJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgICAgICB2YXIgcmVzID0gW10sIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzT3duUHJvcChhLCBiKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBiKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgICAgIGFbaV0gPSBiW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3RvU3RyaW5nJykpIHtcbiAgICAgICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc093blByb3AoYiwgJ3ZhbHVlT2YnKSkge1xuICAgICAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlX3V0Y19fY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgdHJ1ZSkudXRjKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBkZWVwIGNsb25lIHRoaXMgb2JqZWN0LlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICB1bnVzZWRUb2tlbnMgICAgOiBbXSxcbiAgICAgICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuICAgICAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG4gICAgICAgICAgICBjaGFyc0xlZnRPdmVyICAgOiAwLFxuICAgICAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuICAgICAgICAgICAgaW52YWxpZEZvcm1hdCAgIDogZmFsc2UsXG4gICAgICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcbiAgICAgICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgcGFyc2VkRGF0ZVBhcnRzIDogW10sXG4gICAgICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGFyc2luZ0ZsYWdzKG0pIHtcbiAgICAgICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgICAgIG0uX3BmID0gZGVmYXVsdFBhcnNpbmdGbGFncygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtLl9wZjtcbiAgICB9XG5cbiAgICB2YXIgc29tZTtcbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICAgICAgc29tZSA9IEFycmF5LnByb3RvdHlwZS5zb21lO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpIGluIHQgJiYgZnVuLmNhbGwodGhpcywgdFtpXSwgaSwgdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRfX2lzVmFsaWQobSkge1xuICAgICAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBnZXRQYXJzaW5nRmxhZ3MobSk7XG4gICAgICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpICE9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG0uX2lzVmFsaWQgPSAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmXG4gICAgICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmVtcHR5ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRNb250aCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5udWxsSW5wdXQgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEZvcm1hdCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICAgICAoIWZsYWdzLm1lcmlkaWVtIHx8IChmbGFncy5tZXJpZGllbSAmJiBwYXJzZWRQYXJ0cykpO1xuXG4gICAgICAgICAgICBpZiAobS5fc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgbS5faXNWYWxpZCA9IG0uX2lzVmFsaWQgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MuY2hhcnNMZWZ0T3ZlciA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy51bnVzZWRUb2tlbnMubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbS5faXNWYWxpZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZF9fY3JlYXRlSW52YWxpZCAoZmxhZ3MpIHtcbiAgICAgICAgdmFyIG0gPSBjcmVhdGVfdXRjX19jcmVhdGVVVEMoTmFOKTtcbiAgICAgICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGV4dGVuZChnZXRQYXJzaW5nRmxhZ3MobSksIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS51c2VySW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09PSB2b2lkIDA7XG4gICAgfVxuXG4gICAgLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuICAgIC8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG4gICAgdmFyIG1vbWVudFByb3BlcnRpZXMgPSB1dGlsc19ob29rc19faG9va3MubW9tZW50UHJvcGVydGllcyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgICAgICB2YXIgaSwgcHJvcCwgdmFsO1xuXG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuICAgICAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG4gICAgICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuICAgICAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcbiAgICAgICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcbiAgICAgICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG4gICAgICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG4gICAgICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcbiAgICAgICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcbiAgICAgICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcbiAgICAgICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGkgaW4gbW9tZW50UHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIHByb3AgPSBtb21lbnRQcm9wZXJ0aWVzW2ldO1xuICAgICAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07XG4gICAgICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gdmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0bztcbiAgICB9XG5cbiAgICB2YXIgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gICAgLy8gTW9tZW50IHByb3RvdHlwZSBvYmplY3RcbiAgICBmdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgICAgIGNvcHlDb25maWcodGhpcywgY29uZmlnKTtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5fZCAhPSBudWxsID8gY29uZmlnLl9kLmdldFRpbWUoKSA6IE5hTik7XG4gICAgICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAgICAgLy8gb2JqZWN0cy5cbiAgICAgICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBNb21lbnQgfHwgKG9iaiAhPSBudWxsICYmIG9iai5faXNBTW9tZW50T2JqZWN0ICE9IG51bGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcbiAgICAgICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgICAgIHZhciBjb2VyY2VkTnVtYmVyID0gK2FyZ3VtZW50Rm9yQ29lcmNpb24sXG4gICAgICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICAgICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYWJzRmxvb3IoY29lcmNlZE51bWJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuICAgICAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXJuKG1zZykge1xuICAgICAgICBpZiAodXRpbHNfaG9va3NfX2hvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIGNvbnNvbGUgIT09ICAndW5kZWZpbmVkJykgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIHdhcm5pbmc6ICcgKyBtc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcbiAgICAgICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAodXRpbHNfaG9va3NfX2hvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbkFyZ3VtZW50czogJyArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbignLCAnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG4gICAgICAgICAgICAgICAgZmlyc3RUaW1lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSwgZm4pO1xuICAgIH1cblxuICAgIHZhciBkZXByZWNhdGlvbnMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCBtc2cpIHtcbiAgICAgICAgaWYgKHV0aWxzX2hvb2tzX19ob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVwcmVjYXRpb25zW25hbWVdKSB7XG4gICAgICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9IGZhbHNlO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBGdW5jdGlvbiB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVfc2V0X19zZXQgKGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvcCwgaTtcbiAgICAgICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tpXSA9IHByb3A7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgLy8gTGVuaWVudCBvcmRpbmFsIHBhcnNpbmcgYWNjZXB0cyBqdXN0IGEgbnVtYmVyIGluIGFkZGl0aW9uIHRvXG4gICAgICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX29yZGluYWxQYXJzZUxlbmllbnQuXG4gICAgICAgIHRoaXMuX29yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UgKyAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgICAgICBmb3IgKHByb3AgaW4gY2hpbGRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRDb25maWdbcHJvcF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzW3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNldChjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGtleXM7XG5cbiAgICBpZiAoT2JqZWN0LmtleXMpIHtcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICB2YXIgaSwgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGludGVybmFsIHN0b3JhZ2UgZm9yIGxvY2FsZSBjb25maWcgZmlsZXNcbiAgICB2YXIgbG9jYWxlcyA9IHt9O1xuICAgIHZhciBnbG9iYWxMb2NhbGU7XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgPyBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdfJywgJy0nKSA6IGtleTtcbiAgICB9XG5cbiAgICAvLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcbiAgICAvLyB0cnkgWydlbi1hdScsICdlbi1nYiddIGFzICdlbi1hdScsICdlbi1nYicsICdlbicsIGFzIGluIG1vdmUgdGhyb3VnaCB0aGUgbGlzdCB0cnlpbmcgZWFjaFxuICAgIC8vIHN1YnN0cmluZyBmcm9tIG1vc3Qgc3BlY2lmaWMgdG8gbGVhc3QsIGJ1dCBtb3ZlIHRvIHRoZSBuZXh0IGFycmF5IGl0ZW0gaWYgaXQncyBhIG1vcmUgc3BlY2lmaWMgdmFyaWFudCB0aGFuIHRoZSBjdXJyZW50IHJvb3RcbiAgICBmdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcbiAgICAgICAgdmFyIGkgPSAwLCBqLCBuZXh0LCBsb2NhbGUsIHNwbGl0O1xuXG4gICAgICAgIHdoaWxlIChpIDwgbmFtZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzcGxpdCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpXSkuc3BsaXQoJy0nKTtcbiAgICAgICAgICAgIGogPSBzcGxpdC5sZW5ndGg7XG4gICAgICAgICAgICBuZXh0ID0gbm9ybWFsaXplTG9jYWxlKG5hbWVzW2kgKyAxXSk7XG4gICAgICAgICAgICBuZXh0ID0gbmV4dCA/IG5leHQuc3BsaXQoJy0nKSA6IG51bGw7XG4gICAgICAgICAgICB3aGlsZSAoaiA+IDApIHtcbiAgICAgICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKHNwbGl0LnNsaWNlKDAsIGopLmpvaW4oJy0nKSk7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCA+PSBqICYmIGNvbXBhcmVBcnJheXMoc3BsaXQsIG5leHQsIHRydWUpID49IGogLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIG5leHQgYXJyYXkgaXRlbSBpcyBiZXR0ZXIgdGhhbiBhIHNoYWxsb3dlciBzdWJzdHJpbmcgb2YgdGhpcyBvbmVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGotLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkTG9jYWxlKG5hbWUpIHtcbiAgICAgICAgdmFyIG9sZExvY2FsZSA9IG51bGw7XG4gICAgICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG4gICAgICAgIGlmICghbG9jYWxlc1tuYW1lXSAmJiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpICYmXG4gICAgICAgICAgICAgICAgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICAgICAgICAgICAgICByZXF1aXJlKCcuL2xvY2FsZS8nICsgbmFtZSk7XG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBkZWZpbmVMb2NhbGUgY3VycmVudGx5IGFsc28gc2V0cyB0aGUgZ2xvYmFsIGxvY2FsZSwgd2VcbiAgICAgICAgICAgICAgICAvLyB3YW50IHRvIHVuZG8gdGhhdCBmb3IgbGF6eSBsb2FkZWQgbG9jYWxlc1xuICAgICAgICAgICAgICAgIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBsb2FkIGxvY2FsZSBhbmQgdGhlbiBzZXQgdGhlIGdsb2JhbCBsb2NhbGUuICBJZlxuICAgIC8vIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluLCBpdCB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgZ2xvYmFsXG4gICAgLy8gbG9jYWxlIGtleS5cbiAgICBmdW5jdGlvbiBsb2NhbGVfbG9jYWxlc19fZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gbG9jYWxlX2xvY2FsZXNfX2dldExvY2FsZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRlZmluZUxvY2FsZShrZXksIHZhbHVlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gbW9tZW50LmR1cmF0aW9uLl9sb2NhbGUgPSBtb21lbnQuX2xvY2FsZSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLmFiYnIgPSBuYW1lO1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZSgnZGVmaW5lTG9jYWxlT3ZlcnJpZGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb25maWcpIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IGxvY2FsZScpO1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhsb2NhbGVzW25hbWVdLl9jb25maWcsIGNvbmZpZyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZywgY29uZmlnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0cmVhdCBhcyBpZiB0aGVyZSBpcyBubyBiYXNlIGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ3BhcmVudExvY2FsZVVuZGVmaW5lZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NwZWNpZmllZCBwYXJlbnRMb2NhbGUgaXMgbm90IGRlZmluZWQgeWV0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcblxuICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgICAgICBsb2NhbGVfbG9jYWxlc19fZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVzZWZ1bCBmb3IgdGVzdGluZ1xuICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxlO1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhsb2NhbGVzW25hbWVdLl9jb25maWcsIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2NhbGUgPSBuZXcgTG9jYWxlKGNvbmZpZyk7XG4gICAgICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAgICAgbG9jYWxlX2xvY2FsZXNfX2dldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9XG5cbiAgICAvLyByZXR1cm5zIGxvY2FsZSBkYXRhXG4gICAgZnVuY3Rpb24gbG9jYWxlX2xvY2FsZXNfX2dldExvY2FsZSAoa2V5KSB7XG4gICAgICAgIHZhciBsb2NhbGU7XG5cbiAgICAgICAgaWYgKGtleSAmJiBrZXkuX2xvY2FsZSAmJiBrZXkuX2xvY2FsZS5fYWJicikge1xuICAgICAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNBcnJheShrZXkpKSB7XG4gICAgICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGtleSk7XG4gICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtleSA9IFtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNob29zZUxvY2FsZShrZXkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZV9sb2NhbGVzX19saXN0TG9jYWxlcygpIHtcbiAgICAgICAgcmV0dXJuIGtleXMobG9jYWxlcyk7XG4gICAgfVxuXG4gICAgdmFyIGFsaWFzZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFVuaXRBbGlhcyAodW5pdCwgc2hvcnRoYW5kKSB7XG4gICAgICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wLFxuICAgICAgICAgICAgcHJvcDtcblxuICAgICAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGlucHV0T2JqZWN0LCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF0gPSBpbnB1dE9iamVjdFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ2V0X3NldF9fc2V0KHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB1dGlsc19ob29rc19faG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldF9zZXRfX2dldCh0aGlzLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRfc2V0X19nZXQgKG1vbSwgdW5pdCkge1xuICAgICAgICByZXR1cm4gbW9tLmlzVmFsaWQoKSA/XG4gICAgICAgICAgICBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKSA6IE5hTjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRfc2V0X19zZXQgKG1vbSwgdW5pdCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXQgKHVuaXRzLCB2YWx1ZSkge1xuICAgICAgICB2YXIgdW5pdDtcbiAgICAgICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGZvciAodW5pdCBpbiB1bml0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KHVuaXQsIHVuaXRzW3VuaXRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xraz98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblxuICAgIHZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG4gICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG4gICAgdmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbiAgICAvLyB0b2tlbjogICAgJ00nXG4gICAgLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuICAgIC8vIG9yZGluYWw6ICAnTW8nXG4gICAgLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG4gICAgZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZGRlZCkge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJycsIGk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gYXJyYXlbaV0gaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuICAgIGZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBleHBhbmRGb3JtYXQoZm9ybWF0LCBtLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgICAgICB2YXIgaSA9IDU7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcbiAgICAgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxuICAgIHZhciBtYXRjaDIgICAgICAgICA9IC9cXGRcXGQvOyAgICAgICAgICAvLyAgICAgIDAwIC0gOTlcbiAgICB2YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XG4gICAgdmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcbiAgICB2YXIgbWF0Y2g2ICAgICAgICAgPSAvWystXT9cXGR7Nn0vOyAgICAvLyAtOTk5OTk5IC0gOTk5OTk5XG4gICAgdmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxuICAgIHZhciBtYXRjaDN0bzQgICAgICA9IC9cXGRcXGRcXGRcXGQ/LzsgICAgIC8vICAgICA5OTkgLSA5OTk5XG4gICAgdmFyIG1hdGNoNXRvNiAgICAgID0gL1xcZFxcZFxcZFxcZFxcZFxcZD8vOyAvLyAgIDk5OTk5IC0gOTk5OTk5XG4gICAgdmFyIG1hdGNoMXRvMyAgICAgID0gL1xcZHsxLDN9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OVxuICAgIHZhciBtYXRjaDF0bzQgICAgICA9IC9cXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5XG4gICAgdmFyIG1hdGNoMXRvNiAgICAgID0gL1srLV0/XFxkezEsNn0vOyAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuXG4gICAgdmFyIG1hdGNoVW5zaWduZWQgID0gL1xcZCsvOyAgICAgICAgICAgLy8gICAgICAgMCAtIGluZlxuICAgIHZhciBtYXRjaFNpZ25lZCAgICA9IC9bKy1dP1xcZCsvOyAgICAgIC8vICAgIC1pbmYgLSBpbmZcblxuICAgIHZhciBtYXRjaE9mZnNldCAgICA9IC9afFsrLV1cXGRcXGQ6P1xcZFxcZC9naTsgLy8gKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG4gICAgdmFyIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naTsgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblxuICAgIHZhciBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy87IC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG5cbiAgICAvLyBhbnkgd29yZCAob3IgdHdvKSBjaGFyYWN0ZXJzIG9yIG51bWJlcnMgaW5jbHVkaW5nIHR3by90aHJlZSB3b3JkIG1vbnRoIGluIGFyYWJpYy5cbiAgICAvLyBpbmNsdWRlcyBzY290dGlzaCBnYWVsaWMgdHdvIHdvcmQgYW5kIGh5cGhlbmF0ZWQgbW9udGhzXG4gICAgdmFyIG1hdGNoV29yZCA9IC9bMC05XSpbJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0rfFtcXHUwNjAwLVxcdTA2RkZcXC9dKyhcXHMqP1tcXHUwNjAwLVxcdTA2RkZdKyl7MSwyfS9pO1xuXG5cbiAgICB2YXIgcmVnZXhlcyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgICAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiAoaXNTdHJpY3QgJiYgc3RyaWN0UmVnZXgpID8gc3RyaWN0UmVnZXggOiByZWdleDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4gKHRva2VuLCBjb25maWcpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xuICAgIH1cblxuICAgIC8vIENvZGUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1NjE0OTMvaXMtdGhlcmUtYS1yZWdleHAtZXNjYXBlLWZ1bmN0aW9uLWluLWphdmFzY3JpcHRcbiAgICBmdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgICAgIHJldHVybiByZWdleEVzY2FwZShzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgICAgIHJldHVybiBwMSB8fCBwMiB8fCBwMyB8fCBwNDtcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZ2V4RXNjYXBlKHMpIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG4gICAgfVxuXG4gICAgdmFyIHRva2VucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbY2FsbGJhY2tdID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgICAgICBjb25maWcuX3cgPSBjb25maWcuX3cgfHwge307XG4gICAgICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2VuXShpbnB1dCwgY29uZmlnLl9hLCBjb25maWcsIHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBZRUFSID0gMDtcbiAgICB2YXIgTU9OVEggPSAxO1xuICAgIHZhciBEQVRFID0gMjtcbiAgICB2YXIgSE9VUiA9IDM7XG4gICAgdmFyIE1JTlVURSA9IDQ7XG4gICAgdmFyIFNFQ09ORCA9IDU7XG4gICAgdmFyIE1JTExJU0VDT05EID0gNjtcbiAgICB2YXIgV0VFSyA9IDc7XG4gICAgdmFyIFdFRUtEQVkgPSA4O1xuXG4gICAgdmFyIGluZGV4T2Y7XG5cbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICAgICAgaW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgLy8gSSBrbm93XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCArIDEsIDApKS5nZXRVVENEYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NJywgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NTScsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ00nLCAnTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtNT05USF0gPSB0b0ludChpbnB1dCkgLSAxO1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ01NTScsICdNTU1NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuICAgICAgICBpZiAobW9udGggIT0gbnVsbCkge1xuICAgICAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkTW9udGggPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgdmFyIE1PTlRIU19JTl9GT1JNQVQgPSAvRFtvRF0/KFxcW1teXFxbXFxdXSpcXF18XFxzKykrTU1NTT8vO1xuICAgIHZhciBkZWZhdWx0TG9jYWxlTW9udGhzID0gJ0phbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXInLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKSA/IHRoaXMuX21vbnRoc1ttLm1vbnRoKCldIDpcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1tNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQgPSAnSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWMnLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQgKG0sIGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydFttLm1vbnRoKCldIDpcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0W01PTlRIU19JTl9GT1JNQVQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5pdHNfbW9udGhfX2hhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgICAgIG1vbSA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UgKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB1bml0c19tb250aF9faGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IGFkZCBzb3J0aW5nXG4gICAgICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXJcbiAgICAgICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICF0aGlzLl9tb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykgKyAnfF4nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTU0nICYmIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTScgJiYgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl9tb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIHNldE1vbnRoIChtb20sIHZhbHVlKSB7XG4gICAgICAgIHZhciBkYXlPZk1vbnRoO1xuXG4gICAgICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgICAgICByZXR1cm4gbW9tO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldE1vbnRoICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0TW9udGgodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldF9zZXRfX2dldCh0aGlzLCAnTW9udGgnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcbiAgICAgICAgcmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiBtb250aHNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRNb250aHNSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiBtb250aHNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcHV0ZU1vbnRoc1BhcnNlICgpIHtcbiAgICAgICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIGksIG1vbTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlX3V0Y19fY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuICAgICAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICAgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbG9uZ1BpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuICAgICAgICB2YXIgb3ZlcmZsb3c7XG4gICAgICAgIHZhciBhID0gbS5fYTtcblxuICAgICAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICAgICAgYVtNT05USF0gICAgICAgPCAwIHx8IGFbTU9OVEhdICAgICAgID4gMTEgID8gTU9OVEggOlxuICAgICAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuICAgICAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG4gICAgICAgICAgICAgICAgYVtNSU5VVEVdICAgICAgPCAwIHx8IGFbTUlOVVRFXSAgICAgID4gNTkgID8gTUlOVVRFIDpcbiAgICAgICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuICAgICAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcbiAgICAgICAgICAgICAgICAtMTtcblxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8vIGlzbyA4NjAxIHJlZ2V4XG4gICAgLy8gMDAwMC0wMC0wMCAwMDAwLVcwMCBvciAwMDAwLVcwMC0wICsgVCArIDAwIG9yIDAwOjAwIG9yIDAwOjAwOjAwIG9yIDAwOjAwOjAwLjAwMCArICswMDowMCBvciArMDAwMCBvciArMDApXG4gICAgdmFyIGV4dGVuZGVkSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pLSg/OlxcZFxcZC1cXGRcXGR8V1xcZFxcZC1cXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzo6XFxkXFxkKD86OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/LztcbiAgICB2YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/LztcblxuICAgIHZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG4gICAgdmFyIGlzb0RhdGVzID0gW1xuICAgICAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICAgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgICAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG4gICAgICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcbiAgICAgICAgWydHR0dHW1ddV1dFJywgL1xcZHs0fVdcXGR7M30vXSxcbiAgICAgICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZREREJywgL1xcZHs3fS9dXG4gICAgXTtcblxuICAgIC8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbiAgICB2YXIgaXNvVGltZXMgPSBbXG4gICAgICAgIFsnSEg6bW06c3MuU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIOm1tJywgL1xcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISG1tc3MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkL10sXG4gICAgICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICAgICAgWydISCcsIC9cXGRcXGQvXVxuICAgIF07XG5cbiAgICB2YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuICAgIC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUlTTyhjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGwsXG4gICAgICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuICAgICAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmlzbyA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IGlzb0RhdGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuICAgICAgICB2YXIgbWF0Y2hlZCA9IGFzcE5ldEpzb25SZWdleC5leGVjKGNvbmZpZy5faSk7XG5cbiAgICAgICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5faXNWYWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgICAgICAgICB1dGlsc19ob29rc19faG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzX2hvb2tzX19ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCBjb25zdHJ1Y3Rpb24gZmFsbHMgYmFjayB0byBqcyBEYXRlLiBUaGlzIGlzICcgK1xuICAgICAgICAnZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB1cGNvbWluZyBtYWpvciAnICtcbiAgICAgICAgJ3JlbGVhc2UuIFBsZWFzZSByZWZlciB0byAnICtcbiAgICAgICAgJ2h0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNDA3IGZvciBtb3JlIGluZm8uJyxcbiAgICAgICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoY29uZmlnLl9pICsgKGNvbmZpZy5fdXNlVVRDID8gJyBVVEMnIDogJycpKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEYXRlICh5LCBtLCBkLCBoLCBNLCBzLCBtcykge1xuICAgICAgICAvL2Nhbid0IGp1c3QgYXBwbHkoKSB0byBjcmVhdGUgYSBkYXRlOlxuICAgICAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgxMzQ4L2luc3RhbnRpYXRpbmctYS1qYXZhc2NyaXB0LW9iamVjdC1ieS1jYWxsaW5nLXByb3RvdHlwZS1jb25zdHJ1Y3Rvci1hcHBseVxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHksIG0sIGQsIGgsIE0sIHMsIG1zKTtcblxuICAgICAgICAvL3RoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgICAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuICAgICAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVVVENEYXRlICh5KSB7XG4gICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgLy90aGUgRGF0ZS5VVEMgZnVuY3Rpb24gcmVtYXBzIHllYXJzIDAtOTkgdG8gMTkwMC0xOTk5XG4gICAgICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpKSB7XG4gICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeSA9IHRoaXMueWVhcigpO1xuICAgICAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdZJywgICAgICBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWScsICBtYXRjaDF0bzYsIG1hdGNoNik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbiAgICBhZGRQYXJzZVRva2VuKCdZWVlZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IGlucHV0Lmxlbmd0aCA9PT0gMiA/IHV0aWxzX2hvb2tzX19ob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gdXRpbHNfaG9va3NfX2hvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICBmdW5jdGlvbiBkYXlzSW5ZZWFyKHllYXIpIHtcbiAgICAgICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNMZWFwWWVhcih5ZWFyKSB7XG4gICAgICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0b0ludChpbnB1dCkgKyAodG9JbnQoaW5wdXQpID4gNjggPyAxOTAwIDogMjAwMCk7XG4gICAgfTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRZZWFyID0gbWFrZUdldFNldCgnRnVsbFllYXInLCB0cnVlKTtcblxuICAgIGZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xuICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG4gICAgfVxuXG4gICAgLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbiAgICBmdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgICAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbiAgICB9XG5cbiAgICAvL2h0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcbiAgICBmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIGxvY2FsV2Vla2RheSA9ICg3ICsgd2Vla2RheSAtIGRvdykgJSA3LFxuICAgICAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuICAgICAgICAgICAgcmVzWWVhciwgcmVzRGF5T2ZZZWFyO1xuXG4gICAgICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5c0luWWVhcihyZXNZZWFyKSArIGRheU9mWWVhcjtcbiAgICAgICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXIgLSBkYXlzSW5ZZWFyKHllYXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlPZlllYXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcjogcmVzWWVhcixcbiAgICAgICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGRvdywgZG95KSB7XG4gICAgICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcbiAgICAgICAgICAgIHdlZWsgPSBNYXRoLmZsb29yKChtb20uZGF5T2ZZZWFyKCkgLSB3ZWVrT2Zmc2V0IC0gMSkgLyA3KSArIDEsXG4gICAgICAgICAgICByZXNXZWVrLCByZXNZZWFyO1xuXG4gICAgICAgIGlmICh3ZWVrIDwgMSkge1xuICAgICAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgLSAxO1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWsgKyB3ZWVrc0luWWVhcihyZXNZZWFyLCBkb3csIGRveSk7XG4gICAgICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWsgLSB3ZWVrc0luWWVhcihtb20ueWVhcigpLCBkb3csIGRveSk7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSArIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKTtcbiAgICAgICAgICAgIHJlc1dlZWsgPSB3ZWVrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdlZWs6IHJlc1dlZWssXG4gICAgICAgICAgICB5ZWFyOiByZXNZZWFyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcbiAgICAgICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG4gICAgfVxuXG4gICAgLy8gUGljayB0aGUgZmlyc3QgZGVmaW5lZCBvZiB0d28gb3IgdGhyZWUgYXJndW1lbnRzLlxuICAgIGZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGIgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3VycmVudERhdGVBcnJheShjb25maWcpIHtcbiAgICAgICAgLy8gaG9va3MgaXMgYWN0dWFsbHkgdGhlIGV4cG9ydGVkIG1vbWVudCBvYmplY3RcbiAgICAgICAgdmFyIG5vd1ZhbHVlID0gbmV3IERhdGUodXRpbHNfaG9va3NfX2hvb2tzLm5vdygpKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDKSB7XG4gICAgICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRNb250aCgpLCBub3dWYWx1ZS5nZXREYXRlKCldO1xuICAgIH1cblxuICAgIC8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuICAgIC8vIHRoZSBhcnJheSBzaG91bGQgbWlycm9yIHRoZSBwYXJhbWV0ZXJzIGJlbG93XG4gICAgLy8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4gICAgLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUFycmF5IChjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCB5ZWFyVG9Vc2U7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cbiAgICAgICAgLy9jb21wdXRlIGRheSBvZiB0aGUgeWVhciBmcm9tIHdlZWtzIGFuZCB3ZWVrZGF5c1xuICAgICAgICBpZiAoY29uZmlnLl93ICYmIGNvbmZpZy5fYVtEQVRFXSA9PSBudWxsICYmIGNvbmZpZy5fYVtNT05USF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2lmIHRoZSBkYXkgb2YgdGhlIHllYXIgaXMgc2V0LCBmaWd1cmUgb3V0IHdoYXQgaXQgaXNcbiAgICAgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyKSB7XG4gICAgICAgICAgICB5ZWFyVG9Vc2UgPSBkZWZhdWx0cyhjb25maWcuX2FbWUVBUl0sIGN1cnJlbnREYXRlW1lFQVJdKTtcblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpKSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoeWVhclRvVXNlLCAwLCBjb25maWcuX2RheU9mWWVhcik7XG4gICAgICAgICAgICBjb25maWcuX2FbTU9OVEhdID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICAgICAgY29uZmlnLl9hW0RBVEVdID0gZGF0ZS5nZXRVVENEYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cbiAgICAgICAgLy8gKiBpZiBubyB5ZWFyLCBtb250aCwgZGF5IG9mIG1vbnRoIGFyZSBnaXZlbiwgZGVmYXVsdCB0byB0b2RheVxuICAgICAgICAvLyAqIGlmIGRheSBvZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBtb250aCBhbmQgeWVhclxuICAgICAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuICAgICAgICAvLyAqIGlmIHllYXIgaXMgZ2l2ZW4sIGRvbid0IGRlZmF1bHQgYW55dGhpbmdcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDMgJiYgY29uZmlnLl9hW2ldID09IG51bGw7ICsraSkge1xuICAgICAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFplcm8gb3V0IHdoYXRldmVyIHdhcyBub3QgZGVmYXVsdGVkLCBpbmNsdWRpbmcgdGltZVxuICAgICAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSAoY29uZmlnLl9hW2ldID09IG51bGwpID8gKGkgPT09IDIgPyAxIDogMCkgOiBjb25maWcuX2FbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgMjQ6MDA6MDAuMDAwXG4gICAgICAgIGlmIChjb25maWcuX2FbSE9VUl0gPT09IDI0ICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbU0VDT05EXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtNSUxMSVNFQ09ORF0gPT09IDApIHtcbiAgICAgICAgICAgIGNvbmZpZy5fbmV4dERheSA9IHRydWU7XG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnLl9kID0gKGNvbmZpZy5fdXNlVVRDID8gY3JlYXRlVVRDRGF0ZSA6IGNyZWF0ZURhdGUpLmFwcGx5KG51bGwsIGlucHV0KTtcbiAgICAgICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG4gICAgICAgIC8vIHdpdGggcGFyc2Vab25lLlxuICAgICAgICBpZiAoY29uZmlnLl90em0gIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuX25leHREYXkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgICAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wLCB3ZWVrZGF5T3ZlcmZsb3c7XG5cbiAgICAgICAgdyA9IGNvbmZpZy5fdztcbiAgICAgICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZG93ID0gMTtcbiAgICAgICAgICAgIGRveSA9IDQ7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuICAgICAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LkdHLCBjb25maWcuX2FbWUVBUl0sIHdlZWtPZlllYXIobG9jYWxfX2NyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgICAgICB3ZWVrZGF5ID0gZGVmYXVsdHMody5FLCAxKTtcbiAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgICAgICBkb3kgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3k7XG5cbiAgICAgICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGxvY2FsX19jcmVhdGVMb2NhbCgpLCBkb3csIGRveSkueWVhcik7XG4gICAgICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCAxKTtcblxuICAgICAgICAgICAgaWYgKHcuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gd2Vla2RheSAtLSBsb3cgZGF5IG51bWJlcnMgYXJlIGNvbnNpZGVyZWQgbmV4dCB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZDtcbiAgICAgICAgICAgICAgICBpZiAod2Vla2RheSA8IDAgfHwgd2Vla2RheSA+IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcbiAgICAgICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3ZWVrIDwgMSB8fCB3ZWVrID4gd2Vla3NJblllYXIod2Vla1llYXIsIGRvdywgZG95KSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrZGF5ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjtcbiAgICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLklTT184NjAxID0gZnVuY3Rpb24gKCkge307XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcbiAgICAgICAgLy8gVE9ETzogTW92ZSB0aGlzIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgY3JlYXRpb24gZmxvdyB0byBwcmV2ZW50IGNpcmN1bGFyIGRlcHNcbiAgICAgICAgaWYgKGNvbmZpZy5fZiA9PT0gdXRpbHNfaG9va3NfX2hvb2tzLklTT184NjAxKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWcuX2EgPSBbXTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG4gICAgICAgIHZhciBzdHJpbmcgPSAnJyArIGNvbmZpZy5faSxcbiAgICAgICAgICAgIGksIHBhcnNlZElucHV0LCB0b2tlbnMsIHRva2VuLCBza2lwcGVkLFxuICAgICAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcbiAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggPSAwO1xuXG4gICAgICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpXTtcbiAgICAgICAgICAgIHBhcnNlZElucHV0ID0gKHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpIHx8IFtdKVswXTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b2tlbicsIHRva2VuLCAncGFyc2VkSW5wdXQnLCBwYXJzZWRJbnB1dCxcbiAgICAgICAgICAgIC8vICAgICAgICAgJ3JlZ2V4JywgZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG4gICAgICAgICAgICAgICAgaWYgKHNraXBwZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc2xpY2Uoc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpICsgcGFyc2VkSW5wdXQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRvbid0IHBhcnNlIGlmIGl0J3Mgbm90IGEga25vd24gdG9rZW5cbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5jaGFyc0xlZnRPdmVyID0gc3RyaW5nTGVuZ3RoIC0gdG90YWxQYXJzZWRJbnB1dExlbmd0aDtcbiAgICAgICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA8PSAxMiAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAgICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcblxuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICAgICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgICAgIHZhciBpc1BtO1xuXG4gICAgICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcbiAgICAgICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBhcnJheSBvZiBmb3JtYXQgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcbiAgICAgICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgICAgICBiZXN0TW9tZW50LFxuXG4gICAgICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldO1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKCF2YWxpZF9faXNWYWxpZCh0ZW1wQ29uZmlnKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbnkgaW5wdXQgdGhhdCB3YXMgbm90IHBhcnNlZCBhZGQgYSBwZW5hbHR5IGZvciB0aGF0IGZvcm1hdFxuICAgICAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXG4gICAgICAgICAgICAvL29yIHRva2Vuc1xuICAgICAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS51bnVzZWRUb2tlbnMubGVuZ3RoICogMTA7XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblxuICAgICAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcbiAgICAgICAgICAgICAgICBzY29yZVRvQmVhdCA9IGN1cnJlbnRTY29yZTtcbiAgICAgICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbU9iamVjdChjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpO1xuICAgICAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmogJiYgcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgICAgICBpZiAocmVzLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcbiAgICAgICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblxuICAgICAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoY29uZmlnLl9sKTtcblxuICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgKGZvcm1hdCA9PT0gdW5kZWZpbmVkICYmIGlucHV0ID09PSAnJykpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZF9fY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2YWxpZF9faXNWYWxpZChjb25maWcpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICAgICAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHV0aWxzX2hvb2tzX19ob29rcy5ub3coKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQudmFsdWVPZigpKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYSA9IG1hcChpbnB1dC5zbGljZSgwKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoaW5wdXQpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgICAgIHZhciBjID0ge307XG5cbiAgICAgICAgaWYgKHR5cGVvZihsb2NhbGUpID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHN0cmljdCA9IGxvY2FsZTtcbiAgICAgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICAgICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICAgICAgYy5fbCA9IGxvY2FsZTtcbiAgICAgICAgYy5faSA9IGlucHV0O1xuICAgICAgICBjLl9mID0gZm9ybWF0O1xuICAgICAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxfX2NyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xuICAgIH1cblxuICAgIHZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXG4gICAgICAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWF4IGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNTQ4JyxcbiAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICB2YXIgb3RoZXIgPSBsb2NhbF9fY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgIHJldHVybiBvdGhlciA8IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkX19jcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICApO1xuXG4gICAgdmFyIHByb3RvdHlwZU1heCA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTU0OCcsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGxvY2FsX19jcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZF9fY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIC8vIFBpY2sgYSBtb21lbnQgbSBmcm9tIG1vbWVudHMgc28gdGhhdCBtW2ZuXShvdGhlcikgaXMgdHJ1ZSBmb3IgYWxsXG4gICAgLy8gb3RoZXIuIFRoaXMgcmVsaWVzIG9uIHRoZSBmdW5jdGlvbiBmbiB0byBiZSB0cmFuc2l0aXZlLlxuICAgIC8vXG4gICAgLy8gbW9tZW50cyBzaG91bGQgZWl0aGVyIGJlIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzIG9yIGFuIGFycmF5LCB3aG9zZVxuICAgIC8vIGZpcnN0IGVsZW1lbnQgaXMgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMuXG4gICAgZnVuY3Rpb24gcGlja0J5KGZuLCBtb21lbnRzKSB7XG4gICAgICAgIHZhciByZXMsIGk7XG4gICAgICAgIGlmIChtb21lbnRzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KG1vbWVudHNbMF0pKSB7XG4gICAgICAgICAgICBtb21lbnRzID0gbW9tZW50c1swXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1vbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxfX2NyZWF0ZUxvY2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzID0gbW9tZW50c1swXTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuICAgICAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuICAgIGZ1bmN0aW9uIG1pbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWF4ICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICAgICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xuICAgIH1cblxuICAgIHZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBEdXJhdGlvbiAoZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcbiAgICAgICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgICAgIHF1YXJ0ZXJzID0gbm9ybWFsaXplZElucHV0LnF1YXJ0ZXIgfHwgMCxcbiAgICAgICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuICAgICAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuICAgICAgICAgICAgZGF5cyA9IG5vcm1hbGl6ZWRJbnB1dC5kYXkgfHwgMCxcbiAgICAgICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgICAgICBzZWNvbmRzID0gbm9ybWFsaXplZElucHV0LnNlY29uZCB8fCAwLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cbiAgICAgICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gK21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuICAgICAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgaG91cnMgKiAxMDAwICogNjAgKiA2MDsgLy91c2luZyAxMDAwICogNjAgKiA2MCBpbnN0ZWFkIG9mIDM2ZTUgdG8gYXZvaWQgZmxvYXRpbmcgcG9pbnQgcm91bmRpbmcgZXJyb3JzIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yOTc4XG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYVxuICAgICAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG4gICAgICAgIHRoaXMuX2RheXMgPSArZGF5cyArXG4gICAgICAgICAgICB3ZWVrcyAqIDc7XG4gICAgICAgIC8vIEl0IGlzIGltcG9zc2libGUgdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG4gICAgICAgIC8vIHdoaWNoIG1vbnRocyB5b3UgYXJlIGFyZSB0YWxraW5nIGFib3V0LCBzbyB3ZSBoYXZlIHRvIHN0b3JlXG4gICAgICAgIC8vIGl0IHNlcGFyYXRlbHkuXG4gICAgICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuICAgICAgICAgICAgcXVhcnRlcnMgKiAzICtcbiAgICAgICAgICAgIHllYXJzICogMTI7XG5cbiAgICAgICAgdGhpcy5fZGF0YSA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2xvY2FsZSA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoKTtcblxuICAgICAgICB0aGlzLl9idWJibGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0R1cmF0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGZ1bmN0aW9uIG9mZnNldCAodG9rZW4sIHNlcGFyYXRvcikge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudXRjT2Zmc2V0KCk7XG4gICAgICAgICAgICB2YXIgc2lnbiA9ICcrJztcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcbiAgICAgICAgICAgICAgICBzaWduID0gJy0nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNpZ24gKyB6ZXJvRmlsbCh+fihvZmZzZXQgLyA2MCksIDIpICsgc2VwYXJhdG9yICsgemVyb0ZpbGwofn4ob2Zmc2V0KSAlIDYwLCAyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb2Zmc2V0KCdaJywgJzonKTtcbiAgICBvZmZzZXQoJ1paJywgJycpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignWicsICBtYXRjaFNob3J0T2Zmc2V0KTtcbiAgICBhZGRSZWdleFRva2VuKCdaWicsIG1hdGNoU2hvcnRPZmZzZXQpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyB0aW1lem9uZSBjaHVua2VyXG4gICAgLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG4gICAgLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG4gICAgdmFyIGNodW5rT2Zmc2V0ID0gLyhbXFwrXFwtXXxcXGRcXGQpL2dpO1xuXG4gICAgZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaGVyLCBzdHJpbmcpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSAoKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlcikgfHwgW10pO1xuICAgICAgICB2YXIgY2h1bmsgICA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXSB8fCBbXTtcbiAgICAgICAgdmFyIHBhcnRzICAgPSAoY2h1bmsgKyAnJykubWF0Y2goY2h1bmtPZmZzZXQpIHx8IFsnLScsIDAsIDBdO1xuICAgICAgICB2YXIgbWludXRlcyA9ICsocGFydHNbMV0gKiA2MCkgKyB0b0ludChwYXJ0c1syXSk7XG5cbiAgICAgICAgcmV0dXJuIHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGEgbW9tZW50IGZyb20gaW5wdXQsIHRoYXQgaXMgbG9jYWwvdXRjL3pvbmUgZXF1aXZhbGVudCB0byBtb2RlbC5cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG4gICAgICAgIHZhciByZXMsIGRpZmY7XG4gICAgICAgIGlmIChtb2RlbC5faXNVVEMpIHtcbiAgICAgICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG4gICAgICAgICAgICBkaWZmID0gKGlzTW9tZW50KGlucHV0KSB8fCBpc0RhdGUoaW5wdXQpID8gaW5wdXQudmFsdWVPZigpIDogbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgICAgIHJlcy5fZC5zZXRUaW1lKHJlcy5fZC52YWx1ZU9mKCkgKyBkaWZmKTtcbiAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCkubG9jYWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERhdGVPZmZzZXQgKG0pIHtcbiAgICAgICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG4gICAgICAgIHJldHVybiAtTWF0aC5yb3VuZChtLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkgLyAxNSkgKiAxNTtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuICAgIC8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuICAgIC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4gICAgLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuICAgIC8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbiAgICAvL1xuICAgIC8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuICAgIC8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuICAgIC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbiAgICAvLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2VcbiAgICAvLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuICAgIGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxuICAgICAgICAgICAgbG9jYWxBZGp1c3Q7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNikge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXQgKiA2MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5faXNVVEMgJiYga2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgICAgIGxvY2FsQWRqdXN0ID0gZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IGlucHV0O1xuICAgICAgICAgICAgdGhpcy5faXNVVEMgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGxvY2FsQWRqdXN0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChsb2NhbEFkanVzdCwgJ20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvZmZzZXQgIT09IGlucHV0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFrZWVwTG9jYWxUaW1lIHx8IHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkX3N1YnRyYWN0X19hZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKGlucHV0IC0gb2Zmc2V0LCAnbScpLCAxLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0Wm9uZSAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KGlucHV0LCBrZWVwTG9jYWxUaW1lKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLXRoaXMudXRjT2Zmc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb1VUQyAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICByZXR1cm4gdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9Mb2NhbCAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICAgICAgdGhpcy5faXNVVEMgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQgKCkge1xuICAgICAgICBpZiAodGhpcy5fdHptKSB7XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCh0aGlzLl90em0pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQob2Zmc2V0RnJvbVN0cmluZyhtYXRjaE9mZnNldCwgdGhpcy5faSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXQgPSBpbnB1dCA/IGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCkudXRjT2Zmc2V0KCkgOiAwO1xuXG4gICAgICAgIHJldHVybiAodGhpcy51dGNPZmZzZXQoKSAtIGlucHV0KSAlIDYwID09PSAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lICgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHxcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoNSkudXRjT2Zmc2V0KClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQgKCkge1xuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYyA9IHt9O1xuXG4gICAgICAgIGNvcHlDb25maWcoYywgdGhpcyk7XG4gICAgICAgIGMgPSBwcmVwYXJlQ29uZmlnKGMpO1xuXG4gICAgICAgIGlmIChjLl9hKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBjLl9pc1VUQyA/IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQyhjLl9hKSA6IGxvY2FsX19jcmVhdGVMb2NhbChjLl9hKTtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG4gICAgdmFyIGFzcE5ldFJlZ2V4ID0gL14oXFwtKT8oPzooXFxkKilbLiBdKT8oXFxkKylcXDooXFxkKykoPzpcXDooXFxkKylcXC4/KFxcZHszfSk/XFxkKik/JC87XG5cbiAgICAvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuICAgIC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcbiAgICAvLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG4gICAgdmFyIGlzb1JlZ2V4ID0gL14oLSk/UCg/OigtP1swLTksLl0qKVkpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVcpPyg/OigtP1swLTksLl0qKUQpPyg/OlQoPzooLT9bMC05LC5dKilIKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilTKT8pPyQvO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlX19jcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBpbnB1dCxcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgICAgICBzaWduLFxuICAgICAgICAgICAgcmV0LFxuICAgICAgICAgICAgZGlmZlJlcztcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgICAgICBkICA6IGlucHV0Ll9kYXlzLFxuICAgICAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSBpbnB1dDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb24ubWlsbGlzZWNvbmRzID0gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB5ICA6IDAsXG4gICAgICAgICAgICAgICAgZCAgOiB0b0ludChtYXRjaFtEQVRFXSkgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgcyAgOiB0b0ludChtYXRjaFtTRUNPTkRdKSAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBtcyA6IHRvSW50KG1hdGNoW01JTExJU0VDT05EXSkgKiBzaWduXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgICAgIHcgOiBwYXJzZUlzbyhtYXRjaFs0XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs3XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkdXJhdGlvbiA9PSBudWxsKSB7Ly8gY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZFxuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcbiAgICAgICAgICAgIGRpZmZSZXMgPSBtb21lbnRzRGlmZmVyZW5jZShsb2NhbF9fY3JlYXRlTG9jYWwoZHVyYXRpb24uZnJvbSksIGxvY2FsX19jcmVhdGVMb2NhbChkdXJhdGlvbi50bykpO1xuXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICAgICAgZHVyYXRpb24ubXMgPSBkaWZmUmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldCA9IG5ldyBEdXJhdGlvbihkdXJhdGlvbik7XG5cbiAgICAgICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcbiAgICAgICAgICAgIHJldC5fbG9jYWxlID0gaW5wdXQuX2xvY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgY3JlYXRlX19jcmVhdGVEdXJhdGlvbi5mbiA9IER1cmF0aW9uLnByb3RvdHlwZTtcblxuICAgIGZ1bmN0aW9uIHBhcnNlSXNvIChpbnAsIHNpZ24pIHtcbiAgICAgICAgLy8gV2UnZCBub3JtYWxseSB1c2Ugfn5pbnAgZm9yIHRoaXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IGl0IGFsc29cbiAgICAgICAgLy8gY29udmVydHMgZmxvYXRzIHRvIGludHMuXG4gICAgICAgIC8vIGlucCBtYXkgYmUgdW5kZWZpbmVkLCBzbyBjYXJlZnVsIGNhbGxpbmcgcmVwbGFjZSBvbiBpdC5cbiAgICAgICAgdmFyIHJlcyA9IGlucCAmJiBwYXJzZUZsb2F0KGlucC5yZXBsYWNlKCcsJywgJy4nKSk7XG4gICAgICAgIC8vIGFwcGx5IHNpZ24gd2hpbGUgd2UncmUgYXQgaXRcbiAgICAgICAgcmV0dXJuIChpc05hTihyZXMpID8gMCA6IHJlcykgKiBzaWduO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlcyA9IHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cbiAgICAgICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgK1xuICAgICAgICAgICAgKG90aGVyLnllYXIoKSAtIGJhc2UueWVhcigpKSAqIDEyO1xuICAgICAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG4gICAgICAgICAgICAtLXJlcy5tb250aHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gKyhiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykpO1xuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgaWYgKCEoYmFzZS5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG4gICAgICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWJzUm91bmQgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgcGVyaW9kKSB7XG4gICAgICAgICAgICB2YXIgZHVyLCB0bXA7XG4gICAgICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcbiAgICAgICAgICAgIGlmIChwZXJpb2QgIT09IG51bGwgJiYgIWlzTmFOKCtwZXJpb2QpKSB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuJyk7XG4gICAgICAgICAgICAgICAgdG1wID0gdmFsOyB2YWwgPSBwZXJpb2Q7IHBlcmlvZCA9IHRtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyArdmFsIDogdmFsO1xuICAgICAgICAgICAgZHVyID0gY3JlYXRlX19jcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG4gICAgICAgICAgICBhZGRfc3VidHJhY3RfX2FkZFN1YnRyYWN0KHRoaXMsIGR1ciwgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IGR1cmF0aW9uLl9taWxsaXNlY29uZHMsXG4gICAgICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuICAgICAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cbiAgICAgICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAvLyBObyBvcFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0O1xuXG4gICAgICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRheXMpIHtcbiAgICAgICAgICAgIGdldF9zZXRfX3NldChtb20sICdEYXRlJywgZ2V0X3NldF9fZ2V0KG1vbSwgJ0RhdGUnKSArIGRheXMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vbnRocykge1xuICAgICAgICAgICAgc2V0TW9udGgobW9tLCBnZXRfc2V0X19nZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlT2Zmc2V0KSB7XG4gICAgICAgICAgICB1dGlsc19ob29rc19faG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFkZF9zdWJ0cmFjdF9fYWRkICAgICAgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyk7XG4gICAgdmFyIGFkZF9zdWJ0cmFjdF9fc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cbiAgICBmdW5jdGlvbiBtb21lbnRfY2FsZW5kYXJfX2NhbGVuZGFyICh0aW1lLCBmb3JtYXRzKSB7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gY29tcGFyZSB0aGUgc3RhcnQgb2YgdG9kYXksIHZzIHRoaXMuXG4gICAgICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LlxuICAgICAgICB2YXIgbm93ID0gdGltZSB8fCBsb2NhbF9fY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuICAgICAgICAgICAgZGlmZiA9IHRoaXMuZGlmZihzb2QsICdkYXlzJywgdHJ1ZSksXG4gICAgICAgICAgICBmb3JtYXQgPSBkaWZmIDwgLTYgPyAnc2FtZUVsc2UnIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgLTEgPyAnbGFzdFdlZWsnIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgMCA/ICdsYXN0RGF5JyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDEgPyAnc2FtZURheScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAyID8gJ25leHREYXknIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgNyA/ICduZXh0V2VlaycgOiAnc2FtZUVsc2UnO1xuXG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0oKSA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KG91dHB1dCB8fCB0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmb3JtYXQsIHRoaXMsIGxvY2FsX19jcmVhdGVMb2NhbChub3cpKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvbmUgKCkge1xuICAgICAgICByZXR1cm4gbmV3IE1vbWVudCh0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0FmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICAgICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPCBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XG4gICAgICAgIGluY2x1c2l2aXR5ID0gaW5jbHVzaXZpdHkgfHwgJygpJztcbiAgICAgICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGZyb20sIHVuaXRzKSA6ICF0aGlzLmlzQmVmb3JlKGZyb20sIHVuaXRzKSkgJiZcbiAgICAgICAgICAgIChpbmNsdXNpdml0eVsxXSA9PT0gJyknID8gdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcih0bywgdW5pdHMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KSxcbiAgICAgICAgICAgIGlucHV0TXM7XG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMgfHwgJ21pbGxpc2Vjb25kJyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID09PSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0TXMgPSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZU9yQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQWZ0ZXIoaW5wdXQsdW5pdHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZU9yQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCx1bml0cyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgICAgIHZhciB0aGF0LFxuICAgICAgICAgICAgem9uZURlbHRhLFxuICAgICAgICAgICAgZGVsdGEsIG91dHB1dDtcblxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQ7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgaWYgKHVuaXRzID09PSAneWVhcicgfHwgdW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICAgICAgb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpO1xuICAgICAgICAgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgLyAzO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMTI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWx0YSA9IHRoaXMgLSB0aGF0O1xuICAgICAgICAgICAgb3V0cHV0ID0gdW5pdHMgPT09ICdzZWNvbmQnID8gZGVsdGEgLyAxZTMgOiAvLyAxMDAwXG4gICAgICAgICAgICAgICAgdW5pdHMgPT09ICdtaW51dGUnID8gZGVsdGEgLyA2ZTQgOiAvLyAxMDAwICogNjBcbiAgICAgICAgICAgICAgICB1bml0cyA9PT0gJ2hvdXInID8gZGVsdGEgLyAzNmU1IDogLy8gMTAwMCAqIDYwICogNjBcbiAgICAgICAgICAgICAgICB1bml0cyA9PT0gJ2RheScgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gODY0ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICAgICAgdW5pdHMgPT09ICd3ZWVrJyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0ICogNywgbmVnYXRlIGRzdFxuICAgICAgICAgICAgICAgIGRlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc0Zsb2F0ID8gb3V0cHV0IDogYWJzRmxvb3Iob3V0cHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcbiAgICAgICAgLy8gZGlmZmVyZW5jZSBpbiBtb250aHNcbiAgICAgICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgICAgIGFuY2hvciA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYsICdtb250aHMnKSxcbiAgICAgICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblxuICAgICAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmIC0gMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IyIC0gYW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICAgICAgcmV0dXJuIC0od2hvbGVNb250aERpZmYgKyBhZGp1c3QpIHx8IDA7XG4gICAgfVxuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5kZWZhdWx0Rm9ybWF0VXRjID0gJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nO1xuXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9tZW50X2Zvcm1hdF9fdG9JU09TdHJpbmcgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXMuY2xvbmUoKS51dGMoKTtcbiAgICAgICAgaWYgKDAgPCBtLnllYXIoKSAmJiBtLnllYXIoKSA8PSA5OTk5KSB7XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZykpIHtcbiAgICAgICAgICAgICAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb24gaXMgfjUweCBmYXN0ZXIsIHVzZSBpdCB3aGVuIHdlIGNhblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuICAgICAgICBpZiAoIWlucHV0U3RyaW5nKSB7XG4gICAgICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IHV0aWxzX2hvb2tzX19ob29rcy5kZWZhdWx0Rm9ybWF0VXRjIDogdXRpbHNfaG9va3NfX2hvb2tzLmRlZmF1bHRGb3JtYXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgICAgICBsb2NhbF9fY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZV9fY3JlYXRlRHVyYXRpb24oe3RvOiB0aGlzLCBmcm9tOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mcm9tKGxvY2FsX19jcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0byAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgICAgICBsb2NhbF9fY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZV9fY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG8obG9jYWxfX2NyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xuICAgIH1cblxuICAgIC8vIElmIHBhc3NlZCBhIGxvY2FsZSBrZXksIGl0IHdpbGwgc2V0IHRoZSBsb2NhbGUgZm9yIHRoaXNcbiAgICAvLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4gICAgLy8gdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlLlxuICAgIGZ1bmN0aW9uIGxvY2FsZSAoa2V5KSB7XG4gICAgICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0xvY2FsZURhdGEgPSBsb2NhbGVfbG9jYWxlc19fZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxlID0gbmV3TG9jYWxlRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxhbmcgPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLicsXG4gICAgICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlRGF0YSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnRPZiAodW5pdHMpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHNcbiAgICAgICAgLy8gdG8gdXRpbGl6ZSBmYWxsaW5nIHRocm91Z2ggdGhlIGNhc2VzLlxuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgdGhpcy5tb250aCgwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgIHRoaXMuZGF0ZSgxKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxuICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgIHRoaXMuaG91cnMoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgdGhpcy5taW51dGVzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgdGhpcy5zZWNvbmRzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdzZWNvbmQnOlxuICAgICAgICAgICAgdGhpcy5taWxsaXNlY29uZHMoMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZWVrcyBhcmUgYSBzcGVjaWFsIGNhc2VcbiAgICAgICAgaWYgKHVuaXRzID09PSAnd2VlaycpIHtcbiAgICAgICAgICAgIHRoaXMud2Vla2RheSgwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodW5pdHMgPT09ICdpc29XZWVrJykge1xuICAgICAgICAgICAgdGhpcy5pc29XZWVrZGF5KDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVhcnRlcnMgYXJlIGFsc28gc3BlY2lhbFxuICAgICAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICAgICAgdGhpcy5tb250aChNYXRoLmZsb29yKHRoaXMubW9udGgoKSAvIDMpICogMyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gdW5kZWZpbmVkIHx8IHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICdkYXRlJyBpcyBhbiBhbGlhcyBmb3IgJ2RheScsIHNvIGl0IHNob3VsZCBiZSBjb25zaWRlcmVkIGFzIHN1Y2guXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ2RhdGUnKSB7XG4gICAgICAgICAgICB1bml0cyA9ICdkYXknO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsICh1bml0cyA9PT0gJ2lzb1dlZWsnID8gJ3dlZWsnIDogdW5pdHMpKS5zdWJ0cmFjdCgxLCAnbXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b190eXBlX192YWx1ZU9mICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5peCAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9EYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldCA/IG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKSA6IHRoaXMuX2Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9BcnJheSAoKSB7XG4gICAgICAgIHZhciBtID0gdGhpcztcbiAgICAgICAgcmV0dXJuIFttLnllYXIoKSwgbS5tb250aCgpLCBtLmRhdGUoKSwgbS5ob3VyKCksIG0ubWludXRlKCksIG0uc2Vjb25kKCksIG0ubWlsbGlzZWNvbmQoKV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9PYmplY3QgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgICAgICBtb250aHM6IG0ubW9udGgoKSxcbiAgICAgICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxuICAgICAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgICAgIG1pbnV0ZXM6IG0ubWludXRlcygpLFxuICAgICAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXG4gICAgICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0pTT04gKCkge1xuICAgICAgICAvLyBuZXcgRGF0ZShOYU4pLnRvSlNPTigpID09PSBudWxsXG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMudG9JU09TdHJpbmcoKSA6IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9tZW50X3ZhbGlkX19pc1ZhbGlkICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkX19pc1ZhbGlkKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnB1dDogdGhpcy5faSxcbiAgICAgICAgICAgIGZvcm1hdDogdGhpcy5fZixcbiAgICAgICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICAgICAgaXNVVEM6IHRoaXMuX2lzVVRDLFxuICAgICAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3RcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpICUgMTAwO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG4gICAgfVxuXG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbiAgICBhZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdHJywgICAgICBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignZycsICAgICAgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdnZycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignR0dHRycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdHR0dHRycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG4gICAgYWRkUmVnZXhUb2tlbignZ2dnZ2cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDIpXSA9IHRvSW50KGlucHV0KTtcbiAgICB9KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZ2cnLCAnR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW5dID0gdXRpbHNfaG9va3NfX2hvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIHRoaXMud2VlaygpLFxuICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XG4gICAgICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtzVGFyZ2V0O1xuICAgICAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhckRhdGEgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgICAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG4gICAgICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbiAgICBhZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xuICAgIH0pO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCd3JywgWyd3dycsIDJdLCAnd28nLCAnd2VlaycpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdXJywgWydXVycsIDJdLCAnV28nLCAnaXNvV2VlaycpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCd3ZWVrJywgJ3cnKTtcbiAgICBhZGRVbml0QWxpYXMoJ2lzb1dlZWsnLCAnVycpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1cnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuICAgICAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICAgICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gMXN0IGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ0QnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdERCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdEbycsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBpc1N0cmljdCA/IGxvY2FsZS5fb3JkaW5hbFBhcnNlIDogbG9jYWxlLl9vcmRpbmFsUGFyc2VMZW5pZW50O1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG4gICAgYWRkUGFyc2VUb2tlbignRG8nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSwgMTApO1xuICAgIH0pO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldERheU9mTW9udGggPSBtYWtlR2V0U2V0KCdEYXRlJywgdHJ1ZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignZCcsIDAsICdkbycsICdkYXknKTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5cyh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdFJywgMCwgMCwgJ2lzb1dlZWtkYXknKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbiAgICBhZGRVbml0QWxpYXMoJ3dlZWtkYXknLCAnZScpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2Vla2RheScsICdFJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdkJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdFJywgICAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcbiAgICBhZGRSZWdleFRva2VuKCdkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbiAgICB9KTtcbiAgICBhZGRSZWdleFRva2VuKCdkZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcbiAgICAgICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5cyAobSwgZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzW20uZGF5KCldIDpcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzW3RoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLmRheSgpXTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiA9ICdTdV9Nb19UdV9XZV9UaF9Gcl9TYScuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c01pbiAobSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5bbS5kYXkoKV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGF5X29mX3dlZWtfX2hhbmRsZVN0cmljdFBhcnNlKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gd2Vla2RheU5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7ICsraSkge1xuICAgICAgICAgICAgICAgIG1vbSA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1BhcnNlICh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGRheV9vZl93ZWVrX19oYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgICAgICBtb20gPSBjcmVhdGVfdXRjX19jcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGQnICYmIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5ID0gdGhpcy5faXNVVEMgPyB0aGlzLl9kLmdldFVUQ0RheSgpIDogdGhpcy5fZC5nZXREYXkoKTtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGQoaW5wdXQgLSBkYXksICdkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGF5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdlZWtkYXkgPSAodGhpcy5kYXkoKSArIDcgLSB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpICUgNztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT0RheU9mV2VlayAoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcbiAgICAgICAgLy8gYXMgYSBnZXR0ZXIsIHJldHVybnMgNyBpbnN0ZWFkIG9mIDAgKDEtNyByYW5nZSBpbnN0ZWFkIG9mIDAtNilcbiAgICAgICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHRoaXMuZGF5KCkgfHwgNyA6IHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gaW5wdXQgOiBpbnB1dCAtIDcpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c1JlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXggPSBtYXRjaFdvcmQ7XG4gICAgZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNtcExlblJldihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW5QaWVjZXMgPSBbXSwgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgc2hvcnRwID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuICAgICAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgd2Vla2RheSAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgICAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIHNob3J0UGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignREREJywgWydEREREJywgM10sICdERERvJywgJ2RheU9mWWVhcicpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdEREQnLCAgbWF0Y2gxdG8zKTtcbiAgICBhZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0RGF5T2ZZZWFyIChpbnB1dCkge1xuICAgICAgICB2YXIgZGF5T2ZZZWFyID0gTWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpIC0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ3llYXInKSkgLyA4NjRlNSkgKyAxO1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IGRheU9mWWVhciA6IHRoaXMuYWRkKChpbnB1dCAtIGRheU9mWWVhciksICdkJyk7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgZnVuY3Rpb24gaEZvcm1hdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaG91cnMoKSAlIDEyIHx8IDEyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGtGb3JtYXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvdXJzKCkgfHwgMjQ7XG4gICAgfVxuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ2gnLCBbJ2hoJywgMl0sIDAsIGhGb3JtYXQpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdrJywgWydraycsIDJdLCAwLCBrRm9ybWF0KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdobW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMik7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignaG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIGhGb3JtYXQuYXBwbHkodGhpcykgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbWVyaWRpZW0gKHRva2VuLCBsb3dlcmNhc2UpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksIHRoaXMubWludXRlcygpLCBsb3dlcmNhc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBtZXJpZGllbSgnYScsIHRydWUpO1xuICAgIG1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdob3VyJywgJ2gnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGZ1bmN0aW9uIG1hdGNoTWVyaWRpZW0gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5fbWVyaWRpZW1QYXJzZTtcbiAgICB9XG5cbiAgICBhZGRSZWdleFRva2VuKCdhJywgIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0EnLCAgbWF0Y2hNZXJpZGllbSk7XG4gICAgYWRkUmVnZXhUb2tlbignSCcsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2gnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdISCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG4gICAgYWRkUmVnZXhUb2tlbignaG1tc3MnLCBtYXRjaDV0bzYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0htbScsIG1hdGNoM3RvNCk7XG4gICAgYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ0gnLCAnSEgnXSwgSE9VUik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgICAgIGNvbmZpZy5fbWVyaWRpZW0gPSBpbnB1dDtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ2htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ2htbXNzJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICAgICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MxKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgICAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBwb3MgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgICAgIHZhciBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICAgICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVJc1BNIChpbnB1dCkge1xuICAgICAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG4gICAgICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuICAgICAgICByZXR1cm4gKChpbnB1dCArICcnKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gJ3AnKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNZXJpZGllbSAoaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcbiAgICAgICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICAvLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbiAgICAvLyBzcGVjaWZpZWQgd2hpY2ggaG91ciBoZSB3YW50cy4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4gICAgLy8gdGhpcyBydWxlLlxuICAgIHZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xuICAgIH0pO1xuXG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1NTJywgICBtYXRjaDF0bzMsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxuICAgIHZhciB0b2tlbjtcbiAgICBmb3IgKHRva2VuID0gJ1NTU1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG4gICAgfVxuXG4gICAgZm9yICh0b2tlbiA9ICdTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbiAgICB9XG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3onLCAgMCwgMCwgJ3pvbmVBYmJyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRab25lQWJiciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Wm9uZU5hbWUgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG4gICAgfVxuXG4gICAgdmFyIG1vbWVudFByb3RvdHlwZV9fcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5hZGQgICAgICAgICAgICAgICA9IGFkZF9zdWJ0cmFjdF9fYWRkO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBtb21lbnRfY2FsZW5kYXJfX2NhbGVuZGFyO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uY2xvbmUgICAgICAgICAgICAgPSBjbG9uZTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRpZmYgICAgICAgICAgICAgID0gZGlmZjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5mb3JtYXQgICAgICAgICAgICA9IGZvcm1hdDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmZyb20gICAgICAgICAgICAgID0gZnJvbTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnRvICAgICAgICAgICAgICAgID0gdG87XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b05vdyAgICAgICAgICAgICA9IHRvTm93O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBnZXRTZXQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pbnZhbGlkQXQgICAgICAgICA9IGludmFsaWRBdDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzQWZ0ZXIgICAgICAgICAgID0gaXNBZnRlcjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0JldHdlZW4gICAgICAgICA9IGlzQmV0d2VlbjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzU2FtZSAgICAgICAgICAgID0gaXNTYW1lO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNTYW1lT3JCZWZvcmUgICAgPSBpc1NhbWVPckJlZm9yZTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzVmFsaWQgICAgICAgICAgID0gbW9tZW50X3ZhbGlkX19pc1ZhbGlkO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubG9jYWxlICAgICAgICAgICAgPSBsb2NhbGU7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5sb2NhbGVEYXRhICAgICAgICA9IGxvY2FsZURhdGE7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1pbiAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWluO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucGFyc2luZ0ZsYWdzICAgICAgPSBwYXJzaW5nRmxhZ3M7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5zZXQgICAgICAgICAgICAgICA9IGdldFNldDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnN0YXJ0T2YgICAgICAgICAgID0gc3RhcnRPZjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnN1YnRyYWN0ICAgICAgICAgID0gYWRkX3N1YnRyYWN0X19zdWJ0cmFjdDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnRvQXJyYXkgICAgICAgICAgID0gdG9BcnJheTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnRvT2JqZWN0ICAgICAgICAgID0gdG9PYmplY3Q7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b0RhdGUgICAgICAgICAgICA9IHRvRGF0ZTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnRvSVNPU3RyaW5nICAgICAgID0gbW9tZW50X2Zvcm1hdF9fdG9JU09TdHJpbmc7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b0pTT04gICAgICAgICAgICA9IHRvSlNPTjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnRvU3RyaW5nICAgICAgICAgID0gdG9TdHJpbmc7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by51bml4ICAgICAgICAgICAgICA9IHVuaXg7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by52YWx1ZU9mICAgICAgICAgICA9IHRvX3R5cGVfX3ZhbHVlT2Y7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5jcmVhdGlvbkRhdGEgICAgICA9IGNyZWF0aW9uRGF0YTtcblxuICAgIC8vIFllYXJcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG5cbiAgICAvLyBXZWVrIFllYXJcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXG4gICAgLy8gUXVhcnRlclxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucXVhcnRlciA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXG4gICAgLy8gTW9udGhcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1vbnRoICAgICAgID0gZ2V0U2V0TW9udGg7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuXG4gICAgLy8gV2Vla1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ud2VlayAgICAgICAgICAgPSBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtzICAgICAgICA9IGdldFNldFdlZWs7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrICAgICAgICA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2VlaztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXG4gICAgLy8gRGF5XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5kYXRlICAgICAgID0gZ2V0U2V0RGF5T2ZNb250aDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheSAgICAgICAgPSBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7XG5cbiAgICAvLyBIb3VyXG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5ob3VyID0gbW9tZW50UHJvdG90eXBlX19wcm90by5ob3VycyA9IGdldFNldEhvdXI7XG5cbiAgICAvLyBNaW51dGVcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1pbnV0ZSA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcblxuICAgIC8vIFNlY29uZFxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uc2Vjb25kID0gbW9tZW50UHJvdG90eXBlX19wcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuXG4gICAgLy8gTWlsbGlzZWNvbmRcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1pbGxpc2Vjb25kID0gbW9tZW50UHJvdG90eXBlX19wcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcblxuICAgIC8vIE9mZnNldFxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by51dGMgICAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvVVRDO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubG9jYWwgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb0xvY2FsO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmhhc0FsaWduZWRIb3VyT2Zmc2V0ID0gaGFzQWxpZ25lZEhvdXJPZmZzZXQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0RTVCAgICAgICAgICAgICAgICA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNEU1RTaGlmdGVkICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cbiAgICAvLyBUaW1lem9uZVxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uem9uZUFiYnIgPSBnZXRab25lQWJicjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG5cbiAgICAvLyBEZXByZWNhdGlvbnNcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTc3OScsIGdldFNldFpvbmUpO1xuXG4gICAgdmFyIG1vbWVudFByb3RvdHlwZSA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG87XG5cbiAgICBmdW5jdGlvbiBtb21lbnRfX2NyZWF0ZVVuaXggKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRfX2NyZWF0ZUluWm9uZSAoKSB7XG4gICAgICAgIHJldHVybiBsb2NhbF9fY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuICAgICAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxuICAgICAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuICAgICAgICBuZXh0V2VlayA6ICdkZGRkIFthdF0gTFQnLFxuICAgICAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcbiAgICAgICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG4gICAgICAgIHNhbWVFbHNlIDogJ0wnXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZV9jYWxlbmRhcl9fY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV07XG4gICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKG91dHB1dCkgPyBvdXRwdXQuY2FsbChtb20sIG5vdykgOiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICAgICAgTFRTICA6ICdoOm1tOnNzIEEnLFxuICAgICAgICBMVCAgIDogJ2g6bW0gQScsXG4gICAgICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgICAgIExMICAgOiAnTU1NTSBELCBZWVlZJyxcbiAgICAgICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICAgICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICAgICAgZm9ybWF0VXBwZXIgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXkudG9VcHBlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0SW52YWxpZERhdGUgPSAnSW52YWxpZCBkYXRlJztcblxuICAgIGZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG4gICAgdmFyIGRlZmF1bHRPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXG4gICAgZnVuY3Rpb24gb3JkaW5hbCAobnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0ge1xuICAgICAgICBmdXR1cmUgOiAnaW4gJXMnLFxuICAgICAgICBwYXN0ICAgOiAnJXMgYWdvJyxcbiAgICAgICAgcyAgOiAnYSBmZXcgc2Vjb25kcycsXG4gICAgICAgIG0gIDogJ2EgbWludXRlJyxcbiAgICAgICAgbW0gOiAnJWQgbWludXRlcycsXG4gICAgICAgIGggIDogJ2FuIGhvdXInLFxuICAgICAgICBoaCA6ICclZCBob3VycycsXG4gICAgICAgIGQgIDogJ2EgZGF5JyxcbiAgICAgICAgZGQgOiAnJWQgZGF5cycsXG4gICAgICAgIE0gIDogJ2EgbW9udGgnLFxuICAgICAgICBNTSA6ICclZCBtb250aHMnLFxuICAgICAgICB5ICA6ICdhIHllYXInLFxuICAgICAgICB5eSA6ICclZCB5ZWFycydcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVsYXRpdmVfX3JlbGF0aXZlVGltZSAobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTtcbiAgICAgICAgcmV0dXJuIChpc0Z1bmN0aW9uKG91dHB1dCkpID9cbiAgICAgICAgICAgIG91dHB1dChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIDpcbiAgICAgICAgICAgIG91dHB1dC5yZXBsYWNlKC8lZC9pLCBudW1iZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhc3RGdXR1cmUgKGRpZmYsIG91dHB1dCkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddO1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG90eXBlX19wcm90byA9IExvY2FsZS5wcm90b3R5cGU7XG5cbiAgICBwcm90b3R5cGVfX3Byb3RvLl9jYWxlbmRhciAgICAgICA9IGRlZmF1bHRDYWxlbmRhcjtcbiAgICBwcm90b3R5cGVfX3Byb3RvLmNhbGVuZGFyICAgICAgICA9IGxvY2FsZV9jYWxlbmRhcl9fY2FsZW5kYXI7XG4gICAgcHJvdG90eXBlX19wcm90by5fbG9uZ0RhdGVGb3JtYXQgPSBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQ7XG4gICAgcHJvdG90eXBlX19wcm90by5sb25nRGF0ZUZvcm1hdCAgPSBsb25nRGF0ZUZvcm1hdDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLl9pbnZhbGlkRGF0ZSAgICA9IGRlZmF1bHRJbnZhbGlkRGF0ZTtcbiAgICBwcm90b3R5cGVfX3Byb3RvLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX29yZGluYWwgICAgICAgID0gZGVmYXVsdE9yZGluYWw7XG4gICAgcHJvdG90eXBlX19wcm90by5vcmRpbmFsICAgICAgICAgPSBvcmRpbmFsO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX29yZGluYWxQYXJzZSAgID0gZGVmYXVsdE9yZGluYWxQYXJzZTtcbiAgICBwcm90b3R5cGVfX3Byb3RvLnByZXBhcnNlICAgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLl9yZWxhdGl2ZVRpbWUgICA9IGRlZmF1bHRSZWxhdGl2ZVRpbWU7XG4gICAgcHJvdG90eXBlX19wcm90by5yZWxhdGl2ZVRpbWUgICAgPSByZWxhdGl2ZV9fcmVsYXRpdmVUaW1lO1xuICAgIHByb3RvdHlwZV9fcHJvdG8ucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTtcbiAgICBwcm90b3R5cGVfX3Byb3RvLnNldCAgICAgICAgICAgICA9IGxvY2FsZV9zZXRfX3NldDtcblxuICAgIC8vIE1vbnRoXG4gICAgcHJvdG90eXBlX19wcm90by5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG4gICAgcHJvdG90eXBlX19wcm90by5fbW9udGhzICAgICAgICAgICA9IGRlZmF1bHRMb2NhbGVNb250aHM7XG4gICAgcHJvdG90eXBlX19wcm90by5tb250aHNTaG9ydCAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNTaG9ydDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLl9tb250aHNTaG9ydCAgICAgID0gZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8ubW9udGhzUGFyc2UgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzUGFyc2U7XG4gICAgcHJvdG90eXBlX19wcm90by5fbW9udGhzUmVnZXggICAgICA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLm1vbnRoc1JlZ2V4ICAgICAgID0gbW9udGhzUmVnZXg7XG4gICAgcHJvdG90eXBlX19wcm90by5fbW9udGhzU2hvcnRSZWdleCA9IGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4O1xuICAgIHByb3RvdHlwZV9fcHJvdG8ubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuXG4gICAgLy8gV2Vla1xuICAgIHByb3RvdHlwZV9fcHJvdG8ud2VlayA9IGxvY2FsZVdlZWs7XG4gICAgcHJvdG90eXBlX19wcm90by5fd2VlayA9IGRlZmF1bHRMb2NhbGVXZWVrO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uZmlyc3REYXlPZlllYXIgPSBsb2NhbGVGaXJzdERheU9mWWVhcjtcbiAgICBwcm90b3R5cGVfX3Byb3RvLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbiAgICAvLyBEYXkgb2YgV2Vla1xuICAgIHByb3RvdHlwZV9fcHJvdG8ud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7XG4gICAgcHJvdG90eXBlX19wcm90by5fd2Vla2RheXMgICAgICA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5cztcbiAgICBwcm90b3R5cGVfX3Byb3RvLndlZWtkYXlzTWluICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzTWluO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX3dlZWtkYXlzTWluICAgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW47XG4gICAgcHJvdG90eXBlX19wcm90by53ZWVrZGF5c1Nob3J0ICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1Nob3J0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX3dlZWtkYXlzU2hvcnQgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cbiAgICBwcm90b3R5cGVfX3Byb3RvLl93ZWVrZGF5c1JlZ2V4ICAgICAgPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLndlZWtkYXlzUmVnZXggICAgICAgPSAgICAgICAgd2Vla2RheXNSZWdleDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLl93ZWVrZGF5c1Nob3J0UmVnZXggPSBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgIHByb3RvdHlwZV9fcHJvdG8ud2Vla2RheXNTaG9ydFJlZ2V4ICA9ICAgICAgICB3ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgcHJvdG90eXBlX19wcm90by5fd2Vla2RheXNNaW5SZWdleCAgID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG4gICAgcHJvdG90eXBlX19wcm90by53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XG5cbiAgICAvLyBIb3Vyc1xuICAgIHByb3RvdHlwZV9fcHJvdG8uaXNQTSA9IGxvY2FsZUlzUE07XG4gICAgcHJvdG90eXBlX19wcm90by5fbWVyaWRpZW1QYXJzZSA9IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8ubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuICAgIGZ1bmN0aW9uIGxpc3RzX19nZXQgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoKTtcbiAgICAgICAgdmFyIHV0YyA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHNJbXBsIChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXG4gICAgICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbGlzdHNfX2dldChmb3JtYXQsIGluZGV4LCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaTtcbiAgICAgICAgdmFyIG91dCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgb3V0W2ldID0gbGlzdHNfX2dldChmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8vICgpXG4gICAgLy8gKDUpXG4gICAgLy8gKGZtdCwgNSlcbiAgICAvLyAoZm10KVxuICAgIC8vICh0cnVlKVxuICAgIC8vICh0cnVlLCA1KVxuICAgIC8vICh0cnVlLCBmbXQsIDUpXG4gICAgLy8gKHRydWUsIGZtdClcbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBsb2NhbGVTb3J0ZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbG9jYWxlID0gbG9jYWxlX2xvY2FsZXNfX2dldExvY2FsZSgpLFxuICAgICAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3RzX19nZXQoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgb3V0W2ldID0gbGlzdHNfX2dldChmb3JtYXQsIChpICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RzX19saXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0TW9udGhzSW1wbChmb3JtYXQsIGluZGV4LCAnbW9udGhzJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RXZWVrZGF5cyAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RXZWVrZGF5c1Nob3J0IChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNTaG9ydCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RzX19saXN0V2Vla2RheXNNaW4gKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xuICAgIH1cblxuICAgIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgICAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUpO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUpO1xuXG4gICAgdmFyIG1hdGhBYnMgPSBNYXRoLmFicztcblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2Fic19fYWJzICgpIHtcbiAgICAgICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG4gICAgICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyAgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS5ob3Vycyk7XG4gICAgICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgICAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2FkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICAgICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgICAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19hZGQgKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19hZGRTdWJ0cmFjdCh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19zdWJ0cmFjdCAoaW5wdXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBkdXJhdGlvbl9hZGRfc3VidHJhY3RfX2FkZFN1YnRyYWN0KHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcbiAgICAgICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgICAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICAgICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgICAgIGRheXMgPSAwO1xuICAgICAgICAgICAgbW9udGhzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICAgICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgICAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblxuICAgICAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICAgICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgICAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cbiAgICAgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuICAgICAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICAgICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuICAgICAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICAgICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgICAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICAgICAgdmFyIGRheXM7XG4gICAgICAgIHZhciBtb250aHM7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgbWlsbGlzZWNvbmRzIHNlcGFyYXRlbHkgYmVjYXVzZSBvZiBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAoaXNzdWUgIzE4NjcpXG4gICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3dlZWsnICAgOiByZXR1cm4gZGF5cyAvIDcgICAgICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ21pbnV0ZScgOiByZXR1cm4gZGF5cyAqIDE0NDAgICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcbiAgICAgICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6IHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2FzX192YWx1ZU9mICgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuICAgICAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG4gICAgICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhc01pbGxpc2Vjb25kcyA9IG1ha2VBcygnbXMnKTtcbiAgICB2YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcbiAgICB2YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcbiAgICB2YXIgYXNIb3VycyAgICAgICAgPSBtYWtlQXMoJ2gnKTtcbiAgICB2YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcbiAgICB2YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcbiAgICB2YXIgYXNNb250aHMgICAgICAgPSBtYWtlQXMoJ00nKTtcbiAgICB2YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2dldF9fZ2V0ICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHMgKyAncyddKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG4gICAgdmFyIHNlY29uZHMgICAgICA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKTtcbiAgICB2YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xuICAgIHZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xuICAgIHZhciBkYXlzICAgICAgICAgPSBtYWtlR2V0dGVyKCdkYXlzJyk7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xuICAgIHZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG4gICAgZnVuY3Rpb24gd2Vla3MgKCkge1xuICAgICAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbiAgICB9XG5cbiAgICB2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuICAgIHZhciB0aHJlc2hvbGRzID0ge1xuICAgICAgICBzOiA0NSwgIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgICAgIG06IDQ1LCAgLy8gbWludXRlcyB0byBob3VyXG4gICAgICAgIGg6IDIyLCAgLy8gaG91cnMgdG8gZGF5XG4gICAgICAgIGQ6IDI2LCAgLy8gZGF5cyB0byBtb250aFxuICAgICAgICBNOiAxMSAgIC8vIG1vbnRocyB0byB5ZWFyXG4gICAgfTtcblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG4gICAgZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLCBudW1iZXIsIHdpdGhvdXRTdWZmaXgsIGlzRnV0dXJlLCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHVyYXRpb25faHVtYW5pemVfX3JlbGF0aXZlVGltZSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICAgICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG4gICAgICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuICAgICAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICAgICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG4gICAgICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuICAgICAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgICAgICB2YXIgYSA9IHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgJiYgWydzJywgc2Vjb25kc10gIHx8XG4gICAgICAgICAgICAgICAgbWludXRlcyA8PSAxICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuICAgICAgICAgICAgICAgIGhvdXJzICAgPD0gMSAgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgICAgICBkYXlzICAgIDw9IDEgICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgJiYgWydkZCcsIGRheXNdICAgIHx8XG4gICAgICAgICAgICAgICAgbW9udGhzICA8PSAxICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdICB8fFxuICAgICAgICAgICAgICAgIHllYXJzICAgPD0gMSAgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107XG5cbiAgICAgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgICAgICBhWzRdID0gbG9jYWxlO1xuICAgICAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG4gICAgZnVuY3Rpb24gZHVyYXRpb25faHVtYW5pemVfX2dldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuICAgICAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZHNbdGhyZXNob2xkXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB2YXIgb3V0cHV0ID0gZHVyYXRpb25faHVtYW5pemVfX3JlbGF0aXZlVGltZSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcblxuICAgICAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgaXNvX3N0cmluZ19fYWJzID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBpc29fc3RyaW5nX190b0lTT1N0cmluZygpIHtcbiAgICAgICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAgICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgICAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG4gICAgICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAgICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG4gICAgICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgICAgIHZhciBzZWNvbmRzID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwO1xuICAgICAgICB2YXIgZGF5cyAgICAgICAgID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuX2RheXMpO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuX21vbnRocyk7XG4gICAgICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cbiAgICAgICAgLy8gMzYwMCBzZWNvbmRzIC0+IDYwIG1pbnV0ZXMgLT4gMSBob3VyXG4gICAgICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgICAgICBzZWNvbmRzICU9IDYwO1xuICAgICAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICAgICAgeWVhcnMgID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cblxuICAgICAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgICAgICB2YXIgWSA9IHllYXJzO1xuICAgICAgICB2YXIgTSA9IG1vbnRocztcbiAgICAgICAgdmFyIEQgPSBkYXlzO1xuICAgICAgICB2YXIgaCA9IGhvdXJzO1xuICAgICAgICB2YXIgbSA9IG1pbnV0ZXM7XG4gICAgICAgIHZhciBzID0gc2Vjb25kcztcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcblxuICAgICAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG4gICAgICAgICAgICAvLyBidXQgbm90IG90aGVyIEpTIChnb29nLmRhdGUpXG4gICAgICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHRvdGFsIDwgMCA/ICctJyA6ICcnKSArXG4gICAgICAgICAgICAnUCcgK1xuICAgICAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICtcbiAgICAgICAgICAgIChNID8gTSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAoRCA/IEQgKyAnRCcgOiAnJykgK1xuICAgICAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuICAgICAgICAgICAgKGggPyBoICsgJ0gnIDogJycpICtcbiAgICAgICAgICAgIChtID8gbSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7XG4gICAgfVxuXG4gICAgdmFyIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFicyAgICAgICAgICAgID0gZHVyYXRpb25fYWJzX19hYnM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hZGQgICAgICAgICAgICA9IGR1cmF0aW9uX2FkZF9zdWJ0cmFjdF9fYWRkO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uc3VidHJhY3QgICAgICAgPSBkdXJhdGlvbl9hZGRfc3VidHJhY3RfX3N1YnRyYWN0O1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXMgICAgICAgICAgICAgPSBhcztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc1NlY29uZHMgICAgICA9IGFzU2Vjb25kcztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFzTWludXRlcyAgICAgID0gYXNNaW51dGVzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNEYXlzICAgICAgICAgPSBhc0RheXM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc1dlZWtzICAgICAgICA9IGFzV2Vla3M7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNZZWFycyAgICAgICAgPSBhc1llYXJzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8udmFsdWVPZiAgICAgICAgPSBkdXJhdGlvbl9hc19fdmFsdWVPZjtcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLl9idWJibGUgICAgICAgID0gYnViYmxlO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uZ2V0ICAgICAgICAgICAgPSBkdXJhdGlvbl9nZXRfX2dldDtcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLm1pbGxpc2Vjb25kcyAgID0gbWlsbGlzZWNvbmRzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8ubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uaG91cnMgICAgICAgICAgPSBob3VycztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmRheXMgICAgICAgICAgID0gZGF5cztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLndlZWtzICAgICAgICAgID0gd2Vla3M7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5tb250aHMgICAgICAgICA9IG1vbnRocztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnllYXJzICAgICAgICAgID0geWVhcnM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8udG9JU09TdHJpbmcgICAgPSBpc29fc3RyaW5nX190b0lTT1N0cmluZztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnRvU3RyaW5nICAgICAgID0gaXNvX3N0cmluZ19fdG9JU09TdHJpbmc7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by50b0pTT04gICAgICAgICA9IGlzb19zdHJpbmdfX3RvSVNPU3RyaW5nO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8ubG9jYWxlICAgICAgICAgPSBsb2NhbGU7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cbiAgICAvLyBEZXByZWNhdGlvbnNcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnRvSXNvU3RyaW5nID0gZGVwcmVjYXRlKCd0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKScsIGlzb19zdHJpbmdfX3RvSVNPU3RyaW5nKTtcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmxhbmcgPSBsYW5nO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKCd4JywgMCwgMCwgJ3ZhbHVlT2YnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWCcsIG1hdGNoVGltZXN0YW1wKTtcbiAgICBhZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbiAgICB9KTtcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnZlcnNpb24gPSAnMi4xMy4wJztcblxuICAgIHNldEhvb2tDYWxsYmFjayhsb2NhbF9fY3JlYXRlTG9jYWwpO1xuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IG1vbWVudFByb3RvdHlwZTtcbiAgICB1dGlsc19ob29rc19faG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5tYXggICAgICAgICAgICAgICAgICAgPSBtYXg7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbiAgICB1dGlsc19ob29rc19faG9va3MudXRjICAgICAgICAgICAgICAgICAgID0gY3JlYXRlX3V0Y19fY3JlYXRlVVRDO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy51bml4ICAgICAgICAgICAgICAgICAgPSBtb21lbnRfX2NyZWF0ZVVuaXg7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLm1vbnRocyAgICAgICAgICAgICAgICA9IGxpc3RzX19saXN0TW9udGhzO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5pc0RhdGUgICAgICAgICAgICAgICAgPSBpc0RhdGU7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmxvY2FsZSAgICAgICAgICAgICAgICA9IGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGU7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmludmFsaWQgICAgICAgICAgICAgICA9IHZhbGlkX19jcmVhdGVJbnZhbGlkO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5kdXJhdGlvbiAgICAgICAgICAgICAgPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcbiAgICB1dGlsc19ob29rc19faG9va3Mud2Vla2RheXMgICAgICAgICAgICAgID0gbGlzdHNfX2xpc3RXZWVrZGF5cztcbiAgICB1dGlsc19ob29rc19faG9va3MucGFyc2Vab25lICAgICAgICAgICAgID0gbW9tZW50X19jcmVhdGVJblpvbmU7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGU7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmlzRHVyYXRpb24gICAgICAgICAgICA9IGlzRHVyYXRpb247XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLm1vbnRoc1Nob3J0ICAgICAgICAgICA9IGxpc3RzX19saXN0TW9udGhzU2hvcnQ7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLndlZWtkYXlzTWluICAgICAgICAgICA9IGxpc3RzX19saXN0V2Vla2RheXNNaW47XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmRlZmluZUxvY2FsZSAgICAgICAgICA9IGRlZmluZUxvY2FsZTtcbiAgICB1dGlsc19ob29rc19faG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsb2NhbGVfbG9jYWxlc19fbGlzdExvY2FsZXM7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RzX19saXN0V2Vla2RheXNTaG9ydDtcbiAgICB1dGlsc19ob29rc19faG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGR1cmF0aW9uX2h1bWFuaXplX19nZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnByb3RvdHlwZSAgICAgICAgICAgICA9IG1vbWVudFByb3RvdHlwZTtcblxuICAgIHZhciBfbW9tZW50ID0gdXRpbHNfaG9va3NfX2hvb2tzO1xuXG4gICAgcmV0dXJuIF9tb21lbnQ7XG5cbn0pKTsiLCIvLyB2aW06dHM9NDpzdHM9NDpzdz00OlxuLyohXG4gKlxuICogQ29weXJpZ2h0IDIwMDktMjAxMiBLcmlzIEtvd2FsIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUXG4gKiBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL3Jhdy9tYXN0ZXIvTElDRU5TRVxuICpcbiAqIFdpdGggcGFydHMgYnkgVHlsZXIgQ2xvc2VcbiAqIENvcHlyaWdodCAyMDA3LTIwMDkgVHlsZXIgQ2xvc2UgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgWCBsaWNlbnNlIGZvdW5kXG4gKiBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLmh0bWxcbiAqIEZvcmtlZCBhdCByZWZfc2VuZC5qcyB2ZXJzaW9uOiAyMDA5LTA1LTExXG4gKlxuICogV2l0aCBwYXJ0cyBieSBNYXJrIE1pbGxlclxuICogQ29weXJpZ2h0IChDKSAyMDExIEdvb2dsZSBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5cbihmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgLy8gVGhpcyBmaWxlIHdpbGwgZnVuY3Rpb24gcHJvcGVybHkgYXMgYSA8c2NyaXB0PiB0YWcsIG9yIGEgbW9kdWxlXG4gICAgLy8gdXNpbmcgQ29tbW9uSlMgYW5kIE5vZGVKUyBvciBSZXF1aXJlSlMgbW9kdWxlIGZvcm1hdHMuICBJblxuICAgIC8vIENvbW1vbi9Ob2RlL1JlcXVpcmVKUywgdGhlIG1vZHVsZSBleHBvcnRzIHRoZSBRIEFQSSBhbmQgd2hlblxuICAgIC8vIGV4ZWN1dGVkIGFzIGEgc2ltcGxlIDxzY3JpcHQ+LCBpdCBjcmVhdGVzIGEgUSBnbG9iYWwgaW5zdGVhZC5cblxuICAgIC8vIE1vbnRhZ2UgUmVxdWlyZVxuICAgIGlmICh0eXBlb2YgYm9vdHN0cmFwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgYm9vdHN0cmFwKFwicHJvbWlzZVwiLCBkZWZpbml0aW9uKTtcblxuICAgIC8vIENvbW1vbkpTXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpO1xuXG4gICAgLy8gUmVxdWlyZUpTXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZGVmaW5pdGlvbik7XG5cbiAgICAvLyBTRVMgKFNlY3VyZSBFY21hU2NyaXB0KVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAoIXNlcy5vaygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXMubWFrZVEgPSBkZWZpbml0aW9uO1xuICAgICAgICB9XG5cbiAgICAvLyA8c2NyaXB0PlxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBQcmVmZXIgd2luZG93IG92ZXIgc2VsZiBmb3IgYWRkLW9uIHNjcmlwdHMuIFVzZSBzZWxmIGZvclxuICAgICAgICAvLyBub24td2luZG93ZWQgY29udGV4dHMuXG4gICAgICAgIHZhciBnbG9iYWwgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogc2VsZjtcblxuICAgICAgICAvLyBHZXQgdGhlIGB3aW5kb3dgIG9iamVjdCwgc2F2ZSB0aGUgcHJldmlvdXMgUSBnbG9iYWxcbiAgICAgICAgLy8gYW5kIGluaXRpYWxpemUgUSBhcyBhIGdsb2JhbC5cbiAgICAgICAgdmFyIHByZXZpb3VzUSA9IGdsb2JhbC5RO1xuICAgICAgICBnbG9iYWwuUSA9IGRlZmluaXRpb24oKTtcblxuICAgICAgICAvLyBBZGQgYSBub0NvbmZsaWN0IGZ1bmN0aW9uIHNvIFEgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGVcbiAgICAgICAgLy8gZ2xvYmFsIG5hbWVzcGFjZS5cbiAgICAgICAgZ2xvYmFsLlEubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGdsb2JhbC5RID0gcHJldmlvdXNRO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGVudmlyb25tZW50IHdhcyBub3QgYW50aWNpcGF0ZWQgYnkgUS4gUGxlYXNlIGZpbGUgYSBidWcuXCIpO1xuICAgIH1cblxufSkoZnVuY3Rpb24gKCkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBoYXNTdGFja3MgPSBmYWxzZTtcbnRyeSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCk7XG59IGNhdGNoIChlKSB7XG4gICAgaGFzU3RhY2tzID0gISFlLnN0YWNrO1xufVxuXG4vLyBBbGwgY29kZSBhZnRlciB0aGlzIHBvaW50IHdpbGwgYmUgZmlsdGVyZWQgZnJvbSBzdGFjayB0cmFjZXMgcmVwb3J0ZWRcbi8vIGJ5IFEuXG52YXIgcVN0YXJ0aW5nTGluZSA9IGNhcHR1cmVMaW5lKCk7XG52YXIgcUZpbGVOYW1lO1xuXG4vLyBzaGltc1xuXG4vLyB1c2VkIGZvciBmYWxsYmFjayBpbiBcImFsbFJlc29sdmVkXCJcbnZhciBub29wID0gZnVuY3Rpb24gKCkge307XG5cbi8vIFVzZSB0aGUgZmFzdGVzdCBwb3NzaWJsZSBtZWFucyB0byBleGVjdXRlIGEgdGFzayBpbiBhIGZ1dHVyZSB0dXJuXG4vLyBvZiB0aGUgZXZlbnQgbG9vcC5cbnZhciBuZXh0VGljayA9KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBsaW5rZWQgbGlzdCBvZiB0YXNrcyAoc2luZ2xlLCB3aXRoIGhlYWQgbm9kZSlcbiAgICB2YXIgaGVhZCA9IHt0YXNrOiB2b2lkIDAsIG5leHQ6IG51bGx9O1xuICAgIHZhciB0YWlsID0gaGVhZDtcbiAgICB2YXIgZmx1c2hpbmcgPSBmYWxzZTtcbiAgICB2YXIgcmVxdWVzdFRpY2sgPSB2b2lkIDA7XG4gICAgdmFyIGlzTm9kZUpTID0gZmFsc2U7XG4gICAgLy8gcXVldWUgZm9yIGxhdGUgdGFza3MsIHVzZWQgYnkgdW5oYW5kbGVkIHJlamVjdGlvbiB0cmFja2luZ1xuICAgIHZhciBsYXRlclF1ZXVlID0gW107XG5cbiAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgLyoganNoaW50IGxvb3BmdW5jOiB0cnVlICovXG4gICAgICAgIHZhciB0YXNrLCBkb21haW47XG5cbiAgICAgICAgd2hpbGUgKGhlYWQubmV4dCkge1xuICAgICAgICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgICAgICAgIHRhc2sgPSBoZWFkLnRhc2s7XG4gICAgICAgICAgICBoZWFkLnRhc2sgPSB2b2lkIDA7XG4gICAgICAgICAgICBkb21haW4gPSBoZWFkLmRvbWFpbjtcblxuICAgICAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgICAgIGhlYWQuZG9tYWluID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuU2luZ2xlKHRhc2ssIGRvbWFpbik7XG5cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAobGF0ZXJRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRhc2sgPSBsYXRlclF1ZXVlLnBvcCgpO1xuICAgICAgICAgICAgcnVuU2luZ2xlKHRhc2spO1xuICAgICAgICB9XG4gICAgICAgIGZsdXNoaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIHJ1bnMgYSBzaW5nbGUgZnVuY3Rpb24gaW4gdGhlIGFzeW5jIHF1ZXVlXG4gICAgZnVuY3Rpb24gcnVuU2luZ2xlKHRhc2ssIGRvbWFpbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGFzaygpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChpc05vZGVKUykge1xuICAgICAgICAgICAgICAgIC8vIEluIG5vZGUsIHVuY2F1Z2h0IGV4Y2VwdGlvbnMgYXJlIGNvbnNpZGVyZWQgZmF0YWwgZXJyb3JzLlxuICAgICAgICAgICAgICAgIC8vIFJlLXRocm93IHRoZW0gc3luY2hyb25vdXNseSB0byBpbnRlcnJ1cHQgZmx1c2hpbmchXG5cbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgY29udGludWF0aW9uIGlmIHRoZSB1bmNhdWdodCBleGNlcHRpb24gaXMgc3VwcHJlc3NlZFxuICAgICAgICAgICAgICAgIC8vIGxpc3RlbmluZyBcInVuY2F1Z2h0RXhjZXB0aW9uXCIgZXZlbnRzIChhcyBkb21haW5zIGRvZXMpLlxuICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIGluIG5leHQgZXZlbnQgdG8gYXZvaWQgdGljayByZWN1cnNpb24uXG4gICAgICAgICAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IGU7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gYnJvd3NlcnMsIHVuY2F1Z2h0IGV4Y2VwdGlvbnMgYXJlIG5vdCBmYXRhbC5cbiAgICAgICAgICAgICAgICAvLyBSZS10aHJvdyB0aGVtIGFzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHNsb3ctZG93bnMuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFRpY2sgPSBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICB0YWlsID0gdGFpbC5uZXh0ID0ge1xuICAgICAgICAgICAgdGFzazogdGFzayxcbiAgICAgICAgICAgIGRvbWFpbjogaXNOb2RlSlMgJiYgcHJvY2Vzcy5kb21haW4sXG4gICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFmbHVzaGluZykge1xuICAgICAgICAgICAgZmx1c2hpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmVxdWVzdFRpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgcHJvY2Vzcy50b1N0cmluZygpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIiAmJiBwcm9jZXNzLm5leHRUaWNrKSB7XG4gICAgICAgIC8vIEVuc3VyZSBRIGlzIGluIGEgcmVhbCBOb2RlIGVudmlyb25tZW50LCB3aXRoIGEgYHByb2Nlc3MubmV4dFRpY2tgLlxuICAgICAgICAvLyBUbyBzZWUgdGhyb3VnaCBmYWtlIE5vZGUgZW52aXJvbm1lbnRzOlxuICAgICAgICAvLyAqIE1vY2hhIHRlc3QgcnVubmVyIC0gZXhwb3NlcyBhIGBwcm9jZXNzYCBnbG9iYWwgd2l0aG91dCBhIGBuZXh0VGlja2BcbiAgICAgICAgLy8gKiBCcm93c2VyaWZ5IC0gZXhwb3NlcyBhIGBwcm9jZXNzLm5leFRpY2tgIGZ1bmN0aW9uIHRoYXQgdXNlc1xuICAgICAgICAvLyAgIGBzZXRUaW1lb3V0YC4gSW4gdGhpcyBjYXNlIGBzZXRJbW1lZGlhdGVgIGlzIHByZWZlcnJlZCBiZWNhdXNlXG4gICAgICAgIC8vICAgIGl0IGlzIGZhc3Rlci4gQnJvd3NlcmlmeSdzIGBwcm9jZXNzLnRvU3RyaW5nKClgIHlpZWxkc1xuICAgICAgICAvLyAgIFwiW29iamVjdCBPYmplY3RdXCIsIHdoaWxlIGluIGEgcmVhbCBOb2RlIGVudmlyb25tZW50XG4gICAgICAgIC8vICAgYHByb2Nlc3MubmV4dFRpY2soKWAgeWllbGRzIFwiW29iamVjdCBwcm9jZXNzXVwiLlxuICAgICAgICBpc05vZGVKUyA9IHRydWU7XG5cbiAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIC8vIEluIElFMTAsIE5vZGUuanMgMC45Kywgb3IgaHR0cHM6Ly9naXRodWIuY29tL05vYmxlSlMvc2V0SW1tZWRpYXRlXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXF1ZXN0VGljayA9IHNldEltbWVkaWF0ZS5iaW5kKHdpbmRvdywgZmx1c2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZsdXNoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIG1vZGVybiBicm93c2Vyc1xuICAgICAgICAvLyBodHRwOi8vd3d3Lm5vbmJsb2NraW5nLmlvLzIwMTEvMDYvd2luZG93bmV4dHRpY2suaHRtbFxuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICAvLyBBdCBsZWFzdCBTYWZhcmkgVmVyc2lvbiA2LjAuNSAoODUzNi4zMC4xKSBpbnRlcm1pdHRlbnRseSBjYW5ub3QgY3JlYXRlXG4gICAgICAgIC8vIHdvcmtpbmcgbWVzc2FnZSBwb3J0cyB0aGUgZmlyc3QgdGltZSBhIHBhZ2UgbG9hZHMuXG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVxdWVzdFRpY2sgPSByZXF1ZXN0UG9ydFRpY2s7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZsdXNoO1xuICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlcXVlc3RQb3J0VGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIE9wZXJhIHJlcXVpcmVzIHVzIHRvIHByb3ZpZGUgYSBtZXNzYWdlIHBheWxvYWQsIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgICAgICAgIC8vIHdoZXRoZXIgd2UgdXNlIGl0LlxuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcbiAgICAgICAgICAgIHJlcXVlc3RQb3J0VGljaygpO1xuICAgICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gb2xkIGJyb3dzZXJzXG4gICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmbHVzaCwgMCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIHJ1bnMgYSB0YXNrIGFmdGVyIGFsbCBvdGhlciB0YXNrcyBoYXZlIGJlZW4gcnVuXG4gICAgLy8gdGhpcyBpcyB1c2VmdWwgZm9yIHVuaGFuZGxlZCByZWplY3Rpb24gdHJhY2tpbmcgdGhhdCBuZWVkcyB0byBoYXBwZW5cbiAgICAvLyBhZnRlciBhbGwgYHRoZW5gZCB0YXNrcyBoYXZlIGJlZW4gcnVuLlxuICAgIG5leHRUaWNrLnJ1bkFmdGVyID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgbGF0ZXJRdWV1ZS5wdXNoKHRhc2spO1xuICAgICAgICBpZiAoIWZsdXNoaW5nKSB7XG4gICAgICAgICAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXF1ZXN0VGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gbmV4dFRpY2s7XG59KSgpO1xuXG4vLyBBdHRlbXB0IHRvIG1ha2UgZ2VuZXJpY3Mgc2FmZSBpbiB0aGUgZmFjZSBvZiBkb3duc3RyZWFtXG4vLyBtb2RpZmljYXRpb25zLlxuLy8gVGhlcmUgaXMgbm8gc2l0dWF0aW9uIHdoZXJlIHRoaXMgaXMgbmVjZXNzYXJ5LlxuLy8gSWYgeW91IG5lZWQgYSBzZWN1cml0eSBndWFyYW50ZWUsIHRoZXNlIHByaW1vcmRpYWxzIG5lZWQgdG8gYmVcbi8vIGRlZXBseSBmcm96ZW4gYW55d2F5LCBhbmQgaWYgeW91IGRvbuKAmXQgbmVlZCBhIHNlY3VyaXR5IGd1YXJhbnRlZSxcbi8vIHRoaXMgaXMganVzdCBwbGFpbiBwYXJhbm9pZC5cbi8vIEhvd2V2ZXIsIHRoaXMgKiptaWdodCoqIGhhdmUgdGhlIG5pY2Ugc2lkZS1lZmZlY3Qgb2YgcmVkdWNpbmcgdGhlIHNpemUgb2Zcbi8vIHRoZSBtaW5pZmllZCBjb2RlIGJ5IHJlZHVjaW5nIHguY2FsbCgpIHRvIG1lcmVseSB4KClcbi8vIFNlZSBNYXJrIE1pbGxlcuKAmXMgZXhwbGFuYXRpb24gb2Ygd2hhdCB0aGlzIGRvZXMuXG4vLyBodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1jb252ZW50aW9uczpzYWZlX21ldGFfcHJvZ3JhbW1pbmdcbnZhciBjYWxsID0gRnVuY3Rpb24uY2FsbDtcbmZ1bmN0aW9uIHVuY3VycnlUaGlzKGYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FsbC5hcHBseShmLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG4vLyBUaGlzIGlzIGVxdWl2YWxlbnQsIGJ1dCBzbG93ZXI6XG4vLyB1bmN1cnJ5VGhpcyA9IEZ1bmN0aW9uX2JpbmQuYmluZChGdW5jdGlvbl9iaW5kLmNhbGwpO1xuLy8gaHR0cDovL2pzcGVyZi5jb20vdW5jdXJyeXRoaXNcblxudmFyIGFycmF5X3NsaWNlID0gdW5jdXJyeVRoaXMoQXJyYXkucHJvdG90eXBlLnNsaWNlKTtcblxudmFyIGFycmF5X3JlZHVjZSA9IHVuY3VycnlUaGlzKFxuICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgfHwgZnVuY3Rpb24gKGNhbGxiYWNrLCBiYXNpcykge1xuICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIC8vIGNvbmNlcm5pbmcgdGhlIGluaXRpYWwgdmFsdWUsIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHNlZWsgdG8gdGhlIGZpcnN0IHZhbHVlIGluIHRoZSBhcnJheSwgYWNjb3VudGluZ1xuICAgICAgICAgICAgLy8gZm9yIHRoZSBwb3NzaWJpbGl0eSB0aGF0IGlzIGlzIGEgc3BhcnNlIGFycmF5XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IGluIHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzaXMgPSB0aGlzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCsraW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICgxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWR1Y2VcbiAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAvLyBhY2NvdW50IGZvciB0aGUgcG9zc2liaWxpdHkgdGhhdCB0aGUgYXJyYXkgaXMgc3BhcnNlXG4gICAgICAgICAgICBpZiAoaW5kZXggaW4gdGhpcykge1xuICAgICAgICAgICAgICAgIGJhc2lzID0gY2FsbGJhY2soYmFzaXMsIHRoaXNbaW5kZXhdLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2lzO1xuICAgIH1cbik7XG5cbnZhciBhcnJheV9pbmRleE9mID0gdW5jdXJyeVRoaXMoXG4gICAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgfHwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIG5vdCBhIHZlcnkgZ29vZCBzaGltLCBidXQgZ29vZCBlbm91Z2ggZm9yIG91ciBvbmUgdXNlIG9mIGl0XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbik7XG5cbnZhciBhcnJheV9tYXAgPSB1bmN1cnJ5VGhpcyhcbiAgICBBcnJheS5wcm90b3R5cGUubWFwIHx8IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc3ApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgY29sbGVjdCA9IFtdO1xuICAgICAgICBhcnJheV9yZWR1Y2Uoc2VsZiwgZnVuY3Rpb24gKHVuZGVmaW5lZCwgdmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICBjb2xsZWN0LnB1c2goY2FsbGJhY2suY2FsbCh0aGlzcCwgdmFsdWUsIGluZGV4LCBzZWxmKSk7XG4gICAgICAgIH0sIHZvaWQgMCk7XG4gICAgICAgIHJldHVybiBjb2xsZWN0O1xuICAgIH1cbik7XG5cbnZhciBvYmplY3RfY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiAocHJvdG90eXBlKSB7XG4gICAgZnVuY3Rpb24gVHlwZSgpIHsgfVxuICAgIFR5cGUucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgIHJldHVybiBuZXcgVHlwZSgpO1xufTtcblxudmFyIG9iamVjdF9oYXNPd25Qcm9wZXJ0eSA9IHVuY3VycnlUaGlzKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuXG52YXIgb2JqZWN0X2tleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3RfaGFzT3duUHJvcGVydHkob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn07XG5cbnZhciBvYmplY3RfdG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtcblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IE9iamVjdCh2YWx1ZSk7XG59XG5cbi8vIGdlbmVyYXRvciByZWxhdGVkIHNoaW1zXG5cbi8vIEZJWE1FOiBSZW1vdmUgdGhpcyBmdW5jdGlvbiBvbmNlIEVTNiBnZW5lcmF0b3JzIGFyZSBpbiBTcGlkZXJNb25rZXkuXG5mdW5jdGlvbiBpc1N0b3BJdGVyYXRpb24oZXhjZXB0aW9uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgb2JqZWN0X3RvU3RyaW5nKGV4Y2VwdGlvbikgPT09IFwiW29iamVjdCBTdG9wSXRlcmF0aW9uXVwiIHx8XG4gICAgICAgIGV4Y2VwdGlvbiBpbnN0YW5jZW9mIFFSZXR1cm5WYWx1ZVxuICAgICk7XG59XG5cbi8vIEZJWE1FOiBSZW1vdmUgdGhpcyBoZWxwZXIgYW5kIFEucmV0dXJuIG9uY2UgRVM2IGdlbmVyYXRvcnMgYXJlIGluXG4vLyBTcGlkZXJNb25rZXkuXG52YXIgUVJldHVyblZhbHVlO1xuaWYgKHR5cGVvZiBSZXR1cm5WYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIFFSZXR1cm5WYWx1ZSA9IFJldHVyblZhbHVlO1xufSBlbHNlIHtcbiAgICBRUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH07XG59XG5cbi8vIGxvbmcgc3RhY2sgdHJhY2VzXG5cbnZhciBTVEFDS19KVU1QX1NFUEFSQVRPUiA9IFwiRnJvbSBwcmV2aW91cyBldmVudDpcIjtcblxuZnVuY3Rpb24gbWFrZVN0YWNrVHJhY2VMb25nKGVycm9yLCBwcm9taXNlKSB7XG4gICAgLy8gSWYgcG9zc2libGUsIHRyYW5zZm9ybSB0aGUgZXJyb3Igc3RhY2sgdHJhY2UgYnkgcmVtb3ZpbmcgTm9kZSBhbmQgUVxuICAgIC8vIGNydWZ0LCB0aGVuIGNvbmNhdGVuYXRpbmcgd2l0aCB0aGUgc3RhY2sgdHJhY2Ugb2YgYHByb21pc2VgLiBTZWUgIzU3LlxuICAgIGlmIChoYXNTdGFja3MgJiZcbiAgICAgICAgcHJvbWlzZS5zdGFjayAmJlxuICAgICAgICB0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAgICAgZXJyb3Iuc3RhY2sgJiZcbiAgICAgICAgZXJyb3Iuc3RhY2suaW5kZXhPZihTVEFDS19KVU1QX1NFUEFSQVRPUikgPT09IC0xXG4gICAgKSB7XG4gICAgICAgIHZhciBzdGFja3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgcCA9IHByb21pc2U7ICEhcDsgcCA9IHAuc291cmNlKSB7XG4gICAgICAgICAgICBpZiAocC5zdGFjaykge1xuICAgICAgICAgICAgICAgIHN0YWNrcy51bnNoaWZ0KHAuc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YWNrcy51bnNoaWZ0KGVycm9yLnN0YWNrKTtcblxuICAgICAgICB2YXIgY29uY2F0ZWRTdGFja3MgPSBzdGFja3Muam9pbihcIlxcblwiICsgU1RBQ0tfSlVNUF9TRVBBUkFUT1IgKyBcIlxcblwiKTtcbiAgICAgICAgZXJyb3Iuc3RhY2sgPSBmaWx0ZXJTdGFja1N0cmluZyhjb25jYXRlZFN0YWNrcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaWx0ZXJTdGFja1N0cmluZyhzdGFja1N0cmluZykge1xuICAgIHZhciBsaW5lcyA9IHN0YWNrU3RyaW5nLnNwbGl0KFwiXFxuXCIpO1xuICAgIHZhciBkZXNpcmVkTGluZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZXNbaV07XG5cbiAgICAgICAgaWYgKCFpc0ludGVybmFsRnJhbWUobGluZSkgJiYgIWlzTm9kZUZyYW1lKGxpbmUpICYmIGxpbmUpIHtcbiAgICAgICAgICAgIGRlc2lyZWRMaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkZXNpcmVkTGluZXMuam9pbihcIlxcblwiKTtcbn1cblxuZnVuY3Rpb24gaXNOb2RlRnJhbWUoc3RhY2tMaW5lKSB7XG4gICAgcmV0dXJuIHN0YWNrTGluZS5pbmRleE9mKFwiKG1vZHVsZS5qczpcIikgIT09IC0xIHx8XG4gICAgICAgICAgIHN0YWNrTGluZS5pbmRleE9mKFwiKG5vZGUuanM6XCIpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0RmlsZU5hbWVBbmRMaW5lTnVtYmVyKHN0YWNrTGluZSkge1xuICAgIC8vIE5hbWVkIGZ1bmN0aW9uczogXCJhdCBmdW5jdGlvbk5hbWUgKGZpbGVuYW1lOmxpbmVOdW1iZXI6Y29sdW1uTnVtYmVyKVwiXG4gICAgLy8gSW4gSUUxMCBmdW5jdGlvbiBuYW1lIGNhbiBoYXZlIHNwYWNlcyAoXCJBbm9ueW1vdXMgZnVuY3Rpb25cIikgT19vXG4gICAgdmFyIGF0dGVtcHQxID0gL2F0IC4rIFxcKCguKyk6KFxcZCspOig/OlxcZCspXFwpJC8uZXhlYyhzdGFja0xpbmUpO1xuICAgIGlmIChhdHRlbXB0MSkge1xuICAgICAgICByZXR1cm4gW2F0dGVtcHQxWzFdLCBOdW1iZXIoYXR0ZW1wdDFbMl0pXTtcbiAgICB9XG5cbiAgICAvLyBBbm9ueW1vdXMgZnVuY3Rpb25zOiBcImF0IGZpbGVuYW1lOmxpbmVOdW1iZXI6Y29sdW1uTnVtYmVyXCJcbiAgICB2YXIgYXR0ZW1wdDIgPSAvYXQgKFteIF0rKTooXFxkKyk6KD86XFxkKykkLy5leGVjKHN0YWNrTGluZSk7XG4gICAgaWYgKGF0dGVtcHQyKSB7XG4gICAgICAgIHJldHVybiBbYXR0ZW1wdDJbMV0sIE51bWJlcihhdHRlbXB0MlsyXSldO1xuICAgIH1cblxuICAgIC8vIEZpcmVmb3ggc3R5bGU6IFwiZnVuY3Rpb25AZmlsZW5hbWU6bGluZU51bWJlciBvciBAZmlsZW5hbWU6bGluZU51bWJlclwiXG4gICAgdmFyIGF0dGVtcHQzID0gLy4qQCguKyk6KFxcZCspJC8uZXhlYyhzdGFja0xpbmUpO1xuICAgIGlmIChhdHRlbXB0Mykge1xuICAgICAgICByZXR1cm4gW2F0dGVtcHQzWzFdLCBOdW1iZXIoYXR0ZW1wdDNbMl0pXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzSW50ZXJuYWxGcmFtZShzdGFja0xpbmUpIHtcbiAgICB2YXIgZmlsZU5hbWVBbmRMaW5lTnVtYmVyID0gZ2V0RmlsZU5hbWVBbmRMaW5lTnVtYmVyKHN0YWNrTGluZSk7XG5cbiAgICBpZiAoIWZpbGVOYW1lQW5kTGluZU51bWJlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpbGVOYW1lID0gZmlsZU5hbWVBbmRMaW5lTnVtYmVyWzBdO1xuICAgIHZhciBsaW5lTnVtYmVyID0gZmlsZU5hbWVBbmRMaW5lTnVtYmVyWzFdO1xuXG4gICAgcmV0dXJuIGZpbGVOYW1lID09PSBxRmlsZU5hbWUgJiZcbiAgICAgICAgbGluZU51bWJlciA+PSBxU3RhcnRpbmdMaW5lICYmXG4gICAgICAgIGxpbmVOdW1iZXIgPD0gcUVuZGluZ0xpbmU7XG59XG5cbi8vIGRpc2NvdmVyIG93biBmaWxlIG5hbWUgYW5kIGxpbmUgbnVtYmVyIHJhbmdlIGZvciBmaWx0ZXJpbmcgc3RhY2tcbi8vIHRyYWNlc1xuZnVuY3Rpb24gY2FwdHVyZUxpbmUoKSB7XG4gICAgaWYgKCFoYXNTdGFja3MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdmFyIGxpbmVzID0gZS5zdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgdmFyIGZpcnN0TGluZSA9IGxpbmVzWzBdLmluZGV4T2YoXCJAXCIpID4gMCA/IGxpbmVzWzFdIDogbGluZXNbMl07XG4gICAgICAgIHZhciBmaWxlTmFtZUFuZExpbmVOdW1iZXIgPSBnZXRGaWxlTmFtZUFuZExpbmVOdW1iZXIoZmlyc3RMaW5lKTtcbiAgICAgICAgaWYgKCFmaWxlTmFtZUFuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHFGaWxlTmFtZSA9IGZpbGVOYW1lQW5kTGluZU51bWJlclswXTtcbiAgICAgICAgcmV0dXJuIGZpbGVOYW1lQW5kTGluZU51bWJlclsxXTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZShjYWxsYmFjaywgbmFtZSwgYWx0ZXJuYXRpdmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlLndhcm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKG5hbWUgKyBcIiBpcyBkZXByZWNhdGVkLCB1c2UgXCIgKyBhbHRlcm5hdGl2ZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgXCIgaW5zdGVhZC5cIiwgbmV3IEVycm9yKFwiXCIpLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkoY2FsbGJhY2ssIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLy8gZW5kIG9mIHNoaW1zXG4vLyBiZWdpbm5pbmcgb2YgcmVhbCB3b3JrXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHByb21pc2UgZm9yIGFuIGltbWVkaWF0ZSByZWZlcmVuY2UsIHBhc3NlcyBwcm9taXNlcyB0aHJvdWdoLCBvclxuICogY29lcmNlcyBwcm9taXNlcyBmcm9tIGRpZmZlcmVudCBzeXN0ZW1zLlxuICogQHBhcmFtIHZhbHVlIGltbWVkaWF0ZSByZWZlcmVuY2Ugb3IgcHJvbWlzZVxuICovXG5mdW5jdGlvbiBRKHZhbHVlKSB7XG4gICAgLy8gSWYgdGhlIG9iamVjdCBpcyBhbHJlYWR5IGEgUHJvbWlzZSwgcmV0dXJuIGl0IGRpcmVjdGx5LiAgVGhpcyBlbmFibGVzXG4gICAgLy8gdGhlIHJlc29sdmUgZnVuY3Rpb24gdG8gYm90aCBiZSB1c2VkIHRvIGNyZWF0ZWQgcmVmZXJlbmNlcyBmcm9tIG9iamVjdHMsXG4gICAgLy8gYnV0IHRvIHRvbGVyYWJseSBjb2VyY2Ugbm9uLXByb21pc2VzIHRvIHByb21pc2VzLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8vIGFzc2ltaWxhdGUgdGhlbmFibGVzXG4gICAgaWYgKGlzUHJvbWlzZUFsaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gY29lcmNlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZnVsZmlsbCh2YWx1ZSk7XG4gICAgfVxufVxuUS5yZXNvbHZlID0gUTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhIHRhc2sgaW4gYSBmdXR1cmUgdHVybiBvZiB0aGUgZXZlbnQgbG9vcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRhc2tcbiAqL1xuUS5uZXh0VGljayA9IG5leHRUaWNrO1xuXG4vKipcbiAqIENvbnRyb2xzIHdoZXRoZXIgb3Igbm90IGxvbmcgc3RhY2sgdHJhY2VzIHdpbGwgYmUgb25cbiAqL1xuUS5sb25nU3RhY2tTdXBwb3J0ID0gZmFsc2U7XG5cbi8vIGVuYWJsZSBsb25nIHN0YWNrcyBpZiBRX0RFQlVHIGlzIHNldFxuaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MgJiYgcHJvY2Vzcy5lbnYgJiYgcHJvY2Vzcy5lbnYuUV9ERUJVRykge1xuICAgIFEubG9uZ1N0YWNrU3VwcG9ydCA9IHRydWU7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHtwcm9taXNlLCByZXNvbHZlLCByZWplY3R9IG9iamVjdC5cbiAqXG4gKiBgcmVzb2x2ZWAgaXMgYSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBhIG1vcmUgcmVzb2x2ZWQgdmFsdWUgZm9yIHRoZVxuICogcHJvbWlzZS4gVG8gZnVsZmlsbCB0aGUgcHJvbWlzZSwgaW52b2tlIGByZXNvbHZlYCB3aXRoIGFueSB2YWx1ZSB0aGF0IGlzXG4gKiBub3QgYSB0aGVuYWJsZS4gVG8gcmVqZWN0IHRoZSBwcm9taXNlLCBpbnZva2UgYHJlc29sdmVgIHdpdGggYSByZWplY3RlZFxuICogdGhlbmFibGUsIG9yIGludm9rZSBgcmVqZWN0YCB3aXRoIHRoZSByZWFzb24gZGlyZWN0bHkuIFRvIHJlc29sdmUgdGhlXG4gKiBwcm9taXNlIHRvIGFub3RoZXIgdGhlbmFibGUsIHRodXMgcHV0dGluZyBpdCBpbiB0aGUgc2FtZSBzdGF0ZSwgaW52b2tlXG4gKiBgcmVzb2x2ZWAgd2l0aCB0aGF0IG90aGVyIHRoZW5hYmxlLlxuICovXG5RLmRlZmVyID0gZGVmZXI7XG5mdW5jdGlvbiBkZWZlcigpIHtcbiAgICAvLyBpZiBcIm1lc3NhZ2VzXCIgaXMgYW4gXCJBcnJheVwiLCB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBwcm9taXNlIGhhcyBub3QgeWV0XG4gICAgLy8gYmVlbiByZXNvbHZlZC4gIElmIGl0IGlzIFwidW5kZWZpbmVkXCIsIGl0IGhhcyBiZWVuIHJlc29sdmVkLiAgRWFjaFxuICAgIC8vIGVsZW1lbnQgb2YgdGhlIG1lc3NhZ2VzIGFycmF5IGlzIGl0c2VsZiBhbiBhcnJheSBvZiBjb21wbGV0ZSBhcmd1bWVudHMgdG9cbiAgICAvLyBmb3J3YXJkIHRvIHRoZSByZXNvbHZlZCBwcm9taXNlLiAgV2UgY29lcmNlIHRoZSByZXNvbHV0aW9uIHZhbHVlIHRvIGFcbiAgICAvLyBwcm9taXNlIHVzaW5nIHRoZSBgcmVzb2x2ZWAgZnVuY3Rpb24gYmVjYXVzZSBpdCBoYW5kbGVzIGJvdGggZnVsbHlcbiAgICAvLyBub24tdGhlbmFibGUgdmFsdWVzIGFuZCBvdGhlciB0aGVuYWJsZXMgZ3JhY2VmdWxseS5cbiAgICB2YXIgbWVzc2FnZXMgPSBbXSwgcHJvZ3Jlc3NMaXN0ZW5lcnMgPSBbXSwgcmVzb2x2ZWRQcm9taXNlO1xuXG4gICAgdmFyIGRlZmVycmVkID0gb2JqZWN0X2NyZWF0ZShkZWZlci5wcm90b3R5cGUpO1xuICAgIHZhciBwcm9taXNlID0gb2JqZWN0X2NyZWF0ZShQcm9taXNlLnByb3RvdHlwZSk7XG5cbiAgICBwcm9taXNlLnByb21pc2VEaXNwYXRjaCA9IGZ1bmN0aW9uIChyZXNvbHZlLCBvcCwgb3BlcmFuZHMpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgICAgICBpZiAobWVzc2FnZXMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goYXJncyk7XG4gICAgICAgICAgICBpZiAob3AgPT09IFwid2hlblwiICYmIG9wZXJhbmRzWzFdKSB7IC8vIHByb2dyZXNzIG9wZXJhbmRcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0xpc3RlbmVycy5wdXNoKG9wZXJhbmRzWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvbWlzZS5wcm9taXNlRGlzcGF0Y2guYXBwbHkocmVzb2x2ZWRQcm9taXNlLCBhcmdzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFhYWCBkZXByZWNhdGVkXG4gICAgcHJvbWlzZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZWFyZXJWYWx1ZSA9IG5lYXJlcihyZXNvbHZlZFByb21pc2UpO1xuICAgICAgICBpZiAoaXNQcm9taXNlKG5lYXJlclZhbHVlKSkge1xuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlID0gbmVhcmVyVmFsdWU7IC8vIHNob3J0ZW4gY2hhaW5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmVhcmVyVmFsdWU7XG4gICAgfTtcblxuICAgIHByb21pc2UuaW5zcGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXRlOiBcInBlbmRpbmdcIiB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlZFByb21pc2UuaW5zcGVjdCgpO1xuICAgIH07XG5cbiAgICBpZiAoUS5sb25nU3RhY2tTdXBwb3J0ICYmIGhhc1N0YWNrcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGRvbid0IHRyeSB0byB1c2UgYEVycm9yLmNhcHR1cmVTdGFja1RyYWNlYCBvciB0cmFuc2ZlciB0aGVcbiAgICAgICAgICAgIC8vIGFjY2Vzc29yIGFyb3VuZDsgdGhhdCBjYXVzZXMgbWVtb3J5IGxlYWtzIGFzIHBlciBHSC0xMTEuIEp1c3RcbiAgICAgICAgICAgIC8vIHJlaWZ5IHRoZSBzdGFjayB0cmFjZSBhcyBhIHN0cmluZyBBU0FQLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEF0IHRoZSBzYW1lIHRpbWUsIGN1dCBvZmYgdGhlIGZpcnN0IGxpbmU7IGl0J3MgYWx3YXlzIGp1c3RcbiAgICAgICAgICAgIC8vIFwiW29iamVjdCBQcm9taXNlXVxcblwiLCBhcyBwZXIgdGhlIGB0b1N0cmluZ2AuXG4gICAgICAgICAgICBwcm9taXNlLnN0YWNrID0gZS5zdGFjay5zdWJzdHJpbmcoZS5zdGFjay5pbmRleE9mKFwiXFxuXCIpICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOT1RFOiB3ZSBkbyB0aGUgY2hlY2tzIGZvciBgcmVzb2x2ZWRQcm9taXNlYCBpbiBlYWNoIG1ldGhvZCwgaW5zdGVhZCBvZlxuICAgIC8vIGNvbnNvbGlkYXRpbmcgdGhlbSBpbnRvIGBiZWNvbWVgLCBzaW5jZSBvdGhlcndpc2Ugd2UnZCBjcmVhdGUgbmV3XG4gICAgLy8gcHJvbWlzZXMgd2l0aCB0aGUgbGluZXMgYGJlY29tZSh3aGF0ZXZlcih2YWx1ZSkpYC4gU2VlIGUuZy4gR0gtMjUyLlxuXG4gICAgZnVuY3Rpb24gYmVjb21lKG5ld1Byb21pc2UpIHtcbiAgICAgICAgcmVzb2x2ZWRQcm9taXNlID0gbmV3UHJvbWlzZTtcbiAgICAgICAgcHJvbWlzZS5zb3VyY2UgPSBuZXdQcm9taXNlO1xuXG4gICAgICAgIGFycmF5X3JlZHVjZShtZXNzYWdlcywgZnVuY3Rpb24gKHVuZGVmaW5lZCwgbWVzc2FnZSkge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbmV3UHJvbWlzZS5wcm9taXNlRGlzcGF0Y2guYXBwbHkobmV3UHJvbWlzZSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdm9pZCAwKTtcblxuICAgICAgICBtZXNzYWdlcyA9IHZvaWQgMDtcbiAgICAgICAgcHJvZ3Jlc3NMaXN0ZW5lcnMgPSB2b2lkIDA7XG4gICAgfVxuXG4gICAgZGVmZXJyZWQucHJvbWlzZSA9IHByb21pc2U7XG4gICAgZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAocmVzb2x2ZWRQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiZWNvbWUoUSh2YWx1ZSkpO1xuICAgIH07XG5cbiAgICBkZWZlcnJlZC5mdWxmaWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlY29tZShmdWxmaWxsKHZhbHVlKSk7XG4gICAgfTtcbiAgICBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJlY29tZShyZWplY3QocmVhc29uKSk7XG4gICAgfTtcbiAgICBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHJlc29sdmVkUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJyYXlfcmVkdWNlKHByb2dyZXNzTGlzdGVuZXJzLCBmdW5jdGlvbiAodW5kZWZpbmVkLCBwcm9ncmVzc0xpc3RlbmVyKSB7XG4gICAgICAgICAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0xpc3RlbmVyKHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB2b2lkIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIE5vZGUtc3R5bGUgY2FsbGJhY2sgdGhhdCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBkZWZlcnJlZFxuICogcHJvbWlzZS5cbiAqIEByZXR1cm5zIGEgbm9kZWJhY2tcbiAqL1xuZGVmZXIucHJvdG90eXBlLm1ha2VOb2RlUmVzb2x2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHZhbHVlKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgc2VsZi5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUoYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHJlc29sdmVyIHtGdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgbm90aGluZyBhbmQgYWNjZXB0c1xuICogdGhlIHJlc29sdmUsIHJlamVjdCwgYW5kIG5vdGlmeSBmdW5jdGlvbnMgZm9yIGEgZGVmZXJyZWQuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCBtYXkgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgZ2l2ZW4gcmVzb2x2ZSBhbmQgcmVqZWN0XG4gKiBmdW5jdGlvbnMsIG9yIHJlamVjdGVkIGJ5IGEgdGhyb3duIGV4Y2VwdGlvbiBpbiByZXNvbHZlclxuICovXG5RLlByb21pc2UgPSBwcm9taXNlOyAvLyBFUzZcblEucHJvbWlzZSA9IHByb21pc2U7XG5mdW5jdGlvbiBwcm9taXNlKHJlc29sdmVyKSB7XG4gICAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO1xuICAgIH1cbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHRyeSB7XG4gICAgICAgIHJlc29sdmVyKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCwgZGVmZXJyZWQubm90aWZ5KTtcbiAgICB9IGNhdGNoIChyZWFzb24pIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgfVxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufVxuXG5wcm9taXNlLnJhY2UgPSByYWNlOyAvLyBFUzZcbnByb21pc2UuYWxsID0gYWxsOyAvLyBFUzZcbnByb21pc2UucmVqZWN0ID0gcmVqZWN0OyAvLyBFUzZcbnByb21pc2UucmVzb2x2ZSA9IFE7IC8vIEVTNlxuXG4vLyBYWFggZXhwZXJpbWVudGFsLiAgVGhpcyBtZXRob2QgaXMgYSB3YXkgdG8gZGVub3RlIHRoYXQgYSBsb2NhbCB2YWx1ZSBpc1xuLy8gc2VyaWFsaXphYmxlIGFuZCBzaG91bGQgYmUgaW1tZWRpYXRlbHkgZGlzcGF0Y2hlZCB0byBhIHJlbW90ZSB1cG9uIHJlcXVlc3QsXG4vLyBpbnN0ZWFkIG9mIHBhc3NpbmcgYSByZWZlcmVuY2UuXG5RLnBhc3NCeUNvcHkgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgLy9mcmVlemUob2JqZWN0KTtcbiAgICAvL3Bhc3NCeUNvcGllcy5zZXQob2JqZWN0LCB0cnVlKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUucGFzc0J5Q29weSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL2ZyZWV6ZShvYmplY3QpO1xuICAgIC8vcGFzc0J5Q29waWVzLnNldChvYmplY3QsIHRydWUpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBJZiB0d28gcHJvbWlzZXMgZXZlbnR1YWxseSBmdWxmaWxsIHRvIHRoZSBzYW1lIHZhbHVlLCBwcm9taXNlcyB0aGF0IHZhbHVlLFxuICogYnV0IG90aGVyd2lzZSByZWplY3RzLlxuICogQHBhcmFtIHgge0FueSp9XG4gKiBAcGFyYW0geSB7QW55Kn1cbiAqIEByZXR1cm5zIHtBbnkqfSBhIHByb21pc2UgZm9yIHggYW5kIHkgaWYgdGhleSBhcmUgdGhlIHNhbWUsIGJ1dCBhIHJlamVjdGlvblxuICogb3RoZXJ3aXNlLlxuICpcbiAqL1xuUS5qb2luID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICByZXR1cm4gUSh4KS5qb2luKHkpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuam9pbiA9IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgcmV0dXJuIFEoW3RoaXMsIHRoYXRdKS5zcHJlYWQoZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IFwiPT09XCIgc2hvdWxkIGJlIE9iamVjdC5pcyBvciBlcXVpdlxuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBqb2luOiBub3QgdGhlIHNhbWU6IFwiICsgeCArIFwiIFwiICsgeSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBmaXJzdCBvZiBhbiBhcnJheSBvZiBwcm9taXNlcyB0byBiZWNvbWUgc2V0dGxlZC5cbiAqIEBwYXJhbSBhbnN3ZXJzIHtBcnJheVtBbnkqXX0gcHJvbWlzZXMgdG8gcmFjZVxuICogQHJldHVybnMge0FueSp9IHRoZSBmaXJzdCBwcm9taXNlIHRvIGJlIHNldHRsZWRcbiAqL1xuUS5yYWNlID0gcmFjZTtcbmZ1bmN0aW9uIHJhY2UoYW5zd2VyUHMpIHtcbiAgICByZXR1cm4gcHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIFN3aXRjaCB0byB0aGlzIG9uY2Ugd2UgY2FuIGFzc3VtZSBhdCBsZWFzdCBFUzVcbiAgICAgICAgLy8gYW5zd2VyUHMuZm9yRWFjaChmdW5jdGlvbiAoYW5zd2VyUCkge1xuICAgICAgICAvLyAgICAgUShhbnN3ZXJQKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICAvLyBVc2UgdGhpcyBpbiB0aGUgbWVhbnRpbWVcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFuc3dlclBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBRKGFuc3dlclBzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUucmFjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKFEucmFjZSk7XG59O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBQcm9taXNlIHdpdGggYSBwcm9taXNlIGRlc2NyaXB0b3Igb2JqZWN0IGFuZCBvcHRpb25hbCBmYWxsYmFja1xuICogZnVuY3Rpb24uICBUaGUgZGVzY3JpcHRvciBjb250YWlucyBtZXRob2RzIGxpa2Ugd2hlbihyZWplY3RlZCksIGdldChuYW1lKSxcbiAqIHNldChuYW1lLCB2YWx1ZSksIHBvc3QobmFtZSwgYXJncyksIGFuZCBkZWxldGUobmFtZSksIHdoaWNoIGFsbFxuICogcmV0dXJuIGVpdGhlciBhIHZhbHVlLCBhIHByb21pc2UgZm9yIGEgdmFsdWUsIG9yIGEgcmVqZWN0aW9uLiAgVGhlIGZhbGxiYWNrXG4gKiBhY2NlcHRzIHRoZSBvcGVyYXRpb24gbmFtZSwgYSByZXNvbHZlciwgYW5kIGFueSBmdXJ0aGVyIGFyZ3VtZW50cyB0aGF0IHdvdWxkXG4gKiBoYXZlIGJlZW4gZm9yd2FyZGVkIHRvIHRoZSBhcHByb3ByaWF0ZSBtZXRob2QgYWJvdmUgaGFkIGEgbWV0aG9kIGJlZW5cbiAqIHByb3ZpZGVkIHdpdGggdGhlIHByb3BlciBuYW1lLiAgVGhlIEFQSSBtYWtlcyBubyBndWFyYW50ZWVzIGFib3V0IHRoZSBuYXR1cmVcbiAqIG9mIHRoZSByZXR1cm5lZCBvYmplY3QsIGFwYXJ0IGZyb20gdGhhdCBpdCBpcyB1c2FibGUgd2hlcmVldmVyIHByb21pc2VzIGFyZVxuICogYm91Z2h0IGFuZCBzb2xkLlxuICovXG5RLm1ha2VQcm9taXNlID0gUHJvbWlzZTtcbmZ1bmN0aW9uIFByb21pc2UoZGVzY3JpcHRvciwgZmFsbGJhY2ssIGluc3BlY3QpIHtcbiAgICBpZiAoZmFsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgICAgICBmYWxsYmFjayA9IGZ1bmN0aW9uIChvcCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJQcm9taXNlIGRvZXMgbm90IHN1cHBvcnQgb3BlcmF0aW9uOiBcIiArIG9wXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGluc3BlY3QgPT09IHZvaWQgMCkge1xuICAgICAgICBpbnNwZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0ZTogXCJ1bmtub3duXCJ9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gb2JqZWN0X2NyZWF0ZShQcm9taXNlLnByb3RvdHlwZSk7XG5cbiAgICBwcm9taXNlLnByb21pc2VEaXNwYXRjaCA9IGZ1bmN0aW9uIChyZXNvbHZlLCBvcCwgYXJncykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3Jbb3BdKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVzY3JpcHRvcltvcF0uYXBwbHkocHJvbWlzZSwgYXJncyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrLmNhbGwocHJvbWlzZSwgb3AsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlamVjdChleGNlcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNvbHZlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvbWlzZS5pbnNwZWN0ID0gaW5zcGVjdDtcblxuICAgIC8vIFhYWCBkZXByZWNhdGVkIGB2YWx1ZU9mYCBhbmQgYGV4Y2VwdGlvbmAgc3VwcG9ydFxuICAgIGlmIChpbnNwZWN0KSB7XG4gICAgICAgIHZhciBpbnNwZWN0ZWQgPSBpbnNwZWN0KCk7XG4gICAgICAgIGlmIChpbnNwZWN0ZWQuc3RhdGUgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgICAgcHJvbWlzZS5leGNlcHRpb24gPSBpbnNwZWN0ZWQucmVhc29uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvbWlzZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluc3BlY3RlZCA9IGluc3BlY3QoKTtcbiAgICAgICAgICAgIGlmIChpbnNwZWN0ZWQuc3RhdGUgPT09IFwicGVuZGluZ1wiIHx8XG4gICAgICAgICAgICAgICAgaW5zcGVjdGVkLnN0YXRlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnNwZWN0ZWQudmFsdWU7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cblByb21pc2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgUHJvbWlzZV1cIjtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAoZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3NlZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHZhciBkb25lID0gZmFsc2U7ICAgLy8gZW5zdXJlIHRoZSB1bnRydXN0ZWQgcHJvbWlzZSBtYWtlcyBhdCBtb3N0IGFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBjYWxsIHRvIG9uZSBvZiB0aGUgY2FsbGJhY2tzXG5cbiAgICBmdW5jdGlvbiBfZnVsZmlsbGVkKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGZ1bGZpbGxlZCA9PT0gXCJmdW5jdGlvblwiID8gZnVsZmlsbGVkKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXhjZXB0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9yZWplY3RlZChleGNlcHRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZWplY3RlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBtYWtlU3RhY2tUcmFjZUxvbmcoZXhjZXB0aW9uLCBzZWxmKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGVkKGV4Y2VwdGlvbik7XG4gICAgICAgICAgICB9IGNhdGNoIChuZXdFeGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ld0V4Y2VwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlamVjdChleGNlcHRpb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9wcm9ncmVzc2VkKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvZ3Jlc3NlZCA9PT0gXCJmdW5jdGlvblwiID8gcHJvZ3Jlc3NlZCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5wcm9taXNlRGlzcGF0Y2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9mdWxmaWxsZWQodmFsdWUpKTtcbiAgICAgICAgfSwgXCJ3aGVuXCIsIFtmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9yZWplY3RlZChleGNlcHRpb24pKTtcbiAgICAgICAgfV0pO1xuICAgIH0pO1xuXG4gICAgLy8gUHJvZ3Jlc3MgcHJvcGFnYXRvciBuZWVkIHRvIGJlIGF0dGFjaGVkIGluIHRoZSBjdXJyZW50IHRpY2suXG4gICAgc2VsZi5wcm9taXNlRGlzcGF0Y2godm9pZCAwLCBcIndoZW5cIiwgW3ZvaWQgMCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZTtcbiAgICAgICAgdmFyIHRocmV3ID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IF9wcm9ncmVzc2VkKHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyZXcgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKFEub25lcnJvcikge1xuICAgICAgICAgICAgICAgIFEub25lcnJvcihlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhyZXcpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeShuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cblEudGFwID0gZnVuY3Rpb24gKHByb21pc2UsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZSkudGFwKGNhbGxiYWNrKTtcbn07XG5cbi8qKlxuICogV29ya3MgYWxtb3N0IGxpa2UgXCJmaW5hbGx5XCIsIGJ1dCBub3QgY2FsbGVkIGZvciByZWplY3Rpb25zLlxuICogT3JpZ2luYWwgcmVzb2x1dGlvbiB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCBjYWxsYmFjayB1bmFmZmVjdGVkLlxuICogQ2FsbGJhY2sgbWF5IHJldHVybiBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGF3YWl0ZWQgZm9yLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtRLlByb21pc2V9XG4gKiBAZXhhbXBsZVxuICogZG9Tb21ldGhpbmcoKVxuICogICAudGhlbiguLi4pXG4gKiAgIC50YXAoY29uc29sZS5sb2cpXG4gKiAgIC50aGVuKC4uLik7XG4gKi9cblByb21pc2UucHJvdG90eXBlLnRhcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrID0gUShjYWxsYmFjayk7XG5cbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suZmNhbGwodmFsdWUpLnRoZW5SZXNvbHZlKHZhbHVlKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXJzIGFuIG9ic2VydmVyIG9uIGEgcHJvbWlzZS5cbiAqXG4gKiBHdWFyYW50ZWVzOlxuICpcbiAqIDEuIHRoYXQgZnVsZmlsbGVkIGFuZCByZWplY3RlZCB3aWxsIGJlIGNhbGxlZCBvbmx5IG9uY2UuXG4gKiAyLiB0aGF0IGVpdGhlciB0aGUgZnVsZmlsbGVkIGNhbGxiYWNrIG9yIHRoZSByZWplY3RlZCBjYWxsYmFjayB3aWxsIGJlXG4gKiAgICBjYWxsZWQsIGJ1dCBub3QgYm90aC5cbiAqIDMuIHRoYXQgZnVsZmlsbGVkIGFuZCByZWplY3RlZCB3aWxsIG5vdCBiZSBjYWxsZWQgaW4gdGhpcyB0dXJuLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAgICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSB0byBvYnNlcnZlXG4gKiBAcGFyYW0gZnVsZmlsbGVkICBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2l0aCB0aGUgZnVsZmlsbGVkIHZhbHVlXG4gKiBAcGFyYW0gcmVqZWN0ZWQgICBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2l0aCB0aGUgcmVqZWN0aW9uIGV4Y2VwdGlvblxuICogQHBhcmFtIHByb2dyZXNzZWQgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGFueSBwcm9ncmVzcyBub3RpZmljYXRpb25zXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgaW52b2tlZCBjYWxsYmFja1xuICovXG5RLndoZW4gPSB3aGVuO1xuZnVuY3Rpb24gd2hlbih2YWx1ZSwgZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3NlZCkge1xuICAgIHJldHVybiBRKHZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzZWQpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuUmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0pO1xufTtcblxuUS50aGVuUmVzb2x2ZSA9IGZ1bmN0aW9uIChwcm9taXNlLCB2YWx1ZSkge1xuICAgIHJldHVybiBRKHByb21pc2UpLnRoZW5SZXNvbHZlKHZhbHVlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW5SZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAoKSB7IHRocm93IHJlYXNvbjsgfSk7XG59O1xuXG5RLnRoZW5SZWplY3QgPSBmdW5jdGlvbiAocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZSkudGhlblJlamVjdChyZWFzb24pO1xufTtcblxuLyoqXG4gKiBJZiBhbiBvYmplY3QgaXMgbm90IGEgcHJvbWlzZSwgaXQgaXMgYXMgXCJuZWFyXCIgYXMgcG9zc2libGUuXG4gKiBJZiBhIHByb21pc2UgaXMgcmVqZWN0ZWQsIGl0IGlzIGFzIFwibmVhclwiIGFzIHBvc3NpYmxlIHRvby5cbiAqIElmIGl04oCZcyBhIGZ1bGZpbGxlZCBwcm9taXNlLCB0aGUgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmVhcmVyLlxuICogSWYgaXTigJlzIGEgZGVmZXJyZWQgcHJvbWlzZSBhbmQgdGhlIGRlZmVycmVkIGhhcyBiZWVuIHJlc29sdmVkLCB0aGVcbiAqIHJlc29sdXRpb24gaXMgXCJuZWFyZXJcIi5cbiAqIEBwYXJhbSBvYmplY3RcbiAqIEByZXR1cm5zIG1vc3QgcmVzb2x2ZWQgKG5lYXJlc3QpIGZvcm0gb2YgdGhlIG9iamVjdFxuICovXG5cbi8vIFhYWCBzaG91bGQgd2UgcmUtZG8gdGhpcz9cblEubmVhcmVyID0gbmVhcmVyO1xuZnVuY3Rpb24gbmVhcmVyKHZhbHVlKSB7XG4gICAgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGluc3BlY3RlZCA9IHZhbHVlLmluc3BlY3QoKTtcbiAgICAgICAgaWYgKGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGluc3BlY3RlZC52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgcHJvbWlzZS5cbiAqIE90aGVyd2lzZSBpdCBpcyBhIGZ1bGZpbGxlZCB2YWx1ZS5cbiAqL1xuUS5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIFByb21pc2U7XG59XG5cblEuaXNQcm9taXNlQWxpa2UgPSBpc1Byb21pc2VBbGlrZTtcbmZ1bmN0aW9uIGlzUHJvbWlzZUFsaWtlKG9iamVjdCkge1xuICAgIHJldHVybiBpc09iamVjdChvYmplY3QpICYmIHR5cGVvZiBvYmplY3QudGhlbiA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIGdpdmVuIG9iamVjdCBpcyBhIHBlbmRpbmcgcHJvbWlzZSwgbWVhbmluZyBub3RcbiAqIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cbiAqL1xuUS5pc1BlbmRpbmcgPSBpc1BlbmRpbmc7XG5mdW5jdGlvbiBpc1BlbmRpbmcob2JqZWN0KSB7XG4gICAgcmV0dXJuIGlzUHJvbWlzZShvYmplY3QpICYmIG9iamVjdC5pbnNwZWN0KCkuc3RhdGUgPT09IFwicGVuZGluZ1wiO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1BlbmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zcGVjdCgpLnN0YXRlID09PSBcInBlbmRpbmdcIjtcbn07XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgdmFsdWUgb3IgZnVsZmlsbGVkXG4gKiBwcm9taXNlLlxuICovXG5RLmlzRnVsZmlsbGVkID0gaXNGdWxmaWxsZWQ7XG5mdW5jdGlvbiBpc0Z1bGZpbGxlZChvYmplY3QpIHtcbiAgICByZXR1cm4gIWlzUHJvbWlzZShvYmplY3QpIHx8IG9iamVjdC5pbnNwZWN0KCkuc3RhdGUgPT09IFwiZnVsZmlsbGVkXCI7XG59XG5cblByb21pc2UucHJvdG90eXBlLmlzRnVsZmlsbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIjtcbn07XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgcmVqZWN0ZWQgcHJvbWlzZS5cbiAqL1xuUS5pc1JlamVjdGVkID0gaXNSZWplY3RlZDtcbmZ1bmN0aW9uIGlzUmVqZWN0ZWQob2JqZWN0KSB7XG4gICAgcmV0dXJuIGlzUHJvbWlzZShvYmplY3QpICYmIG9iamVjdC5pbnNwZWN0KCkuc3RhdGUgPT09IFwicmVqZWN0ZWRcIjtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuaXNSZWplY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNwZWN0KCkuc3RhdGUgPT09IFwicmVqZWN0ZWRcIjtcbn07XG5cbi8vLy8gQkVHSU4gVU5IQU5ETEVEIFJFSkVDVElPTiBUUkFDS0lOR1xuXG4vLyBUaGlzIHByb21pc2UgbGlicmFyeSBjb25zdW1lcyBleGNlcHRpb25zIHRocm93biBpbiBoYW5kbGVycyBzbyB0aGV5IGNhbiBiZVxuLy8gaGFuZGxlZCBieSBhIHN1YnNlcXVlbnQgcHJvbWlzZS4gIFRoZSBleGNlcHRpb25zIGdldCBhZGRlZCB0byB0aGlzIGFycmF5IHdoZW5cbi8vIHRoZXkgYXJlIGNyZWF0ZWQsIGFuZCByZW1vdmVkIHdoZW4gdGhleSBhcmUgaGFuZGxlZC4gIE5vdGUgdGhhdCBpbiBFUzYgb3Jcbi8vIHNoaW1tZWQgZW52aXJvbm1lbnRzLCB0aGlzIHdvdWxkIG5hdHVyYWxseSBiZSBhIGBTZXRgLlxudmFyIHVuaGFuZGxlZFJlYXNvbnMgPSBbXTtcbnZhciB1bmhhbmRsZWRSZWplY3Rpb25zID0gW107XG52YXIgcmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zID0gW107XG52YXIgdHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zID0gdHJ1ZTtcblxuZnVuY3Rpb24gcmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zKCkge1xuICAgIHVuaGFuZGxlZFJlYXNvbnMubGVuZ3RoID0gMDtcbiAgICB1bmhhbmRsZWRSZWplY3Rpb25zLmxlbmd0aCA9IDA7XG5cbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xuICAgICAgICB0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdHJhY2tSZWplY3Rpb24ocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgaWYgKCF0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHByb2Nlc3MuZW1pdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIFEubmV4dFRpY2sucnVuQWZ0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFycmF5X2luZGV4T2YodW5oYW5kbGVkUmVqZWN0aW9ucywgcHJvbWlzZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsIHJlYXNvbiwgcHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgcmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zLnB1c2gocHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMucHVzaChwcm9taXNlKTtcbiAgICBpZiAocmVhc29uICYmIHR5cGVvZiByZWFzb24uc3RhY2sgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdW5oYW5kbGVkUmVhc29ucy5wdXNoKHJlYXNvbi5zdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdW5oYW5kbGVkUmVhc29ucy5wdXNoKFwiKG5vIHN0YWNrKSBcIiArIHJlYXNvbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1bnRyYWNrUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGF0ID0gYXJyYXlfaW5kZXhPZih1bmhhbmRsZWRSZWplY3Rpb25zLCBwcm9taXNlKTtcbiAgICBpZiAoYXQgIT09IC0xKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcHJvY2Vzcy5lbWl0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2sucnVuQWZ0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhdFJlcG9ydCA9IGFycmF5X2luZGV4T2YocmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYXRSZXBvcnQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW1pdChcInJlamVjdGlvbkhhbmRsZWRcIiwgdW5oYW5kbGVkUmVhc29uc1thdF0sIHByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMuc3BsaWNlKGF0UmVwb3J0LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB1bmhhbmRsZWRSZWplY3Rpb25zLnNwbGljZShhdCwgMSk7XG4gICAgICAgIHVuaGFuZGxlZFJlYXNvbnMuc3BsaWNlKGF0LCAxKTtcbiAgICB9XG59XG5cblEucmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zID0gcmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zO1xuXG5RLmdldFVuaGFuZGxlZFJlYXNvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gTWFrZSBhIGNvcHkgc28gdGhhdCBjb25zdW1lcnMgY2FuJ3QgaW50ZXJmZXJlIHdpdGggb3VyIGludGVybmFsIHN0YXRlLlxuICAgIHJldHVybiB1bmhhbmRsZWRSZWFzb25zLnNsaWNlKCk7XG59O1xuXG5RLnN0b3BVbmhhbmRsZWRSZWplY3Rpb25UcmFja2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXNldFVuaGFuZGxlZFJlamVjdGlvbnMoKTtcbiAgICB0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMgPSBmYWxzZTtcbn07XG5cbnJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuXG4vLy8vIEVORCBVTkhBTkRMRUQgUkVKRUNUSU9OIFRSQUNLSU5HXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHJlamVjdGVkIHByb21pc2UuXG4gKiBAcGFyYW0gcmVhc29uIHZhbHVlIGRlc2NyaWJpbmcgdGhlIGZhaWx1cmVcbiAqL1xuUS5yZWplY3QgPSByZWplY3Q7XG5mdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gICAgdmFyIHJlamVjdGlvbiA9IFByb21pc2Uoe1xuICAgICAgICBcIndoZW5cIjogZnVuY3Rpb24gKHJlamVjdGVkKSB7XG4gICAgICAgICAgICAvLyBub3RlIHRoYXQgdGhlIGVycm9yIGhhcyBiZWVuIGhhbmRsZWRcbiAgICAgICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgICAgICAgIHVudHJhY2tSZWplY3Rpb24odGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0ZWQgPyByZWplY3RlZChyZWFzb24pIDogdGhpcztcbiAgICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIGZhbGxiYWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICAgICAgICByZXR1cm4geyBzdGF0ZTogXCJyZWplY3RlZFwiLCByZWFzb246IHJlYXNvbiB9O1xuICAgIH0pO1xuXG4gICAgLy8gTm90ZSB0aGF0IHRoZSByZWFzb24gaGFzIG5vdCBiZWVuIGhhbmRsZWQuXG4gICAgdHJhY2tSZWplY3Rpb24ocmVqZWN0aW9uLCByZWFzb24pO1xuXG4gICAgcmV0dXJuIHJlamVjdGlvbjtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgZnVsZmlsbGVkIHByb21pc2UgZm9yIGFuIGltbWVkaWF0ZSByZWZlcmVuY2UuXG4gKiBAcGFyYW0gdmFsdWUgaW1tZWRpYXRlIHJlZmVyZW5jZVxuICovXG5RLmZ1bGZpbGwgPSBmdWxmaWxsO1xuZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkge1xuICAgIHJldHVybiBQcm9taXNlKHtcbiAgICAgICAgXCJ3aGVuXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVtuYW1lXTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24gKG5hbWUsIHJocykge1xuICAgICAgICAgICAgdmFsdWVbbmFtZV0gPSByaHM7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVsZXRlXCI6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICBkZWxldGUgdmFsdWVbbmFtZV07XG4gICAgICAgIH0sXG4gICAgICAgIFwicG9zdFwiOiBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgICAgICAgICAgLy8gTWFyayBNaWxsZXIgcHJvcG9zZXMgdGhhdCBwb3N0IHdpdGggbm8gbmFtZSBzaG91bGQgYXBwbHkgYVxuICAgICAgICAgICAgLy8gcHJvbWlzZWQgZnVuY3Rpb24uXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gbnVsbCB8fCBuYW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW25hbWVdLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJhcHBseVwiOiBmdW5jdGlvbiAodGhpc3AsIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5hcHBseSh0aGlzcCwgYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIFwia2V5c1wiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0X2tleXModmFsdWUpO1xuICAgICAgICB9XG4gICAgfSwgdm9pZCAwLCBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICAgICAgICByZXR1cm4geyBzdGF0ZTogXCJmdWxmaWxsZWRcIiwgdmFsdWU6IHZhbHVlIH07XG4gICAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlbmFibGVzIHRvIFEgcHJvbWlzZXMuXG4gKiBAcGFyYW0gcHJvbWlzZSB0aGVuYWJsZSBwcm9taXNlXG4gKiBAcmV0dXJucyBhIFEgcHJvbWlzZVxuICovXG5mdW5jdGlvbiBjb2VyY2UocHJvbWlzZSkge1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0LCBkZWZlcnJlZC5ub3RpZnkpO1xuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChleGNlcHRpb24pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59XG5cbi8qKlxuICogQW5ub3RhdGVzIGFuIG9iamVjdCBzdWNoIHRoYXQgaXQgd2lsbCBuZXZlciBiZVxuICogdHJhbnNmZXJyZWQgYXdheSBmcm9tIHRoaXMgcHJvY2VzcyBvdmVyIGFueSBwcm9taXNlXG4gKiBjb21tdW5pY2F0aW9uIGNoYW5uZWwuXG4gKiBAcGFyYW0gb2JqZWN0XG4gKiBAcmV0dXJucyBwcm9taXNlIGEgd3JhcHBpbmcgb2YgdGhhdCBvYmplY3QgdGhhdFxuICogYWRkaXRpb25hbGx5IHJlc3BvbmRzIHRvIHRoZSBcImlzRGVmXCIgbWVzc2FnZVxuICogd2l0aG91dCBhIHJlamVjdGlvbi5cbiAqL1xuUS5tYXN0ZXIgPSBtYXN0ZXI7XG5mdW5jdGlvbiBtYXN0ZXIob2JqZWN0KSB7XG4gICAgcmV0dXJuIFByb21pc2Uoe1xuICAgICAgICBcImlzRGVmXCI6IGZ1bmN0aW9uICgpIHt9XG4gICAgfSwgZnVuY3Rpb24gZmFsbGJhY2sob3AsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKG9iamVjdCwgb3AsIGFyZ3MpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFEob2JqZWN0KS5pbnNwZWN0KCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogU3ByZWFkcyB0aGUgdmFsdWVzIG9mIGEgcHJvbWlzZWQgYXJyYXkgb2YgYXJndW1lbnRzIGludG8gdGhlXG4gKiBmdWxmaWxsbWVudCBjYWxsYmFjay5cbiAqIEBwYXJhbSBmdWxmaWxsZWQgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyB2YXJpYWRpYyBhcmd1bWVudHMgZnJvbSB0aGVcbiAqIHByb21pc2VkIGFycmF5XG4gKiBAcGFyYW0gcmVqZWN0ZWQgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyB0aGUgZXhjZXB0aW9uIGlmIHRoZSBwcm9taXNlXG4gKiBpcyByZWplY3RlZC5cbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZSBvciB0aHJvd24gZXhjZXB0aW9uIG9mXG4gKiBlaXRoZXIgY2FsbGJhY2suXG4gKi9cblEuc3ByZWFkID0gc3ByZWFkO1xuZnVuY3Rpb24gc3ByZWFkKHZhbHVlLCBmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gICAgcmV0dXJuIFEodmFsdWUpLnNwcmVhZChmdWxmaWxsZWQsIHJlamVjdGVkKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuc3ByZWFkID0gZnVuY3Rpb24gKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy5hbGwoKS50aGVuKGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICByZXR1cm4gZnVsZmlsbGVkLmFwcGx5KHZvaWQgMCwgYXJyYXkpO1xuICAgIH0sIHJlamVjdGVkKTtcbn07XG5cbi8qKlxuICogVGhlIGFzeW5jIGZ1bmN0aW9uIGlzIGEgZGVjb3JhdG9yIGZvciBnZW5lcmF0b3IgZnVuY3Rpb25zLCB0dXJuaW5nXG4gKiB0aGVtIGludG8gYXN5bmNocm9ub3VzIGdlbmVyYXRvcnMuICBBbHRob3VnaCBnZW5lcmF0b3JzIGFyZSBvbmx5IHBhcnRcbiAqIG9mIHRoZSBuZXdlc3QgRUNNQVNjcmlwdCA2IGRyYWZ0cywgdGhpcyBjb2RlIGRvZXMgbm90IGNhdXNlIHN5bnRheFxuICogZXJyb3JzIGluIG9sZGVyIGVuZ2luZXMuICBUaGlzIGNvZGUgc2hvdWxkIGNvbnRpbnVlIHRvIHdvcmsgYW5kIHdpbGxcbiAqIGluIGZhY3QgaW1wcm92ZSBvdmVyIHRpbWUgYXMgdGhlIGxhbmd1YWdlIGltcHJvdmVzLlxuICpcbiAqIEVTNiBnZW5lcmF0b3JzIGFyZSBjdXJyZW50bHkgcGFydCBvZiBWOCB2ZXJzaW9uIDMuMTkgd2l0aCB0aGVcbiAqIC0taGFybW9ueS1nZW5lcmF0b3JzIHJ1bnRpbWUgZmxhZyBlbmFibGVkLiAgU3BpZGVyTW9ua2V5IGhhcyBoYWQgdGhlbVxuICogZm9yIGxvbmdlciwgYnV0IHVuZGVyIGFuIG9sZGVyIFB5dGhvbi1pbnNwaXJlZCBmb3JtLiAgVGhpcyBmdW5jdGlvblxuICogd29ya3Mgb24gYm90aCBraW5kcyBvZiBnZW5lcmF0b3JzLlxuICpcbiAqIERlY29yYXRlcyBhIGdlbmVyYXRvciBmdW5jdGlvbiBzdWNoIHRoYXQ6XG4gKiAgLSBpdCBtYXkgeWllbGQgcHJvbWlzZXNcbiAqICAtIGV4ZWN1dGlvbiB3aWxsIGNvbnRpbnVlIHdoZW4gdGhhdCBwcm9taXNlIGlzIGZ1bGZpbGxlZFxuICogIC0gdGhlIHZhbHVlIG9mIHRoZSB5aWVsZCBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGZ1bGZpbGxlZCB2YWx1ZVxuICogIC0gaXQgcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgKHdoZW4gdGhlIGdlbmVyYXRvclxuICogICAgc3RvcHMgaXRlcmF0aW5nKVxuICogIC0gdGhlIGRlY29yYXRlZCBmdW5jdGlvbiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICogICAgb2YgdGhlIGdlbmVyYXRvciBvciB0aGUgZmlyc3QgcmVqZWN0ZWQgcHJvbWlzZSBhbW9uZyB0aG9zZVxuICogICAgeWllbGRlZC5cbiAqICAtIGlmIGFuIGVycm9yIGlzIHRocm93biBpbiB0aGUgZ2VuZXJhdG9yLCBpdCBwcm9wYWdhdGVzIHRocm91Z2hcbiAqICAgIGV2ZXJ5IGZvbGxvd2luZyB5aWVsZCB1bnRpbCBpdCBpcyBjYXVnaHQsIG9yIHVudGlsIGl0IGVzY2FwZXNcbiAqICAgIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gYWx0b2dldGhlciwgYW5kIGlzIHRyYW5zbGF0ZWQgaW50byBhXG4gKiAgICByZWplY3Rpb24gZm9yIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBkZWNvcmF0ZWQgZ2VuZXJhdG9yLlxuICovXG5RLmFzeW5jID0gYXN5bmM7XG5mdW5jdGlvbiBhc3luYyhtYWtlR2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gd2hlbiB2ZXJiIGlzIFwic2VuZFwiLCBhcmcgaXMgYSB2YWx1ZVxuICAgICAgICAvLyB3aGVuIHZlcmIgaXMgXCJ0aHJvd1wiLCBhcmcgaXMgYW4gZXhjZXB0aW9uXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRpbnVlcih2ZXJiLCBhcmcpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgICAgICAgIC8vIFVudGlsIFY4IDMuMTkgLyBDaHJvbWl1bSAyOSBpcyByZWxlYXNlZCwgU3BpZGVyTW9ua2V5IGlzIHRoZSBvbmx5XG4gICAgICAgICAgICAvLyBlbmdpbmUgdGhhdCBoYXMgYSBkZXBsb3llZCBiYXNlIG9mIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBnZW5lcmF0b3JzLlxuICAgICAgICAgICAgLy8gSG93ZXZlciwgU00ncyBnZW5lcmF0b3JzIHVzZSB0aGUgUHl0aG9uLWluc3BpcmVkIHNlbWFudGljcyBvZlxuICAgICAgICAgICAgLy8gb3V0ZGF0ZWQgRVM2IGRyYWZ0cy4gIFdlIHdvdWxkIGxpa2UgdG8gc3VwcG9ydCBFUzYsIGJ1dCB3ZSdkIGFsc29cbiAgICAgICAgICAgIC8vIGxpa2UgdG8gbWFrZSBpdCBwb3NzaWJsZSB0byB1c2UgZ2VuZXJhdG9ycyBpbiBkZXBsb3llZCBicm93c2Vycywgc29cbiAgICAgICAgICAgIC8vIHdlIGFsc28gc3VwcG9ydCBQeXRob24tc3R5bGUgZ2VuZXJhdG9ycy4gIEF0IHNvbWUgcG9pbnQgd2UgY2FuIHJlbW92ZVxuICAgICAgICAgICAgLy8gdGhpcyBibG9jay5cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTdG9wSXRlcmF0aW9uID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gRVM2IEdlbmVyYXRvcnNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBnZW5lcmF0b3JbdmVyYl0oYXJnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChleGNlcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFEocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2hlbihyZXN1bHQudmFsdWUsIGNhbGxiYWNrLCBlcnJiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNwaWRlck1vbmtleSBHZW5lcmF0b3JzXG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IFJlbW92ZSB0aGlzIGNhc2Ugd2hlbiBTTSBkb2VzIEVTNiBnZW5lcmF0b3JzLlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdlbmVyYXRvclt2ZXJiXShhcmcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdG9wSXRlcmF0aW9uKGV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBRKGV4Y2VwdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdoZW4ocmVzdWx0LCBjYWxsYmFjaywgZXJyYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdlbmVyYXRvciA9IG1ha2VHZW5lcmF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gY29udGludWVyLmJpbmQoY29udGludWVyLCBcIm5leHRcIik7XG4gICAgICAgIHZhciBlcnJiYWNrID0gY29udGludWVyLmJpbmQoY29udGludWVyLCBcInRocm93XCIpO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoZSBzcGF3biBmdW5jdGlvbiBpcyBhIHNtYWxsIHdyYXBwZXIgYXJvdW5kIGFzeW5jIHRoYXQgaW1tZWRpYXRlbHlcbiAqIGNhbGxzIHRoZSBnZW5lcmF0b3IgYW5kIGFsc28gZW5kcyB0aGUgcHJvbWlzZSBjaGFpbiwgc28gdGhhdCBhbnlcbiAqIHVuaGFuZGxlZCBlcnJvcnMgYXJlIHRocm93biBpbnN0ZWFkIG9mIGZvcndhcmRlZCB0byB0aGUgZXJyb3JcbiAqIGhhbmRsZXIuIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2UgaXQncyBleHRyZW1lbHkgY29tbW9uIHRvIHJ1blxuICogZ2VuZXJhdG9ycyBhdCB0aGUgdG9wLWxldmVsIHRvIHdvcmsgd2l0aCBsaWJyYXJpZXMuXG4gKi9cblEuc3Bhd24gPSBzcGF3bjtcbmZ1bmN0aW9uIHNwYXduKG1ha2VHZW5lcmF0b3IpIHtcbiAgICBRLmRvbmUoUS5hc3luYyhtYWtlR2VuZXJhdG9yKSgpKTtcbn1cblxuLy8gRklYTUU6IFJlbW92ZSB0aGlzIGludGVyZmFjZSBvbmNlIEVTNiBnZW5lcmF0b3JzIGFyZSBpbiBTcGlkZXJNb25rZXkuXG4vKipcbiAqIFRocm93cyBhIFJldHVyblZhbHVlIGV4Y2VwdGlvbiB0byBzdG9wIGFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3IuXG4gKlxuICogVGhpcyBpbnRlcmZhY2UgaXMgYSBzdG9wLWdhcCBtZWFzdXJlIHRvIHN1cHBvcnQgZ2VuZXJhdG9yIHJldHVyblxuICogdmFsdWVzIGluIG9sZGVyIEZpcmVmb3gvU3BpZGVyTW9ua2V5LiAgSW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IEVTNlxuICogZ2VuZXJhdG9ycyBsaWtlIENocm9taXVtIDI5LCBqdXN0IHVzZSBcInJldHVyblwiIGluIHlvdXIgZ2VuZXJhdG9yXG4gKiBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHZhbHVlIHRoZSByZXR1cm4gdmFsdWUgZm9yIHRoZSBzdXJyb3VuZGluZyBnZW5lcmF0b3JcbiAqIEB0aHJvd3MgUmV0dXJuVmFsdWUgZXhjZXB0aW9uIHdpdGggdGhlIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqIC8vIEVTNiBzdHlsZVxuICogUS5hc3luYyhmdW5jdGlvbiogKCkge1xuICogICAgICB2YXIgZm9vID0geWllbGQgZ2V0Rm9vUHJvbWlzZSgpO1xuICogICAgICB2YXIgYmFyID0geWllbGQgZ2V0QmFyUHJvbWlzZSgpO1xuICogICAgICByZXR1cm4gZm9vICsgYmFyO1xuICogfSlcbiAqIC8vIE9sZGVyIFNwaWRlck1vbmtleSBzdHlsZVxuICogUS5hc3luYyhmdW5jdGlvbiAoKSB7XG4gKiAgICAgIHZhciBmb28gPSB5aWVsZCBnZXRGb29Qcm9taXNlKCk7XG4gKiAgICAgIHZhciBiYXIgPSB5aWVsZCBnZXRCYXJQcm9taXNlKCk7XG4gKiAgICAgIFEucmV0dXJuKGZvbyArIGJhcik7XG4gKiB9KVxuICovXG5RW1wicmV0dXJuXCJdID0gX3JldHVybjtcbmZ1bmN0aW9uIF9yZXR1cm4odmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgUVJldHVyblZhbHVlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgcHJvbWlzZWQgZnVuY3Rpb24gZGVjb3JhdG9yIGVuc3VyZXMgdGhhdCBhbnkgcHJvbWlzZSBhcmd1bWVudHNcbiAqIGFyZSBzZXR0bGVkIGFuZCBwYXNzZWQgYXMgdmFsdWVzIChgdGhpc2AgaXMgYWxzbyBzZXR0bGVkIGFuZCBwYXNzZWRcbiAqIGFzIGEgdmFsdWUpLiAgSXQgd2lsbCBhbHNvIGVuc3VyZSB0aGF0IHRoZSByZXN1bHQgb2YgYSBmdW5jdGlvbiBpc1xuICogYWx3YXlzIGEgcHJvbWlzZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGFkZCA9IFEucHJvbWlzZWQoZnVuY3Rpb24gKGEsIGIpIHtcbiAqICAgICByZXR1cm4gYSArIGI7XG4gKiB9KTtcbiAqIGFkZChRKGEpLCBRKEIpKTtcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gZGVjb3JhdGVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0IGhhcyBiZWVuIGRlY29yYXRlZC5cbiAqL1xuUS5wcm9taXNlZCA9IHByb21pc2VkO1xuZnVuY3Rpb24gcHJvbWlzZWQoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3ByZWFkKFt0aGlzLCBhbGwoYXJndW1lbnRzKV0sIGZ1bmN0aW9uIChzZWxmLCBhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5cbi8qKlxuICogc2VuZHMgYSBtZXNzYWdlIHRvIGEgdmFsdWUgaW4gYSBmdXR1cmUgdHVyblxuICogQHBhcmFtIG9iamVjdCogdGhlIHJlY2lwaWVudFxuICogQHBhcmFtIG9wIHRoZSBuYW1lIG9mIHRoZSBtZXNzYWdlIG9wZXJhdGlvbiwgZS5nLiwgXCJ3aGVuXCIsXG4gKiBAcGFyYW0gYXJncyBmdXJ0aGVyIGFyZ3VtZW50cyB0byBiZSBmb3J3YXJkZWQgdG8gdGhlIG9wZXJhdGlvblxuICogQHJldHVybnMgcmVzdWx0IHtQcm9taXNlfSBhIHByb21pc2UgZm9yIHRoZSByZXN1bHQgb2YgdGhlIG9wZXJhdGlvblxuICovXG5RLmRpc3BhdGNoID0gZGlzcGF0Y2g7XG5mdW5jdGlvbiBkaXNwYXRjaChvYmplY3QsIG9wLCBhcmdzKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChvcCwgYXJncyk7XG59XG5cblByb21pc2UucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKG9wLCBhcmdzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYucHJvbWlzZURpc3BhdGNoKGRlZmVycmVkLnJlc29sdmUsIG9wLCBhcmdzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBwcm9wZXJ0eSB0byBnZXRcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHByb3BlcnR5IHZhbHVlXG4gKi9cblEuZ2V0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcImdldFwiLCBba2V5XSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJnZXRcIiwgW2tleV0pO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3Igb2JqZWN0IG9iamVjdFxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIHByb3BlcnR5IHRvIHNldFxuICogQHBhcmFtIHZhbHVlICAgICBuZXcgdmFsdWUgb2YgcHJvcGVydHlcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICovXG5RLnNldCA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwic2V0XCIsIFtrZXksIHZhbHVlXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwic2V0XCIsIFtrZXksIHZhbHVlXSk7XG59O1xuXG4vKipcbiAqIERlbGV0ZXMgYSBwcm9wZXJ0eSBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBwcm9wZXJ0eSB0byBkZWxldGVcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICovXG5RLmRlbCA9IC8vIFhYWCBsZWdhY3lcblFbXCJkZWxldGVcIl0gPSBmdW5jdGlvbiAob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwiZGVsZXRlXCIsIFtrZXldKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmRlbCA9IC8vIFhYWCBsZWdhY3lcblByb21pc2UucHJvdG90eXBlW1wiZGVsZXRlXCJdID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwiZGVsZXRlXCIsIFtrZXldKTtcbn07XG5cbi8qKlxuICogSW52b2tlcyBhIG1ldGhvZCBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBtZXRob2QgdG8gaW52b2tlXG4gKiBAcGFyYW0gdmFsdWUgICAgIGEgdmFsdWUgdG8gcG9zdCwgdHlwaWNhbGx5IGFuIGFycmF5IG9mXG4gKiAgICAgICAgICAgICAgICAgIGludm9jYXRpb24gYXJndW1lbnRzIGZvciBwcm9taXNlcyB0aGF0XG4gKiAgICAgICAgICAgICAgICAgIGFyZSB1bHRpbWF0ZWx5IGJhY2tlZCB3aXRoIGByZXNvbHZlYCB2YWx1ZXMsXG4gKiAgICAgICAgICAgICAgICAgIGFzIG9wcG9zZWQgdG8gdGhvc2UgYmFja2VkIHdpdGggVVJMc1xuICogICAgICAgICAgICAgICAgICB3aGVyZWluIHRoZSBwb3N0ZWQgdmFsdWUgY2FuIGJlIGFueVxuICogICAgICAgICAgICAgICAgICBKU09OIHNlcmlhbGl6YWJsZSBvYmplY3QuXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWVcbiAqL1xuLy8gYm91bmQgbG9jYWxseSBiZWNhdXNlIGl0IGlzIHVzZWQgYnkgb3RoZXIgbWV0aG9kc1xuUS5tYXBwbHkgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUS5wb3N0ID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSwgYXJncykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcmdzXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5tYXBwbHkgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUHJvbWlzZS5wcm90b3R5cGUucG9zdCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcmdzXSk7XG59O1xuXG4vKipcbiAqIEludm9rZXMgYSBtZXRob2QgaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgb2JqZWN0XG4gKiBAcGFyYW0gbmFtZSAgICAgIG5hbWUgb2YgbWV0aG9kIHRvIGludm9rZVxuICogQHBhcmFtIC4uLmFyZ3MgICBhcnJheSBvZiBpbnZvY2F0aW9uIGFyZ3VtZW50c1xuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXG4gKi9cblEuc2VuZCA9IC8vIFhYWCBNYXJrIE1pbGxlcidzIHByb3Bvc2VkIHBhcmxhbmNlXG5RLm1jYWxsID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblEuaW52b2tlID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSAvKi4uLmFyZ3MqLykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDIpXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5zZW5kID0gLy8gWFhYIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgcGFybGFuY2VcblByb21pc2UucHJvdG90eXBlLm1jYWxsID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblByb21pc2UucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uIChuYW1lIC8qLi4uYXJncyovKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpXSk7XG59O1xuXG4vKipcbiAqIEFwcGxpZXMgdGhlIHByb21pc2VkIGZ1bmN0aW9uIGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IGZ1bmN0aW9uXG4gKiBAcGFyYW0gYXJncyAgICAgIGFycmF5IG9mIGFwcGxpY2F0aW9uIGFyZ3VtZW50c1xuICovXG5RLmZhcHBseSA9IGZ1bmN0aW9uIChvYmplY3QsIGFyZ3MpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwiYXBwbHlcIiwgW3ZvaWQgMCwgYXJnc10pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmFwcGx5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcImFwcGx5XCIsIFt2b2lkIDAsIGFyZ3NdKTtcbn07XG5cbi8qKlxuICogQ2FsbHMgdGhlIHByb21pc2VkIGZ1bmN0aW9uIGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IGZ1bmN0aW9uXG4gKiBAcGFyYW0gLi4uYXJncyAgIGFycmF5IG9mIGFwcGxpY2F0aW9uIGFyZ3VtZW50c1xuICovXG5RW1widHJ5XCJdID1cblEuZmNhbGwgPSBmdW5jdGlvbiAob2JqZWN0IC8qIC4uLmFyZ3MqLykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5mY2FsbCA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwiYXBwbHlcIiwgW3ZvaWQgMCwgYXJyYXlfc2xpY2UoYXJndW1lbnRzKV0pO1xufTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgcHJvbWlzZWQgZnVuY3Rpb24sIHRyYW5zZm9ybWluZyByZXR1cm4gdmFsdWVzIGludG8gYSBmdWxmaWxsZWRcbiAqIHByb21pc2UgYW5kIHRocm93biBlcnJvcnMgaW50byBhIHJlamVjdGVkIG9uZS5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgZnVuY3Rpb25cbiAqIEBwYXJhbSAuLi5hcmdzICAgYXJyYXkgb2YgYXBwbGljYXRpb24gYXJndW1lbnRzXG4gKi9cblEuZmJpbmQgPSBmdW5jdGlvbiAob2JqZWN0IC8qLi4uYXJncyovKSB7XG4gICAgdmFyIHByb21pc2UgPSBRKG9iamVjdCk7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBmdW5jdGlvbiBmYm91bmQoKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLmRpc3BhdGNoKFwiYXBwbHlcIiwgW1xuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpXG4gICAgICAgIF0pO1xuICAgIH07XG59O1xuUHJvbWlzZS5wcm90b3R5cGUuZmJpbmQgPSBmdW5jdGlvbiAoLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgIHJldHVybiBmdW5jdGlvbiBmYm91bmQoKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLmRpc3BhdGNoKFwiYXBwbHlcIiwgW1xuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpXG4gICAgICAgIF0pO1xuICAgIH07XG59O1xuXG4vKipcbiAqIFJlcXVlc3RzIHRoZSBuYW1lcyBvZiB0aGUgb3duZWQgcHJvcGVydGllcyBvZiBhIHByb21pc2VkXG4gKiBvYmplY3QgaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgb2JqZWN0XG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSBrZXlzIG9mIHRoZSBldmVudHVhbGx5IHNldHRsZWQgb2JqZWN0XG4gKi9cblEua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwia2V5c1wiLCBbXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwia2V5c1wiLCBbXSk7XG59O1xuXG4vKipcbiAqIFR1cm5zIGFuIGFycmF5IG9mIHByb21pc2VzIGludG8gYSBwcm9taXNlIGZvciBhbiBhcnJheS4gIElmIGFueSBvZlxuICogdGhlIHByb21pc2VzIGdldHMgcmVqZWN0ZWQsIHRoZSB3aG9sZSBhcnJheSBpcyByZWplY3RlZCBpbW1lZGlhdGVseS5cbiAqIEBwYXJhbSB7QXJyYXkqfSBhbiBhcnJheSAob3IgcHJvbWlzZSBmb3IgYW4gYXJyYXkpIG9mIHZhbHVlcyAob3JcbiAqIHByb21pc2VzIGZvciB2YWx1ZXMpXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIGFuIGFycmF5IG9mIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlc1xuICovXG4vLyBCeSBNYXJrIE1pbGxlclxuLy8gaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9c3RyYXdtYW46Y29uY3VycmVuY3kmcmV2PTEzMDg3NzY1MjEjYWxsZnVsZmlsbGVkXG5RLmFsbCA9IGFsbDtcbmZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICAgIHJldHVybiB3aGVuKHByb21pc2VzLCBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICAgICAgdmFyIHBlbmRpbmdDb3VudCA9IDA7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICAgIGFycmF5X3JlZHVjZShwcm9taXNlcywgZnVuY3Rpb24gKHVuZGVmaW5lZCwgcHJvbWlzZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBzbmFwc2hvdDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpc1Byb21pc2UocHJvbWlzZSkgJiZcbiAgICAgICAgICAgICAgICAoc25hcHNob3QgPSBwcm9taXNlLmluc3BlY3QoKSkuc3RhdGUgPT09IFwiZnVsZmlsbGVkXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzW2luZGV4XSA9IHNuYXBzaG90LnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICArK3BlbmRpbmdDb3VudDtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0tcGVuZGluZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShwcm9taXNlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnkoeyBpbmRleDogaW5kZXgsIHZhbHVlOiBwcm9ncmVzcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHZvaWQgMCk7XG4gICAgICAgIGlmIChwZW5kaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0pO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5hbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFsbCh0aGlzKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgcmVzb2x2ZWQgcHJvbWlzZSBvZiBhbiBhcnJheS4gUHJpb3IgcmVqZWN0ZWQgcHJvbWlzZXMgYXJlXG4gKiBpZ25vcmVkLiAgUmVqZWN0cyBvbmx5IGlmIGFsbCBwcm9taXNlcyBhcmUgcmVqZWN0ZWQuXG4gKiBAcGFyYW0ge0FycmF5Kn0gYW4gYXJyYXkgY29udGFpbmluZyB2YWx1ZXMgb3IgcHJvbWlzZXMgZm9yIHZhbHVlc1xuICogQHJldHVybnMgYSBwcm9taXNlIGZ1bGZpbGxlZCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgcmVzb2x2ZWQgcHJvbWlzZSxcbiAqIG9yIGEgcmVqZWN0ZWQgcHJvbWlzZSBpZiBhbGwgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxuICovXG5RLmFueSA9IGFueTtcblxuZnVuY3Rpb24gYW55KHByb21pc2VzKSB7XG4gICAgaWYgKHByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gUS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdmFyIGRlZmVycmVkID0gUS5kZWZlcigpO1xuICAgIHZhciBwZW5kaW5nQ291bnQgPSAwO1xuICAgIGFycmF5X3JlZHVjZShwcm9taXNlcywgZnVuY3Rpb24gKHByZXYsIGN1cnJlbnQsIGluZGV4KSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gcHJvbWlzZXNbaW5kZXhdO1xuXG4gICAgICAgIHBlbmRpbmdDb3VudCsrO1xuXG4gICAgICAgIHdoZW4ocHJvbWlzZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MpO1xuICAgICAgICBmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXN1bHQpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBvblJlamVjdGVkKCkge1xuICAgICAgICAgICAgcGVuZGluZ0NvdW50LS07XG4gICAgICAgICAgICBpZiAocGVuZGluZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJDYW4ndCBnZXQgZnVsZmlsbG1lbnQgdmFsdWUgZnJvbSBhbnkgcHJvbWlzZSwgYWxsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9taXNlcyB3ZXJlIHJlamVjdGVkLlwiXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gb25Qcm9ncmVzcyhwcm9ncmVzcykge1xuICAgICAgICAgICAgZGVmZXJyZWQubm90aWZ5KHtcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHByb2dyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHVuZGVmaW5lZCk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuYW55ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhbnkodGhpcyk7XG59O1xuXG4vKipcbiAqIFdhaXRzIGZvciBhbGwgcHJvbWlzZXMgdG8gYmUgc2V0dGxlZCwgZWl0aGVyIGZ1bGZpbGxlZCBvclxuICogcmVqZWN0ZWQuICBUaGlzIGlzIGRpc3RpbmN0IGZyb20gYGFsbGAgc2luY2UgdGhhdCB3b3VsZCBzdG9wXG4gKiB3YWl0aW5nIGF0IHRoZSBmaXJzdCByZWplY3Rpb24uICBUaGUgcHJvbWlzZSByZXR1cm5lZCBieVxuICogYGFsbFJlc29sdmVkYCB3aWxsIG5ldmVyIGJlIHJlamVjdGVkLlxuICogQHBhcmFtIHByb21pc2VzIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgKG9yIGFuIGFycmF5KSBvZiBwcm9taXNlc1xuICogKG9yIHZhbHVlcylcbiAqIEByZXR1cm4gYSBwcm9taXNlIGZvciBhbiBhcnJheSBvZiBwcm9taXNlc1xuICovXG5RLmFsbFJlc29sdmVkID0gZGVwcmVjYXRlKGFsbFJlc29sdmVkLCBcImFsbFJlc29sdmVkXCIsIFwiYWxsU2V0dGxlZFwiKTtcbmZ1bmN0aW9uIGFsbFJlc29sdmVkKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIHdoZW4ocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICBwcm9taXNlcyA9IGFycmF5X21hcChwcm9taXNlcywgUSk7XG4gICAgICAgIHJldHVybiB3aGVuKGFsbChhcnJheV9tYXAocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gd2hlbihwcm9taXNlLCBub29wLCBub29wKTtcbiAgICAgICAgfSkpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXM7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5hbGxSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYWxsUmVzb2x2ZWQodGhpcyk7XG59O1xuXG4vKipcbiAqIEBzZWUgUHJvbWlzZSNhbGxTZXR0bGVkXG4gKi9cblEuYWxsU2V0dGxlZCA9IGFsbFNldHRsZWQ7XG5mdW5jdGlvbiBhbGxTZXR0bGVkKHByb21pc2VzKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZXMpLmFsbFNldHRsZWQoKTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBhcnJheSBvZiBwcm9taXNlcyBpbnRvIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgb2YgdGhlaXIgc3RhdGVzIChhc1xuICogcmV0dXJuZWQgYnkgYGluc3BlY3RgKSB3aGVuIHRoZXkgaGF2ZSBhbGwgc2V0dGxlZC5cbiAqIEBwYXJhbSB7QXJyYXlbQW55Kl19IHZhbHVlcyBhbiBhcnJheSAob3IgcHJvbWlzZSBmb3IgYW4gYXJyYXkpIG9mIHZhbHVlcyAob3JcbiAqIHByb21pc2VzIGZvciB2YWx1ZXMpXG4gKiBAcmV0dXJucyB7QXJyYXlbU3RhdGVdfSBhbiBhcnJheSBvZiBzdGF0ZXMgZm9yIHRoZSByZXNwZWN0aXZlIHZhbHVlcy5cbiAqL1xuUHJvbWlzZS5wcm90b3R5cGUuYWxsU2V0dGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIChwcm9taXNlcykge1xuICAgICAgICByZXR1cm4gYWxsKGFycmF5X21hcChwcm9taXNlcywgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBRKHByb21pc2UpO1xuICAgICAgICAgICAgZnVuY3Rpb24gcmVnYXJkbGVzcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5pbnNwZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlZ2FyZGxlc3MsIHJlZ2FyZGxlc3MpO1xuICAgICAgICB9KSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIENhcHR1cmVzIHRoZSBmYWlsdXJlIG9mIGEgcHJvbWlzZSwgZ2l2aW5nIGFuIG9wb3J0dW5pdHkgdG8gcmVjb3ZlclxuICogd2l0aCBhIGNhbGxiYWNrLiAgSWYgdGhlIGdpdmVuIHByb21pc2UgaXMgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWRcbiAqIHByb21pc2UgaXMgZnVsZmlsbGVkLlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlIGZvciBzb21ldGhpbmdcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIGZ1bGZpbGwgdGhlIHJldHVybmVkIHByb21pc2UgaWYgdGhlXG4gKiBnaXZlbiBwcm9taXNlIGlzIHJlamVjdGVkXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGNhbGxiYWNrXG4gKi9cblEuZmFpbCA9IC8vIFhYWCBsZWdhY3lcblFbXCJjYXRjaFwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIHJlamVjdGVkKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS50aGVuKHZvaWQgMCwgcmVqZWN0ZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmFpbCA9IC8vIFhYWCBsZWdhY3lcblByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAocmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgcmVqZWN0ZWQpO1xufTtcblxuLyoqXG4gKiBBdHRhY2hlcyBhIGxpc3RlbmVyIHRoYXQgY2FuIHJlc3BvbmQgdG8gcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBmcm9tIGFcbiAqIHByb21pc2UncyBvcmlnaW5hdGluZyBkZWZlcnJlZC4gVGhpcyBsaXN0ZW5lciByZWNlaXZlcyB0aGUgZXhhY3QgYXJndW1lbnRzXG4gKiBwYXNzZWQgdG8gYGBkZWZlcnJlZC5ub3RpZnlgYC5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZSBmb3Igc29tZXRoaW5nXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0byByZWNlaXZlIGFueSBwcm9ncmVzcyBub3RpZmljYXRpb25zXG4gKiBAcmV0dXJucyB0aGUgZ2l2ZW4gcHJvbWlzZSwgdW5jaGFuZ2VkXG4gKi9cblEucHJvZ3Jlc3MgPSBwcm9ncmVzcztcbmZ1bmN0aW9uIHByb2dyZXNzKG9iamVjdCwgcHJvZ3Jlc3NlZCkge1xuICAgIHJldHVybiBRKG9iamVjdCkudGhlbih2b2lkIDAsIHZvaWQgMCwgcHJvZ3Jlc3NlZCk7XG59XG5cblByb21pc2UucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24gKHByb2dyZXNzZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgdm9pZCAwLCBwcm9ncmVzc2VkKTtcbn07XG5cbi8qKlxuICogUHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gb2JzZXJ2ZSB0aGUgc2V0dGxpbmcgb2YgYSBwcm9taXNlLFxuICogcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBvciByZWplY3RlZC4gIEZvcndhcmRzXG4gKiB0aGUgcmVzb2x1dGlvbiB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aGVuIHRoZSBjYWxsYmFjayBpcyBkb25lLlxuICogVGhlIGNhbGxiYWNrIGNhbiByZXR1cm4gYSBwcm9taXNlIHRvIGRlZmVyIGNvbXBsZXRpb24uXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIG9ic2VydmUgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuXG4gKiBwcm9taXNlLCB0YWtlcyBubyBhcmd1bWVudHMuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlIHdoZW5cbiAqIGBgZmluYGAgaXMgZG9uZS5cbiAqL1xuUS5maW4gPSAvLyBYWFggbGVnYWN5XG5RW1wiZmluYWxseVwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KVtcImZpbmFsbHlcIl0oY2FsbGJhY2spO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmluID0gLy8gWFhYIGxlZ2FjeVxuUHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sgPSBRKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suZmNhbGwoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAvLyBUT0RPIGF0dGVtcHQgdG8gcmVjeWNsZSB0aGUgcmVqZWN0aW9uIHdpdGggXCJ0aGlzXCIuXG4gICAgICAgIHJldHVybiBjYWxsYmFjay5mY2FsbCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogVGVybWluYXRlcyBhIGNoYWluIG9mIHByb21pc2VzLCBmb3JjaW5nIHJlamVjdGlvbnMgdG8gYmVcbiAqIHRocm93biBhcyBleGNlcHRpb25zLlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlIGF0IHRoZSBlbmQgb2YgYSBjaGFpbiBvZiBwcm9taXNlc1xuICogQHJldHVybnMgbm90aGluZ1xuICovXG5RLmRvbmUgPSBmdW5jdGlvbiAob2JqZWN0LCBmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzcykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZG9uZShmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzcyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5kb25lID0gZnVuY3Rpb24gKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzKSB7XG4gICAgdmFyIG9uVW5oYW5kbGVkRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgLy8gZm9yd2FyZCB0byBhIGZ1dHVyZSB0dXJuIHNvIHRoYXQgYGB3aGVuYGBcbiAgICAgICAgLy8gZG9lcyBub3QgY2F0Y2ggaXQgYW5kIHR1cm4gaXQgaW50byBhIHJlamVjdGlvbi5cbiAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBtYWtlU3RhY2tUcmFjZUxvbmcoZXJyb3IsIHByb21pc2UpO1xuICAgICAgICAgICAgaWYgKFEub25lcnJvcikge1xuICAgICAgICAgICAgICAgIFEub25lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gQXZvaWQgdW5uZWNlc3NhcnkgYG5leHRUaWNrYGluZyB2aWEgYW4gdW5uZWNlc3NhcnkgYHdoZW5gLlxuICAgIHZhciBwcm9taXNlID0gZnVsZmlsbGVkIHx8IHJlamVjdGVkIHx8IHByb2dyZXNzID9cbiAgICAgICAgdGhpcy50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzKSA6XG4gICAgICAgIHRoaXM7XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2VzcyAmJiBwcm9jZXNzLmRvbWFpbikge1xuICAgICAgICBvblVuaGFuZGxlZEVycm9yID0gcHJvY2Vzcy5kb21haW4uYmluZChvblVuaGFuZGxlZEVycm9yKTtcbiAgICB9XG5cbiAgICBwcm9taXNlLnRoZW4odm9pZCAwLCBvblVuaGFuZGxlZEVycm9yKTtcbn07XG5cbi8qKlxuICogQ2F1c2VzIGEgcHJvbWlzZSB0byBiZSByZWplY3RlZCBpZiBpdCBkb2VzIG5vdCBnZXQgZnVsZmlsbGVkIGJlZm9yZVxuICogc29tZSBtaWxsaXNlY29uZHMgdGltZSBvdXQuXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2VcbiAqIEBwYXJhbSB7TnVtYmVyfSBtaWxsaXNlY29uZHMgdGltZW91dFxuICogQHBhcmFtIHtBbnkqfSBjdXN0b20gZXJyb3IgbWVzc2FnZSBvciBFcnJvciBvYmplY3QgKG9wdGlvbmFsKVxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZ2l2ZW4gcHJvbWlzZSBpZiBpdCBpc1xuICogZnVsZmlsbGVkIGJlZm9yZSB0aGUgdGltZW91dCwgb3RoZXJ3aXNlIHJlamVjdGVkLlxuICovXG5RLnRpbWVvdXQgPSBmdW5jdGlvbiAob2JqZWN0LCBtcywgZXJyb3IpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLnRpbWVvdXQobXMsIGVycm9yKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRpbWVvdXQgPSBmdW5jdGlvbiAobXMsIGVycm9yKSB7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICB2YXIgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghZXJyb3IgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yKSB7XG4gICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihlcnJvciB8fCBcIlRpbWVkIG91dCBhZnRlciBcIiArIG1zICsgXCIgbXNcIik7XG4gICAgICAgICAgICBlcnJvci5jb2RlID0gXCJFVElNRURPVVRcIjtcbiAgICAgICAgfVxuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xuICAgIH0sIG1zKTtcblxuICAgIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIChleGNlcHRpb24pIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChleGNlcHRpb24pO1xuICAgIH0sIGRlZmVycmVkLm5vdGlmeSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBnaXZlbiB2YWx1ZSAob3IgcHJvbWlzZWQgdmFsdWUpLCBzb21lXG4gKiBtaWxsaXNlY29uZHMgYWZ0ZXIgaXQgcmVzb2x2ZWQuIFBhc3NlcyByZWplY3Rpb25zIGltbWVkaWF0ZWx5LlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlXG4gKiBAcGFyYW0ge051bWJlcn0gbWlsbGlzZWNvbmRzXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlIGFmdGVyIG1pbGxpc2Vjb25kc1xuICogdGltZSBoYXMgZWxhcHNlZCBzaW5jZSB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZ2l2ZW4gcHJvbWlzZS5cbiAqIElmIHRoZSBnaXZlbiBwcm9taXNlIHJlamVjdHMsIHRoYXQgaXMgcGFzc2VkIGltbWVkaWF0ZWx5LlxuICovXG5RLmRlbGF5ID0gZnVuY3Rpb24gKG9iamVjdCwgdGltZW91dCkge1xuICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHtcbiAgICAgICAgdGltZW91dCA9IG9iamVjdDtcbiAgICAgICAgb2JqZWN0ID0gdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gUShvYmplY3QpLmRlbGF5KHRpbWVvdXQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZGVsYXkgPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUGFzc2VzIGEgY29udGludWF0aW9uIHRvIGEgTm9kZSBmdW5jdGlvbiwgd2hpY2ggaXMgY2FsbGVkIHdpdGggdGhlIGdpdmVuXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgYXMgYW4gYXJyYXksIGFuZCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqXG4gKiAgICAgIFEubmZhcHBseShGUy5yZWFkRmlsZSwgW19fZmlsZW5hbWVdKVxuICogICAgICAudGhlbihmdW5jdGlvbiAoY29udGVudCkge1xuICogICAgICB9KVxuICpcbiAqL1xuUS5uZmFwcGx5ID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBhcmdzKSB7XG4gICAgcmV0dXJuIFEoY2FsbGJhY2spLm5mYXBwbHkoYXJncyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uZmFwcGx5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3MpO1xuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICB0aGlzLmZhcHBseShub2RlQXJncykuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBQYXNzZXMgYSBjb250aW51YXRpb24gdG8gYSBOb2RlIGZ1bmN0aW9uLCB3aGljaCBpcyBjYWxsZWQgd2l0aCB0aGUgZ2l2ZW5cbiAqIGFyZ3VtZW50cyBwcm92aWRlZCBpbmRpdmlkdWFsbHksIGFuZCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqIEBleGFtcGxlXG4gKiBRLm5mY2FsbChGUy5yZWFkRmlsZSwgX19maWxlbmFtZSlcbiAqIC50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7XG4gKiB9KVxuICpcbiAqL1xuUS5uZmNhbGwgPSBmdW5jdGlvbiAoY2FsbGJhY2sgLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIFEoY2FsbGJhY2spLm5mYXBwbHkoYXJncyk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uZmNhbGwgPSBmdW5jdGlvbiAoLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgIHRoaXMuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG4vKipcbiAqIFdyYXBzIGEgTm9kZUpTIGNvbnRpbnVhdGlvbiBwYXNzaW5nIGZ1bmN0aW9uIGFuZCByZXR1cm5zIGFuIGVxdWl2YWxlbnRcbiAqIHZlcnNpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqIEBleGFtcGxlXG4gKiBRLm5mYmluZChGUy5yZWFkRmlsZSwgX19maWxlbmFtZSkoXCJ1dGYtOFwiKVxuICogLnRoZW4oY29uc29sZS5sb2cpXG4gKiAuZG9uZSgpXG4gKi9cblEubmZiaW5kID1cblEuZGVub2RlaWZ5ID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLi4uYXJncyovKSB7XG4gICAgdmFyIGJhc2VBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZUFyZ3MgPSBiYXNlQXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSk7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICAgICAgUShjYWxsYmFjaykuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uZmJpbmQgPVxuUHJvbWlzZS5wcm90b3R5cGUuZGVub2RlaWZ5ID0gZnVuY3Rpb24gKC8qLi4uYXJncyovKSB7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgIGFyZ3MudW5zaGlmdCh0aGlzKTtcbiAgICByZXR1cm4gUS5kZW5vZGVpZnkuYXBwbHkodm9pZCAwLCBhcmdzKTtcbn07XG5cblEubmJpbmQgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNwIC8qLi4uYXJncyovKSB7XG4gICAgdmFyIGJhc2VBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm9kZUFyZ3MgPSBiYXNlQXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSk7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICAgICAgZnVuY3Rpb24gYm91bmQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpc3AsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgUShib3VuZCkuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5uYmluZCA9IGZ1bmN0aW9uICgvKnRoaXNwLCAuLi5hcmdzKi8pIHtcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMCk7XG4gICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgIHJldHVybiBRLm5iaW5kLmFwcGx5KHZvaWQgMCwgYXJncyk7XG59O1xuXG4vKipcbiAqIENhbGxzIGEgbWV0aG9kIG9mIGEgTm9kZS1zdHlsZSBvYmplY3QgdGhhdCBhY2NlcHRzIGEgTm9kZS1zdHlsZVxuICogY2FsbGJhY2sgd2l0aCBhIGdpdmVuIGFycmF5IG9mIGFyZ3VtZW50cywgcGx1cyBhIHByb3ZpZGVkIGNhbGxiYWNrLlxuICogQHBhcmFtIG9iamVjdCBhbiBvYmplY3QgdGhhdCBoYXMgdGhlIG5hbWVkIG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgbWV0aG9kIG9mIG9iamVjdFxuICogQHBhcmFtIHtBcnJheX0gYXJncyBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgbWV0aG9kOyB0aGUgY2FsbGJhY2tcbiAqIHdpbGwgYmUgcHJvdmlkZWQgYnkgUSBhbmQgYXBwZW5kZWQgdG8gdGhlc2UgYXJndW1lbnRzLlxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgdmFsdWUgb3IgZXJyb3JcbiAqL1xuUS5ubWFwcGx5ID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblEubnBvc3QgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCBhcmdzKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5ucG9zdChuYW1lLCBhcmdzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm5tYXBwbHkgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUHJvbWlzZS5wcm90b3R5cGUubnBvc3QgPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3MgfHwgW10pO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBub2RlQXJnc10pLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogQ2FsbHMgYSBtZXRob2Qgb2YgYSBOb2RlLXN0eWxlIG9iamVjdCB0aGF0IGFjY2VwdHMgYSBOb2RlLXN0eWxlXG4gKiBjYWxsYmFjaywgZm9yd2FyZGluZyB0aGUgZ2l2ZW4gdmFyaWFkaWMgYXJndW1lbnRzLCBwbHVzIGEgcHJvdmlkZWRcbiAqIGNhbGxiYWNrIGFyZ3VtZW50LlxuICogQHBhcmFtIG9iamVjdCBhbiBvYmplY3QgdGhhdCBoYXMgdGhlIG5hbWVkIG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgbWV0aG9kIG9mIG9iamVjdFxuICogQHBhcmFtIC4uLmFyZ3MgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIG1ldGhvZDsgdGhlIGNhbGxiYWNrIHdpbGxcbiAqIGJlIHByb3ZpZGVkIGJ5IFEgYW5kIGFwcGVuZGVkIHRvIHRoZXNlIGFyZ3VtZW50cy5cbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9yIGVycm9yXG4gKi9cblEubnNlbmQgPSAvLyBYWFggQmFzZWQgb24gTWFyayBNaWxsZXIncyBwcm9wb3NlZCBcInNlbmRcIlxuUS5ubWNhbGwgPSAvLyBYWFggQmFzZWQgb24gXCJSZWRzYW5kcm8nc1wiIHByb3Bvc2FsXG5RLm5pbnZva2UgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lIC8qLi4uYXJncyovKSB7XG4gICAgdmFyIG5vZGVBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAyKTtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICBRKG9iamVjdCkuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBub2RlQXJnc10pLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm5zZW5kID0gLy8gWFhYIEJhc2VkIG9uIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgXCJzZW5kXCJcblByb21pc2UucHJvdG90eXBlLm5tY2FsbCA9IC8vIFhYWCBCYXNlZCBvbiBcIlJlZHNhbmRybydzXCIgcHJvcG9zYWxcblByb21pc2UucHJvdG90eXBlLm5pbnZva2UgPSBmdW5jdGlvbiAobmFtZSAvKi4uLmFyZ3MqLykge1xuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgdGhpcy5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIG5vZGVBcmdzXSkuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBJZiBhIGZ1bmN0aW9uIHdvdWxkIGxpa2UgdG8gc3VwcG9ydCBib3RoIE5vZGUgY29udGludWF0aW9uLXBhc3Npbmctc3R5bGUgYW5kXG4gKiBwcm9taXNlLXJldHVybmluZy1zdHlsZSwgaXQgY2FuIGVuZCBpdHMgaW50ZXJuYWwgcHJvbWlzZSBjaGFpbiB3aXRoXG4gKiBgbm9kZWlmeShub2RlYmFjaylgLCBmb3J3YXJkaW5nIHRoZSBvcHRpb25hbCBub2RlYmFjayBhcmd1bWVudC4gIElmIHRoZSB1c2VyXG4gKiBlbGVjdHMgdG8gdXNlIGEgbm9kZWJhY2ssIHRoZSByZXN1bHQgd2lsbCBiZSBzZW50IHRoZXJlLiAgSWYgdGhleSBkbyBub3RcbiAqIHBhc3MgYSBub2RlYmFjaywgdGhleSB3aWxsIHJlY2VpdmUgdGhlIHJlc3VsdCBwcm9taXNlLlxuICogQHBhcmFtIG9iamVjdCBhIHJlc3VsdCAob3IgYSBwcm9taXNlIGZvciBhIHJlc3VsdClcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG5vZGViYWNrIGEgTm9kZS5qcy1zdHlsZSBjYWxsYmFja1xuICogQHJldHVybnMgZWl0aGVyIHRoZSBwcm9taXNlIG9yIG5vdGhpbmdcbiAqL1xuUS5ub2RlaWZ5ID0gbm9kZWlmeTtcbmZ1bmN0aW9uIG5vZGVpZnkob2JqZWN0LCBub2RlYmFjaykge1xuICAgIHJldHVybiBRKG9iamVjdCkubm9kZWlmeShub2RlYmFjayk7XG59XG5cblByb21pc2UucHJvdG90eXBlLm5vZGVpZnkgPSBmdW5jdGlvbiAobm9kZWJhY2spIHtcbiAgICBpZiAobm9kZWJhY2spIHtcbiAgICAgICAgdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbm9kZWJhY2sobnVsbCwgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbm9kZWJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn07XG5cblEubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlEubm9Db25mbGljdCBvbmx5IHdvcmtzIHdoZW4gUSBpcyB1c2VkIGFzIGEgZ2xvYmFsXCIpO1xufTtcblxuLy8gQWxsIGNvZGUgYmVmb3JlIHRoaXMgcG9pbnQgd2lsbCBiZSBmaWx0ZXJlZCBmcm9tIHN0YWNrIHRyYWNlcy5cbnZhciBxRW5kaW5nTGluZSA9IGNhcHR1cmVMaW5lKCk7XG5cbnJldHVybiBRO1xuXG59KTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl19
